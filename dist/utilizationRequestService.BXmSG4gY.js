import{N as s}from"./index.Dmn8qN4r.js";function g(e={}){const{filters:t={},page:a,limit:i,sort:n,order:r,q:u,status:c,availability_status:l,activity_design_id:d,filed_by_user_id:m,start_from:q,start_to:z,end_from:w,end_to:_,facilities_any:$,...b}=e,o={page:a,limit:i,sort:n,order:r,q:u,status:c,availability_status:l,activity_design_id:d,filed_by_user_id:m,start_from:q,start_to:z,end_from:w,end_to:_,facilities_any:$,...b,filters:{...t}};return Object.keys(o).forEach(f=>o[f]===void 0&&delete o[f]),o}function h(e){return typeof Blob<"u"&&(e instanceof Blob||e instanceof File)}function p(e,t=!0){if(typeof e=="string")return e;if(e==null)return t?"[]":"null";try{return JSON.stringify(e)}catch{return t?"[]":"null"}}function y(e={}){const t={...e};return t.facilities!==void 0&&(t.facilities=p(t.facilities,!0)),t.equipment_items!==void 0&&(t.equipment_items=p(t.equipment_items,!0)),t}const j={async create(e){const{data:t}=await s.post("/utilization-requests",y(e));return t},async getById(e){const{data:t}=await s.get(`/utilization-requests/${e}`);return t},async updateById(e,t){const{data:a}=await s.put(`/utilization-requests/${e}`,y(t));return a},async delete(e){const{data:t}=await s.delete(`/utilization-requests/${e}`);return t},async list(e={}){const t=g(e),{data:a}=await s.get("/utilization-requests",{params:t});return a},async submit(e){const{data:t}=await s.post(`/utilization-requests/${e}/submit`);return t},async approve(e,{remarks:t}={}){const{data:a}=await s.post(`/utilization-requests/${e}/approve`,{remarks:t});return a},async reject(e,{remarks:t}={}){const{data:a}=await s.post(`/utilization-requests/${e}/reject`,{remarks:t});return a},async cancel(e,{remarks:t}={}){const{data:a}=await s.post(`/utilization-requests/${e}/cancel`,{remarks:t});return a},async uploadAttachment(e,t){if(h(t)){const a=new FormData;a.append("file",t);const{data:i}=await s.post(`/utilization-requests/${e}/attachments`,a,{headers:{"Content-Type":"multipart/form-data"}});return i}else{const{data:a}=await s.post(`/utilization-requests/${e}/attachments`,{file:t});return a}},async deleteAttachment(e,t){const{data:a}=await s.delete(`/utilization-requests/${e}/attachments/${t}`);return a},async availability({start_date:e,start_time:t,end_date:a,end_time:i,facilities:n=[]}){const r={start_date:e,start_time:t,end_date:a,end_time:i,facilities:n},{data:u}=await s.get("/utilization-requests/_utils/availability",{params:r});return u},async sendEmail(e,{from_email:t,from_name:a,to:i,subject:n,html:r,text:u,attachments:c}){const l={from_email:t,from_name:a,to:i,subject:n,html:r,text:u,attachments:c},{data:d}=await s.post(`/utilization-requests/${e}/email`,l);return d}};export{j as u};
