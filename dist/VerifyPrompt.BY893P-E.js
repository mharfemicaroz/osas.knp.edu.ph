import{_ as w}from"./logo.Dx3Q79ni.js";import{u as h,r as p,c as k,x as S,y as V,a as l,b as c,d as C,e as t,f as v,g as f,t as u,k as m,l as j,m as T,q as d}from"./index.6qizARKY.js";import{T as I}from"./ToasterComponent.C0XXa3Ql.js";import{_ as N}from"./_plugin-vue_export-helper.DlAUqK2U.js";const A={class:"min-h-screen relative overflow-hidden"},O={key:0,class:"absolute inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-md"},P={class:"relative z-10 min-h-screen flex items-center justify-center p-4"},E={class:"w-full max-w-md"},R={class:"group rounded-2xl bg-white/80 backdrop-blur-xl border border-white/40 shadow-2xl ring-1 ring-black/5 hover:ring-black/10 transition"},B={class:"p-6 sm:p-7"},D={class:"mb-5 text-center"},L={class:"mt-1 text-sm font-semibold text-gray-800"},q={class:"space-y-3"},z=["disabled"],F={class:"inline-flex items-center justify-center gap-2"},G={key:0},K={key:1},U={class:"mt-4 text-xs text-gray-600 space-y-1 text-center"},W={class:"px-6 sm:px-7 pb-6"},Y={class:"flex items-center justify-between text-[11px] text-gray-500"},H=Object.assign({name:"VerifyPrompt"},{__name:"VerifyPrompt",setup(J){const i=h(),g=S(),n=p(null),a=p(0);let s=null;const o=k(()=>g.query.email||i.user?.email||"");async function b(){if(!o.value){n.value?.showToast("warning","No email found. Please go back and enter your email.");return}try{await i.resendVerification(o.value),n.value?.showToast("success","Verification email sent. Please check your inbox."),_(30)}catch(r){n.value?.showToast("warning",r.message||"Failed to resend verification email.")}}function x(){window.open("https://mail.google.com/","_blank","noopener")}function _(r){a.value=r,s&&clearInterval(s),s=setInterval(()=>{a.value>0&&(a.value-=1),a.value===0&&clearInterval(s)},1e3)}return V(()=>{s&&clearInterval(s)}),(r,e)=>{const y=T("router-link");return d(),l("div",A,[e[11]||(e[11]=c('<div class="absolute inset-0" data-v-a1c31843><div class="h-full w-full bg-cover bg-center" style="background-image:url(/images/bg.jpg)" data-v-a1c31843></div><div class="absolute inset-0 bg-gradient-to-b from-black/40 via-black/30 to-black/60" data-v-a1c31843></div><div class="absolute inset-0 backdrop-blur-sm" data-v-a1c31843></div><div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,_rgba(255,255,255,.08),_transparent_40%),radial-gradient(circle_at_80%_0,_rgba(255,255,255,.06),_transparent_35%),radial-gradient(circle_at_50%_100%,_rgba(255,255,255,.05),_transparent_45%)]" data-v-a1c31843></div></div>',1)),f(i).isLoading?(d(),l("div",O,e[0]||(e[0]=[t("div",{class:"loader"},null,-1)]))):C("",!0),t("div",P,[t("div",E,[e[9]||(e[9]=c('<div class="mb-6 text-center" data-v-a1c31843><a href="index.html" class="inline-flex items-center justify-center" data-v-a1c31843><img src="'+w+'" alt="OSAS" class="h-14 w-auto" data-v-a1c31843></a><h1 class="mt-4 text-2xl font-extrabold tracking-wide text-white" data-v-a1c31843> Office of Student Affairs &amp; Services </h1><p class="mt-1 text-primary-text/90 text-sm" data-v-a1c31843>Serve. Support. Empower.</p></div>',1)),t("div",R,[t("div",B,[t("div",D,[e[1]||(e[1]=c('<div class="inline-flex items-center gap-2" data-v-a1c31843><span class="inline-grid h-8 w-8 place-items-center rounded-full bg-primary/10" data-v-a1c31843><i class="mdi mdi-email-check-outline text-primary text-xl" data-v-a1c31843></i></span><h2 class="text-lg font-bold text-gray-900" data-v-a1c31843>Verify your email</h2></div><p class="text-xs text-gray-500 mt-2" data-v-a1c31843>We sent a verification link to</p>',2)),t("p",L,u(o.value),1)]),t("div",q,[t("button",{class:"w-full py-2.5 px-4 rounded-xl bg-primary text-white font-semibold tracking-wide shadow-md hover:shadow-lg hover:bg-tertiary transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:!o.value||a.value>0||f(i).isLoading,onClick:b},[t("span",F,[e[2]||(e[2]=t("i",{class:"mdi mdi-email-fast-outline"},null,-1)),a.value===0?(d(),l("span",G,"Resend verification email")):(d(),l("span",K,"Resend in "+u(a.value)+"s",1))])],8,z),t("button",{type:"button",class:"w-full py-2.5 px-4 rounded-xl border border-gray-300/80 bg-white/70 text-gray-800 font-semibold hover:bg-white transition",onClick:x},e[3]||(e[3]=[t("span",{class:"inline-flex items-center justify-center gap-2"},[t("i",{class:"mdi mdi-open-in-new"}),t("span",null,"Open my inbox")],-1)]))]),t("div",U,[e[7]||(e[7]=t("p",null,"Didn’t get the email? Check your spam folder or try resending.",-1)),t("p",null,[e[5]||(e[5]=m(" Entered the wrong email? ",-1)),v(y,{class:"text-primary hover:underline font-semibold",to:{name:"login"}},{default:j(()=>e[4]||(e[4]=[m("Go back to Login",-1)])),_:1,__:[4]}),e[6]||(e[6]=m(" to try again. ",-1))])])]),t("div",W,[t("div",Y,[e[8]||(e[8]=t("span",null,"OSAS Kiosk v1.0",-1)),t("span",null,"© "+u(new Date().getFullYear())+" Student Services",1)])])]),e[10]||(e[10]=t("div",{class:"mt-6 text-center text-xs text-gray-300"},[t("p",null,"After verifying, return to the app and log in.")],-1))])]),v(I,{ref_key:"toast",ref:n},null,512)])}}}),$=N(H,[["__scopeId","data-v-a1c31843"]]);export{$ as default};
