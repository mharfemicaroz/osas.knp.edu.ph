import{O as p,r as c,c as u,x as b}from"./index.C20gUimh.js";const n="appContext",C=p("appContext",()=>{const t=c("user"),e=c({id:null,name:"",logo:""});try{const o=localStorage.getItem(n);if(o){const l=JSON.parse(o);l?.mode&&(t.value=l.mode),l?.club&&(e.value={id:l.club.id||null,name:l.club.name||"",logo:l.club.logo||""})}}catch{}const a=u(()=>t.value==="club"&&!!e.value?.id),s=u(()=>a.value?e.value.id:null),r=u(()=>a.value&&e.value.name||""),v=u(()=>a.value&&e.value.logo||""),d=()=>{t.value="user",e.value={id:null,name:"",logo:""}},m=({id:o,name:l,logo:i})=>{t.value="club",e.value={id:o,name:l||"",logo:i||""}};return b([t,e],()=>{try{localStorage.setItem(n,JSON.stringify({mode:t.value,club:e.value}))}catch{}},{deep:!0}),{mode:t,club:e,isClub:a,activeClubId:s,headerName:r,headerAvatar:v,setUserContext:d,setClubContext:m}});export{C as useAppContextStore};
