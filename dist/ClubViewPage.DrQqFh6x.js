import{u as Fe,z as We,c as r,s as Ge,r as m,o as he,x as E,A as qe,l as _e,q as a,f as ee,e as t,a as o,d as x,g as p,t as n,k as h,j as ye,h as S,v as He,C as we,F as Ce,B as ke,M as Ke,P as te}from"./index.BnuXlpXQ.js";import{_ as Je,a as Ze,a1 as Ae,Z as se,l as Qe,a5 as Ye,a6 as Xe,r as et,U as tt,L as st}from"./SectionMain.PE-va7NL.js";import{u as lt}from"./club.C2MGXr5L.js";import{u as at}from"./activityDesign.eGK6HTM_.js";import{u as ot}from"./utilizationRequest.BlaViNQB.js";import{u as nt}from"./annualPlan.DmV_A6xY.js";import{b as Se}from"./imageCompression.CGjyEC1q.js";import{i as it,a as rt,b as dt,F as ct}from"./index.C4gFH7k_.js";import{i as ut,_ as mt}from"./EventDetailsModal.CyRn-iVp.js";import{_ as pt}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./appContext.6hZg6znQ.js";import"./activityDesignService.CuGX9A84.js";import"./utilizationRequestService.D7RkkLBr.js";import"./liquidationFundService.d9r-Azya.js";import"./ToasterComponent.Bhwf9USu.js";const vt={class:"relative overflow-hidden rounded-2xl border bg-white shadow-sm"},ft={class:"relative h-48 sm:h-80 md:h-[360px] w-full bg-gray-100 rounded-t-2xl overflow-hidden"},gt=["src"],bt={key:1,class:"flex h-full w-full items-center justify-center bg-gradient-to-r from-indigo-50 to-blue-50 text-indigo-500"},xt=["disabled"],ht=["disabled"],_t={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},yt=["d"],wt={class:"relative px-4 sm:px-6 pb-5"},Ct={class:"-mt-10 sm:-mt-12 flex flex-col sm:flex-row items-start sm:items-end gap-4"},kt={class:"relative h-24 w-24 sm:h-28 sm:w-28 rounded-2xl border-4 border-white bg-gray-100 overflow-hidden shadow"},At=["src"],St={key:1,class:"flex h-full w-full items-center justify-center bg-gray-200 text-gray-600 font-semibold"},$t=["disabled"],Lt=["disabled"],Ut={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Pt=["d"],jt={class:"mt-2 sm:mt-11"},Dt={class:"text-xl font-semibold text-gray-900"},Bt={class:"text-sm text-gray-500"},Nt={key:0,class:"mt-1 inline-flex items-center rounded-full bg-indigo-50 px-2 py-[2px] text-[11px] text-indigo-700 ring-1 ring-indigo-200"},Vt={class:"mt-2 text-xs text-gray-500 inline-flex items-center gap-3 flex-wrap"},Mt={key:0,class:"inline-flex items-center gap-1"},Rt={style:{width:"14px",height:"14px"},viewBox:"0 0 24 24"},It=["d"],Ot={key:1,class:"inline-flex items-center gap-1"},Et={style:{width:"14px",height:"14px"},viewBox:"0 0 24 24"},zt=["d"],Tt=["href"],Ft={key:2,class:"inline-flex items-center gap-1"},Wt={style:{width:"14px",height:"14px"},viewBox:"0 0 24 24"},Gt=["d"],qt=["href"],Ht={key:3,class:"inline-flex items-center gap-1"},Kt={style:{width:"14px",height:"14px"},viewBox:"0 0 24 24"},Jt=["d"],Zt=["href"],Qt={key:0,class:"mt-4 max-w-3xl text-sm text-gray-700 whitespace-pre-line"},Yt={class:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6"},Xt={class:"lg:col-span-2 space-y-6"},es={class:"rounded-2xl border bg-white shadow-sm"},ts={class:"border-b px-4 sm:px-6 py-3 flex items-center justify-between"},ss={class:"text-sm font-semibold text-gray-800 inline-flex items-center gap-2"},ls={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},as=["d"],os={class:"text-xs text-gray-500"},ns={class:"p-4 sm:p-6"},is={class:"flex flex-col sm:flex-row gap-2 sm:items-center"},rs={key:0,class:"mt-4 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4"},ds={key:1,class:"mt-4 text-sm text-gray-500"},cs={key:2,class:"mt-4 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4"},us=["title","onClick","onKeyup"],ms={class:"flex items-center gap-3"},ps={class:"h-10 w-10 rounded-full bg-gray-100 overflow-hidden flex items-center justify-center text-xs font-semibold text-gray-600"},vs=["src"],fs={key:1},gs={class:"min-w-0"},bs={class:"truncate text-sm font-medium text-gray-900"},xs={class:"truncate text-xs text-gray-500"},hs={class:"truncate text-xs text-gray-500"},_s={class:"mt-3 flex items-center justify-between"},ys={class:"inline-flex items-center rounded-full bg-indigo-50 px-2 py-[2px] text-[11px] text-indigo-700 ring-1 ring-indigo-200"},ws={class:"mt-2 text-[11px] text-gray-500 inline-flex items-center gap-1"},Cs={style:{width:"14px",height:"14px"},viewBox:"0 0 24 24"},ks=["d"],As={key:3,class:"mt-4 flex items-center justify-between text-xs text-gray-600"},Ss=["disabled"],$s=["disabled"],Ls={class:"space-y-6"},Us={class:"rounded-2xl border bg-white shadow-sm"},Ps={class:"border-b px-4 sm:px-6 py-3"},js={class:"text-sm font-semibold text-gray-800 inline-flex items-center gap-2"},Ds={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Bs=["d"],Ns={class:"p-4 sm:p-6 text-sm text-gray-700 space-y-2"},Vs={class:"flex items-center justify-between"},Ms={class:"text-gray-500"},Rs={class:"flex items-center justify-between"},Is={class:"text-gray-500"},Os={class:"flex items-center justify-between"},Es={class:"text-gray-500"},zs={class:"flex items-center justify-between"},Ts={class:"text-gray-500"},Fs={class:"flex items-center justify-between"},Ws={class:"text-gray-500 truncate max-w-[55%]"},Gs=["href"],qs={key:1},Hs={class:"flex items-center justify-between"},Ks={class:"text-gray-500 truncate max-w-[55%]"},Js=["href"],Zs={key:1},Qs={class:"flex items-center justify-between"},Ys={class:"text-gray-500"},Xs={class:"lg:col-span-3"},el={class:"rounded-2xl border bg-white shadow-sm"},tl={class:"border-b px-4 sm:px-6 py-3 flex items-center justify-between"},sl={class:"text-sm font-semibold text-gray-800 inline-flex items-center gap-2"},ll={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},al=["d"],ol={class:"flex items-center gap-2 text-xs"},nl={class:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200"},il={class:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200"},rl={class:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-50 text-amber-700 border border-amber-200"},dl={class:"w-4 h-4",viewBox:"0 0 24 24"},cl=["d"],ul={class:"p-4 sm:p-6"},ml={class:"w-full rounded-xl overflow-hidden border border-gray-200 bg-white"},pl="Asia/Manila",vl={__name:"ClubViewPage",setup(fl){const $e=Ge(),g=lt(),Le=Fe();We();const z=at(),T=ot(),F=nt(),Ue="https://knp.edu.ph",d=r(()=>$e.params.id),j=m(!1),le=async s=>{if(s){j.value=!0;try{await g.fetchById(s),await Promise.allSettled([z.fetchAll({status:"approved",club_id:s,limit:500,order:"ASC",sort:"date_of_implementation"},!0),T.fetchAll({status:"approved",club_id:s,limit:500,order:"ASC",sort:"start_at"},!0),F.fetchAll({status:"approved",club_id:s,limit:500,order:"ASC",sort:"approved_at"},!0)]),await N()}finally{j.value=!1}}};he(async()=>{await le(d.value)}),E(()=>d.value,async(s,e)=>{String(s)!==String(e)&&await le(s)}),he(()=>{N()}),E(()=>d.value,()=>{N()}),E(()=>Le.user?.id,()=>{N()});const v=r(()=>g.selectedClub||{}),ae=s=>s?s.startsWith?.("data:")||s.startsWith?.("http")?s:`${Ue}${s}`:"",oe=r(()=>ae(v.value.banner||"")),ne=r(()=>ae(v.value.logo||"")),ie=r(()=>v.value.name||"—"),re=r(()=>v.value.code||""),W=r(()=>v.value.category||""),de=r(()=>v.value.description||""),D=r(()=>v.value.established_at?new Date(v.value.established_at):null),C=r(()=>v.value.website||""),k=r(()=>v.value.email||""),B=r(()=>v.value.phone||""),G=r(()=>v.value.is_active!==!1),w=m(!1),Pe=m(""),N=async()=>{try{const s=d.value;if(!s){w.value=!1;return}const e=await g.checkCanEditMedia(s,{force:!0});w.value=!!e?.can_edit,Pe.value=e?.member_role||""}catch{w.value=!1}},ce=m(null),ue=m(null),V=m(!1),$=m(!1),je=async s=>{const e=s?.target?.files?.[0];if(!(!e||!d.value)){V.value=!0;try{const l=await Se(e,{maxWidth:512,maxHeight:512,quality:.8,mimeType:"image/jpeg",maxBytes:204800,asFile:!1,outName:(e.name?e.name.replace(/\.[^.]+$/,""):"logo")+".jpg"});await g.updateById(d.value,{logo:l}),g.selectedClub&&String(g.selectedClub.id)===String(d.value)&&(g.selectedClub={...g.selectedClub,logo:l})}catch(l){console.error("Upload logo failed",l)}finally{V.value=!1,s?.target&&(s.target.value="")}}},De=async s=>{const e=s?.target?.files?.[0];if(!(!e||!d.value)){$.value=!0;try{const l=await Se(e,{maxWidth:1920,maxHeight:1080,quality:.82,mimeType:"image/jpeg",maxBytes:614400,asFile:!1,outName:(e.name?e.name.replace(/\.[^.]+$/,""):"banner")+".jpg"});await g.updateById(d.value,{banner:l}),g.selectedClub&&String(g.selectedClub.id)===String(d.value)&&(g.selectedClub={...g.selectedClub,banner:l})}catch(l){console.error("Upload banner failed",l)}finally{$.value=!1,s?.target&&(s.target.value="")}}},q=r(()=>Array.isArray(v.value.users)?v.value.users:[]),me=["president","vice-president","secretary","treasurer","pio","business manager","bod","officer"],H=s=>(s??"member").toString().trim().toLowerCase()||"member",pe=s=>{const e=H(s);if(e==="member")return 999;const l=me.indexOf(e);return l===-1?me.indexOf("officer"):l},ve=s=>(s||"").split(" ").filter(Boolean).map(e=>e[0]).join("").slice(0,2).toUpperCase(),Be=s=>{if(!s)return"—";const e=new Date(s);return isNaN(e)?"—":e.toLocaleDateString()},M=m(""),L=m("all"),U=m("all"),R=s=>H(s?.UserClub?.role)!=="member",I=s=>{const e=(s??"active").toString().trim().toLowerCase();return["pending","active","inactive"].includes(e)?e:"active"},Ne=(s,e)=>{if(!e)return!0;const l=`${s.first_name||""} ${s.last_name||""}`.toLowerCase(),i=(s.username||"").toLowerCase(),c=(s.email||"").toLowerCase();return l.includes(e)||i.includes(e)||c.includes(e)},P=r(()=>{const s=M.value.trim().toLowerCase();let e=q.value.slice();return L.value==="officers"?e=e.filter(R):L.value==="members"&&(e=e.filter(l=>!R(l))),U.value!=="all"&&(e=e.filter(l=>I(l?.UserClub?.status)===U.value)),s&&(e=e.filter(l=>Ne(l,s))),e.sort((l,i)=>{const c=pe(l?.UserClub?.role),f=pe(i?.UserClub?.role);if(c!==f)return c-f;const u=(l.last_name||"").toLowerCase(),b=(i.last_name||"").toLowerCase();if(u!==b)return u.localeCompare(b);const y=(l.first_name||"").toLowerCase(),A=(i.first_name||"").toLowerCase();return y!==A?y.localeCompare(A):(l.username||"").toLowerCase().localeCompare((i.username||"").toLowerCase())})}),Ve=r(()=>(q.value||[]).filter(R).length),Me=r(()=>(q.value||[]).filter(s=>!R(s)).length),_=m(1),K=m(12);E([M,L,U],()=>{_.value=1});const fe=r(()=>Math.max(1,Math.ceil((P.value.length||0)/K.value))),Re=r(()=>{const s=(_.value-1)*K.value;return P.value.slice(s,s+K.value)}),ge=s=>{s&&window.open(`/#/profile/${s}`,"_self")},J=m(!0),Z=m(!0),Q=m(!0);function Ie(s,e=[]){try{return JSON.parse(s||"[]")}catch{return e}}function Y(s){return s==="AD"?{backgroundColor:"#1e40af",borderColor:"#1e3a8a",textColor:"#ffffff"}:s==="UR"?{backgroundColor:"#047857",borderColor:"#065f46",textColor:"#ffffff"}:{backgroundColor:"#b45309",borderColor:"#92400e",textColor:"#ffffff"}}const Oe=r(()=>{const s=[];if(J.value)for(const e of z.items.data||[]){const l=String(e?.status||"").toLowerCase(),i=Number(e?.club_id||e?.club?.id);if(l!=="approved"||Number(d.value)&&i!==Number(d.value))continue;const c=e?.date_of_implementation||e?.approved_at||e?.created_at;if(!c)continue;const{backgroundColor:f,borderColor:u,textColor:b}=Y("AD");s.push({id:`AD-${e.id}`,title:`Activity: ${e.name_of_activity||e.reference_code}`,start:c,allDay:!0,extendedProps:{type:"Activity Design",ref:e.reference_code,club:e?.club,record:e},backgroundColor:f,borderColor:u,textColor:b})}if(Z.value)for(const e of T.items.data||[]){if(String(e?.status||"").toLowerCase()!=="approved")continue;const i=Number(e?.activity_design?.club_id||e?.club_id);if(Number(d.value)&&i!==Number(d.value))continue;const c=e?.start_at||e?.approved_at||e?.created_at,f=e?.end_at||e?.start_at||e?.approved_at;if(!c)continue;const u=Array.isArray(e?.facilities)?e.facilities:Ie(e?.facilities),b=u?.length?` • ${u.join(", ")}`:"",y=e?.activity_design?.name_of_activity?` • ${e.activity_design.name_of_activity}`:"",{backgroundColor:A,borderColor:xe,textColor:O}=Y("UR");s.push({id:`UR-${e.id}`,title:`Utilization${y}${b}`,start:c,end:f,allDay:!e?.start_at||!e?.end_at,extendedProps:{type:"Utilization",ref:e.reference_code,facilities:u,record:e},backgroundColor:A,borderColor:xe,textColor:O})}if(Q.value)for(const e of F.items.data||[]){const l=String(e?.status||"").toLowerCase(),i=Number(e?.club_id||e?.club?.id);if(l!=="approved"||Number(d.value)&&i!==Number(d.value))continue;const c=e?.approved_at||e?.submitted_at||e?.created_at;if(!c)continue;const f=e?.school_year?` • SY ${e.school_year}`:"",{backgroundColor:u,borderColor:b,textColor:y}=Y("AP");s.push({id:`AP-${e.id}`,title:`Annual Plan Approved${f}`,start:c,allDay:!0,extendedProps:{type:"Annual Plan",ref:e.reference_code,record:e},backgroundColor:u,borderColor:b,textColor:y})}return s});function Ee(s){const e=!!s.el.closest(".fc-list"),l=(s.event.backgroundColor||"").trim().toLowerCase(),i=l.startsWith("#")?l.slice(1):null;let c=!0;if(i&&(i.length===6||i.length===3)){const u=i.length===3?i.split("").map(O=>O+O).join(""):i,b=parseInt(u.slice(0,2),16),y=parseInt(u.slice(2,4),16),A=parseInt(u.slice(4,6),16);c=(.299*b+.587*y+.114*A)/255<.6}e?(s.el.classList.remove("text-white"),s.el.classList.add("text-gray-900")):(s.el.classList.add("rounded-md","shadow-sm"),s.el.classList.remove("text-white","text-gray-900"),s.el.classList.add(c?"text-white":"text-gray-900"));const f=document.createElement("span");if(f.textContent=s.event.extendedProps?.type||"",e){f.className="mr-2 inline-block px-1.5 py-0.5 text-[10px] font-semibold rounded bg-slate-200 text-slate-700";const u=s.el.querySelector(".fc-list-event-title");(u?.querySelector("a")||u)?.prepend(f)}else f.className=`px-1.5 py-0.5 text-[10px] font-semibold rounded mr-1 align-middle ${c?"bg-white/20 text-white":"bg-black/10 text-gray-900"}`,s.el.prepend(f)}const ze=r(()=>({plugins:[it,rt,ut,dt],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},height:"auto",stickyHeaderDates:!0,dayMaxEvents:3,navLinks:!0,eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!0},timeZone:pl,events:Oe.value,eventDidMount:Ee,eventClick:Te})),X=m(!1),be=m(null);function Te(s){try{const e=s?.event;be.value={id:e?.id,title:e?.title,start:e?.start,end:e?.end,allDay:e?.allDay,backgroundColor:e?.backgroundColor,borderColor:e?.borderColor,textColor:e?.textColor,extendedProps:{...e?.extendedProps||{}}},X.value=!0}catch{}}return(s,e)=>(a(),qe(Je,null,{default:_e(()=>[ee(Ze,null,{default:_e(()=>[t("div",vt,[t("div",ft,[oe.value?(a(),o("img",{key:0,src:oe.value,alt:"Banner",class:"h-full w-full object-cover"},null,8,gt)):(a(),o("div",bt,e[12]||(e[12]=[t("span",{class:"text-sm"},"No banner",-1)]))),w.value?(a(),o("input",{key:2,ref_key:"bannerInput",ref:ue,type:"file",accept:"image/*",class:"absolute inset-0 opacity-0 cursor-pointer",disabled:$.value,onChange:De},null,40,xt)):x("",!0),w.value?(a(),o("button",{key:3,type:"button",class:"absolute right-3 bottom-3 inline-flex items-center gap-2 rounded-xl bg-white/90 px-3 py-1.5 text-xs shadow hover:bg-white z-10 disabled:opacity-60",disabled:$.value,onClick:e[0]||(e[0]=l=>ue.value?.click())},[(a(),o("svg",_t,[t("path",{d:p(Ae)},null,8,yt)])),t("span",null,n($.value?"Uploading…":"Change banner"),1)],8,ht)):x("",!0)]),t("div",wt,[t("div",Ct,[t("div",kt,[ne.value?(a(),o("img",{key:0,src:ne.value,alt:"Logo",class:"h-full w-full object-cover"},null,8,At)):(a(),o("div",St,n(ve(ie.value)),1)),w.value?(a(),o("input",{key:2,ref_key:"logoInput",ref:ce,type:"file",accept:"image/*",class:"hidden",disabled:V.value,onChange:je},null,40,$t)):x("",!0),w.value?(a(),o("button",{key:3,type:"button",class:"absolute right-1.5 bottom-1.5 inline-flex items-center justify-center rounded-lg bg-white/95 w-8 h-8 shadow ring-1 ring-gray-200 hover:bg-white disabled:opacity-60",disabled:V.value,onClick:e[1]||(e[1]=l=>ce.value?.click()),title:"Change logo"},[(a(),o("svg",Ut,[t("path",{d:p(Ae)},null,8,Pt)]))],8,Lt)):x("",!0)]),t("div",jt,[t("div",Dt,n(ie.value),1),t("div",Bt,"@"+n(re.value),1),W.value?(a(),o("div",Nt,n(W.value),1)):x("",!0),t("div",Vt,[D.value?(a(),o("span",Mt,[(a(),o("svg",Rt,[t("path",{d:p(se)},null,8,It)])),h(" Established "+n(D.value.toLocaleDateString()),1)])):x("",!0),C.value?(a(),o("span",Ot,[(a(),o("svg",Et,[t("path",{d:p(Qe)},null,8,zt)])),t("a",{href:C.value,target:"_self",rel:"noopener",class:"underline decoration-dotted"},n(C.value),9,Tt)])):x("",!0),k.value?(a(),o("span",Ft,[(a(),o("svg",Wt,[t("path",{d:p(Ye)},null,8,Gt)])),t("a",{href:`mailto:${k.value}`,class:"underline decoration-dotted"},n(k.value),9,qt)])):x("",!0),B.value?(a(),o("span",Ht,[(a(),o("svg",Kt,[t("path",{d:p(Xe)},null,8,Jt)])),t("a",{href:`tel:${B.value}`,class:"underline decoration-dotted"},n(B.value),9,Zt)])):x("",!0),t("span",{class:ye(["inline-flex items-center rounded-full px-2 py-[2px] text-[11px] ring-1",G.value?"bg-emerald-50 text-emerald-700 ring-emerald-200":"bg-gray-50 text-gray-700 ring-gray-200"])},n(G.value?"Active":"Inactive"),3)])])]),de.value?(a(),o("div",Qt,n(de.value),1)):x("",!0)])]),t("div",Yt,[t("div",Xt,[t("div",es,[t("div",ts,[t("h3",ss,[(a(),o("svg",ls,[t("path",{d:p(et)},null,8,as)])),e[13]||(e[13]=h(" Members ",-1))]),t("div",os,[h(n(j.value?"Loading…":`${P.value.length} member(s)`)+" ",1),e[14]||(e[14]=t("span",{class:"mx-1"},"•",-1)),h(" Officers: "+n(Ve.value)+" | Members: "+n(Me.value),1)])]),t("div",ns,[t("div",is,[S(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>M.value=l),type:"text",placeholder:"Search by name, username, or email…",class:"w-full sm:flex-1 rounded-lg border px-3 py-2 text-sm",autocomplete:"off"},null,512),[[He,M.value]]),S(t("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>L.value=l),class:"rounded-lg border px-2 py-2 text-sm"},e[15]||(e[15]=[t("option",{value:"all"},"All roles",-1),t("option",{value:"officers"},"Officers",-1),t("option",{value:"members"},"Members",-1)]),512),[[we,L.value]]),S(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>U.value=l),class:"rounded-lg border px-2 py-2 text-sm"},e[16]||(e[16]=[t("option",{value:"all"},"All statuses",-1),t("option",{value:"pending"},"pending",-1),t("option",{value:"active"},"active",-1),t("option",{value:"inactive"},"inactive",-1)]),512),[[we,U.value]])]),j.value?(a(),o("div",rs,[(a(),o(Ce,null,ke(6,l=>t("div",{key:l,class:"animate-pulse rounded-xl border p-4"},e[17]||(e[17]=[t("div",{class:"flex items-center gap-3"},[t("div",{class:"h-10 w-10 rounded-full bg-gray-200"}),t("div",{class:"flex-1"},[t("div",{class:"h-3 w-2/3 bg-gray-200 rounded mb-2"}),t("div",{class:"h-3 w-1/3 bg-gray-100 rounded"})])],-1),t("div",{class:"mt-3 h-5 w-24 bg-gray-100 rounded"},null,-1)]))),64))])):P.value.length?(a(),o("div",cs,[(a(!0),o(Ce,null,ke(Re.value,l=>(a(),o("div",{key:l.id,class:"group rounded-xl border p-4 bg-white hover:shadow-sm transition cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-300",role:"button",tabindex:"0",title:`Open profile of ${l.first_name||""} ${l.last_name||""}`,onClick:i=>ge(l.id),onKeyup:Ke(i=>ge(l.id),["enter"])},[t("div",ms,[t("div",ps,[l.avatar?(a(),o("img",{key:0,src:l.avatar,alt:"",class:"h-full w-full object-cover"},null,8,vs)):(a(),o("span",fs,n(ve(`${l.first_name||""} ${l.last_name||""}`||l.username)),1))]),t("div",gs,[t("div",bs,n(l.first_name)+" "+n(l.last_name),1),t("div",xs,"@"+n(l.username),1),t("div",hs,n(l.email),1)])]),t("div",_s,[t("span",ys,n(H(l.UserClub?.role)),1),t("span",{class:ye(["inline-flex items-center rounded-full px-2 py-[2px] text-[11px] ring-1",I(l.UserClub?.status)==="active"?"bg-emerald-50 text-emerald-700 ring-emerald-200":I(l.UserClub?.status)==="pending"?"bg-amber-50 text-amber-700 ring-amber-200":"bg-gray-50 text-gray-700 ring-gray-200"])},n(I(l.UserClub?.status)),3)]),t("div",ws,[(a(),o("svg",Cs,[t("path",{d:p(se)},null,8,ks)])),h(" since "+n(Be(l.UserClub?.joined_at)),1)])],40,us))),128))])):(a(),o("div",ds," No members found. ")),P.value.length?(a(),o("div",As,[t("button",{class:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",disabled:_.value<=1,onClick:e[5]||(e[5]=l=>_.value=_.value-1)}," Previous ",8,Ss),t("div",null,"Page "+n(_.value)+" of "+n(fe.value),1),t("button",{class:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",disabled:_.value>=fe.value,onClick:e[6]||(e[6]=l=>_.value=_.value+1)}," Next ",8,$s)])):x("",!0)])])]),t("div",Ls,[t("div",Us,[t("div",Ps,[t("h3",js,[(a(),o("svg",Ds,[t("path",{d:p(tt)},null,8,Bs)])),e[18]||(e[18]=h(" Club Info ",-1))])]),t("div",Ns,[t("div",Vs,[e[19]||(e[19]=t("span",null,"Code",-1)),t("span",Ms,"@"+n(re.value||"—"),1)]),t("div",Rs,[e[20]||(e[20]=t("span",null,"Category",-1)),t("span",Is,n(W.value||"—"),1)]),t("div",Os,[e[21]||(e[21]=t("span",null,"Status",-1)),t("span",Es,n(G.value?"Active":"Inactive"),1)]),t("div",zs,[e[22]||(e[22]=t("span",null,"Established",-1)),t("span",Ts,n(D.value?D.value.toLocaleDateString():"—"),1)]),t("div",Fs,[e[23]||(e[23]=t("span",null,"Website",-1)),t("span",Ws,[C.value?(a(),o("a",{key:0,href:C.value,target:"_self",rel:"noopener",class:"underline decoration-dotted"},n(C.value),9,Gs)):(a(),o("span",qs,"—"))])]),t("div",Hs,[e[24]||(e[24]=t("span",null,"Email",-1)),t("span",Ks,[k.value?(a(),o("a",{key:0,href:`mailto:${k.value}`,class:"underline decoration-dotted"},n(k.value),9,Js)):(a(),o("span",Zs,"—"))])]),t("div",Qs,[e[25]||(e[25]=t("span",null,"Phone",-1)),t("span",Ys,n(B.value||"—"),1)])])])]),t("div",Xs,[t("div",el,[t("div",tl,[t("h3",sl,[(a(),o("svg",ll,[t("path",{d:p(se)},null,8,al)])),e[26]||(e[26]=h(" Club Calendar ",-1))]),t("div",ol,[t("label",nl,[S(t("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=l=>J.value=l),class:"accent-blue-600"},null,512),[[te,J.value]]),e[27]||(e[27]=t("span",null,"Activities",-1))]),t("label",il,[S(t("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=l=>Z.value=l),class:"accent-emerald-600"},null,512),[[te,Z.value]]),e[28]||(e[28]=t("span",null,"Utilizations",-1))]),t("label",rl,[S(t("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=l=>Q.value=l),class:"accent-amber-600"},null,512),[[te,Q.value]]),e[29]||(e[29]=t("span",null,"Annual Plans",-1))]),t("button",{class:"px-2 py-1 bg-white border rounded inline-flex items-center gap-1",onClick:e[10]||(e[10]=l=>s.Promise.allSettled([p(z).fetchAll({status:"approved",club_id:d.value,limit:500,order:"ASC",sort:"date_of_implementation"},!0),p(T).fetchAll({status:"approved",club_id:d.value,limit:500,order:"ASC",sort:"start_at"},!0),p(F).fetchAll({status:"approved",club_id:d.value,limit:500,order:"ASC",sort:"approved_at"},!0)]))},[(a(),o("svg",dl,[t("path",{d:p(st)},null,8,cl)])),e[30]||(e[30]=h(" Refresh ",-1))])])]),t("div",ul,[t("div",ml,[ee(p(ct),{options:ze.value},null,8,["options"])]),ee(mt,{modelValue:X.value,"onUpdate:modelValue":e[11]||(e[11]=l=>X.value=l),event:be.value},null,8,["modelValue","event"]),e[31]||(e[31]=t("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3 text-sm"},[t("div",{class:"p-3 rounded-xl border bg-white shadow-sm border-blue-200"},[t("div",{class:"text-xs uppercase tracking-wide text-blue-600 mb-1"},"Legend"),t("div",{class:"flex items-center gap-2"},[t("span",{class:"w-3 h-3 rounded-sm bg-blue-600"}),h(" Activity Design")])]),t("div",{class:"p-3 rounded-xl border bg-white shadow-sm border-emerald-200"},[t("div",{class:"text-xs uppercase tracking-wide text-emerald-600 mb-1"},"Legend"),t("div",{class:"flex items-center gap-2"},[t("span",{class:"w-3 h-3 rounded-sm bg-emerald-600"}),h(" Utilization")])]),t("div",{class:"p-3 rounded-xl border bg-white shadow-sm border-amber-200"},[t("div",{class:"text-xs uppercase tracking-wide text-amber-600 mb-1"},"Legend"),t("div",{class:"flex items-center gap-2"},[t("span",{class:"w-3 h-3 rounded-sm bg-amber-600"}),h(" Annual Plan")])])],-1))])])])])]),_:1})]),_:1}))}},jl=pt(vl,[["__scopeId","data-v-436d9497"]]);export{jl as default};
