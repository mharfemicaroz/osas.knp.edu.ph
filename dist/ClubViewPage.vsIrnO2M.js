import{u as ze,c as i,s as Te,r as m,o as Fe,x as be,A as We,l as xe,q as a,f as Y,e as t,a as o,d as x,g as p,t as n,k as h,j as he,h as A,v as Ge,C as _e,F as ye,B as we,L as qe,O as X}from"./index.CE3HtnZL.js";import{_ as He,a as Ke,a1 as Ce,Z as ee,l as Je,a5 as Ze,a6 as Qe,r as Ye,U as Xe,L as et}from"./SectionMain.B1qeU-9X.js";import{u as tt}from"./club.DEuczR94.js";import{u as st}from"./activityDesign.DAb3TYYx.js";import{u as lt}from"./utilizationRequest.Dl5tdHnU.js";import{u as at}from"./annualPlan.DMeKFFUj.js";import{b as ke}from"./imageCompression.CGjyEC1q.js";import{i as ot,a as nt,b as it,F as rt}from"./index.D1Eoagpn.js";import{i as dt,_ as ct}from"./EventDetailsModal.YFed2z8s.js";import{_ as ut}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./activityDesignService.m4gWNR3O.js";import"./utilizationRequestService.mGIlY9hl.js";import"./liquidationFundService.Dm5mxxZE.js";import"./ToasterComponent.DLW6irC6.js";const mt={class:"relative overflow-hidden rounded-2xl border bg-white shadow-sm"},pt={class:"relative h-48 sm:h-80 md:h-[360px] w-full bg-gray-100 rounded-t-2xl overflow-hidden"},vt=["src"],gt={key:1,class:"flex h-full w-full items-center justify-center bg-gradient-to-r from-indigo-50 to-blue-50 text-indigo-500"},ft=["disabled"],bt=["disabled"],xt={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},ht=["d"],_t={class:"relative px-4 sm:px-6 pb-5"},yt={class:"-mt-10 sm:-mt-12 flex flex-col sm:flex-row items-start sm:items-end gap-4"},wt={class:"relative h-24 w-24 sm:h-28 sm:w-28 rounded-2xl border-4 border-white bg-gray-100 overflow-hidden shadow"},Ct=["src"],kt={key:1,class:"flex h-full w-full items-center justify-center bg-gray-200 text-gray-600 font-semibold"},At=["disabled"],St=["disabled"],Lt={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},$t=["d"],Ut={class:"mt-2 sm:mt-11"},jt={class:"text-xl font-semibold text-gray-900"},Dt={class:"text-sm text-gray-500"},Pt={key:0,class:"mt-1 inline-flex items-center rounded-full bg-indigo-50 px-2 py-[2px] text-[11px] text-indigo-700 ring-1 ring-indigo-200"},Bt={class:"mt-2 text-xs text-gray-500 inline-flex items-center gap-3 flex-wrap"},Nt={key:0,class:"inline-flex items-center gap-1"},Vt={style:{width:"14px",height:"14px"},viewBox:"0 0 24 24"},It=["d"],Mt={key:1,class:"inline-flex items-center gap-1"},Ot={style:{width:"14px",height:"14px"},viewBox:"0 0 24 24"},Rt=["d"],Et=["href"],zt={key:2,class:"inline-flex items-center gap-1"},Tt={style:{width:"14px",height:"14px"},viewBox:"0 0 24 24"},Ft=["d"],Wt=["href"],Gt={key:3,class:"inline-flex items-center gap-1"},qt={style:{width:"14px",height:"14px"},viewBox:"0 0 24 24"},Ht=["d"],Kt=["href"],Jt={key:0,class:"mt-4 max-w-3xl text-sm text-gray-700 whitespace-pre-line"},Zt={class:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6"},Qt={class:"lg:col-span-2 space-y-6"},Yt={class:"rounded-2xl border bg-white shadow-sm"},Xt={class:"border-b px-4 sm:px-6 py-3 flex items-center justify-between"},es={class:"text-sm font-semibold text-gray-800 inline-flex items-center gap-2"},ts={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},ss=["d"],ls={class:"text-xs text-gray-500"},as={class:"p-4 sm:p-6"},os={class:"flex flex-col sm:flex-row gap-2 sm:items-center"},ns={key:0,class:"mt-4 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4"},is={key:1,class:"mt-4 text-sm text-gray-500"},rs={key:2,class:"mt-4 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4"},ds=["title","onClick","onKeyup"],cs={class:"flex items-center gap-3"},us={class:"h-10 w-10 rounded-full bg-gray-100 overflow-hidden flex items-center justify-center text-xs font-semibold text-gray-600"},ms=["src"],ps={key:1},vs={class:"min-w-0"},gs={class:"truncate text-sm font-medium text-gray-900"},fs={class:"truncate text-xs text-gray-500"},bs={class:"truncate text-xs text-gray-500"},xs={class:"mt-3 flex items-center justify-between"},hs={class:"inline-flex items-center rounded-full bg-indigo-50 px-2 py-[2px] text-[11px] text-indigo-700 ring-1 ring-indigo-200"},_s={class:"mt-2 text-[11px] text-gray-500 inline-flex items-center gap-1"},ys={style:{width:"14px",height:"14px"},viewBox:"0 0 24 24"},ws=["d"],Cs={key:3,class:"mt-4 flex items-center justify-between text-xs text-gray-600"},ks=["disabled"],As=["disabled"],Ss={class:"space-y-6"},Ls={class:"rounded-2xl border bg-white shadow-sm"},$s={class:"border-b px-4 sm:px-6 py-3"},Us={class:"text-sm font-semibold text-gray-800 inline-flex items-center gap-2"},js={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Ds=["d"],Ps={class:"p-4 sm:p-6 text-sm text-gray-700 space-y-2"},Bs={class:"flex items-center justify-between"},Ns={class:"text-gray-500"},Vs={class:"flex items-center justify-between"},Is={class:"text-gray-500"},Ms={class:"flex items-center justify-between"},Os={class:"text-gray-500"},Rs={class:"flex items-center justify-between"},Es={class:"text-gray-500"},zs={class:"flex items-center justify-between"},Ts={class:"text-gray-500 truncate max-w-[55%]"},Fs=["href"],Ws={key:1},Gs={class:"flex items-center justify-between"},qs={class:"text-gray-500 truncate max-w-[55%]"},Hs=["href"],Ks={key:1},Js={class:"flex items-center justify-between"},Zs={class:"text-gray-500"},Qs={class:"lg:col-span-3"},Ys={class:"rounded-2xl border bg-white shadow-sm"},Xs={class:"border-b px-4 sm:px-6 py-3 flex items-center justify-between"},el={class:"text-sm font-semibold text-gray-800 inline-flex items-center gap-2"},tl={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},sl=["d"],ll={class:"flex items-center gap-2 text-xs"},al={class:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200"},ol={class:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200"},nl={class:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-50 text-amber-700 border border-amber-200"},il={class:"w-4 h-4",viewBox:"0 0 24 24"},rl=["d"],dl={class:"p-4 sm:p-6"},cl={class:"w-full rounded-xl overflow-hidden border border-gray-200 bg-white"},ul="Asia/Manila",ml={__name:"ClubViewPage",setup(pl){const Ae=Te(),f=tt(),Se=ze(),R=st(),E=lt(),z=at(),Le="https://knp.edu.ph",d=i(()=>Ae.params.id),j=m(!1),te=async s=>{if(s){j.value=!0;try{await f.fetchById(s),await Promise.allSettled([R.fetchAll({status:"approved",club_id:s,limit:500,order:"ASC",sort:"date_of_implementation"},!0),E.fetchAll({status:"approved",club_id:s,limit:500,order:"ASC",sort:"start_at"},!0),z.fetchAll({status:"approved",club_id:s,limit:500,order:"ASC",sort:"approved_at"},!0)])}finally{j.value=!1}}};Fe(async()=>{await te(d.value)}),be(()=>d.value,async(s,e)=>{String(s)!==String(e)&&await te(s)});const v=i(()=>f.selectedClub||{}),se=s=>s?s.startsWith?.("data:")||s.startsWith?.("http")?s:`${Le}${s}`:"",le=i(()=>se(v.value.banner||"")),ae=i(()=>se(v.value.logo||"")),oe=i(()=>v.value.name||"—"),ne=i(()=>v.value.code||""),T=i(()=>v.value.category||""),ie=i(()=>v.value.description||""),D=i(()=>v.value.established_at?new Date(v.value.established_at):null),w=i(()=>v.value.website||""),C=i(()=>v.value.email||""),P=i(()=>v.value.phone||""),F=i(()=>v.value.is_active!==!1),$e=i(()=>String(Se.user?.role||"").toLowerCase()),B=i(()=>["admin","manager","student_officer"].includes($e.value)),re=m(null),de=m(null),N=m(!1),S=m(!1),Ue=async s=>{const e=s?.target?.files?.[0];if(!(!e||!d.value)){N.value=!0;try{const l=await ke(e,{maxWidth:512,maxHeight:512,quality:.8,mimeType:"image/jpeg",maxBytes:204800,asFile:!1,outName:(e.name?e.name.replace(/\.[^.]+$/,""):"logo")+".jpg"});await f.updateById(d.value,{logo:l}),f.selectedClub&&String(f.selectedClub.id)===String(d.value)&&(f.selectedClub={...f.selectedClub,logo:l})}catch(l){console.error("Upload logo failed",l)}finally{N.value=!1,s?.target&&(s.target.value="")}}},je=async s=>{const e=s?.target?.files?.[0];if(!(!e||!d.value)){S.value=!0;try{const l=await ke(e,{maxWidth:1920,maxHeight:1080,quality:.82,mimeType:"image/jpeg",maxBytes:614400,asFile:!1,outName:(e.name?e.name.replace(/\.[^.]+$/,""):"banner")+".jpg"});await f.updateById(d.value,{banner:l}),f.selectedClub&&String(f.selectedClub.id)===String(d.value)&&(f.selectedClub={...f.selectedClub,banner:l})}catch(l){console.error("Upload banner failed",l)}finally{S.value=!1,s?.target&&(s.target.value="")}}},W=i(()=>Array.isArray(v.value.users)?v.value.users:[]),ce=["president","vice-president","secretary","treasurer","pio","business manager","bod","officer"],G=s=>(s??"member").toString().trim().toLowerCase()||"member",ue=s=>{const e=G(s);if(e==="member")return 999;const l=ce.indexOf(e);return l===-1?ce.indexOf("officer"):l},me=s=>(s||"").split(" ").filter(Boolean).map(e=>e[0]).join("").slice(0,2).toUpperCase(),De=s=>{if(!s)return"—";const e=new Date(s);return isNaN(e)?"—":e.toLocaleDateString()},V=m(""),L=m("all"),$=m("all"),I=s=>G(s?.UserClub?.role)!=="member",M=s=>{const e=(s??"active").toString().trim().toLowerCase();return["pending","active","inactive"].includes(e)?e:"active"},Pe=(s,e)=>{if(!e)return!0;const l=`${s.first_name||""} ${s.last_name||""}`.toLowerCase(),r=(s.username||"").toLowerCase(),c=(s.email||"").toLowerCase();return l.includes(e)||r.includes(e)||c.includes(e)},U=i(()=>{const s=V.value.trim().toLowerCase();let e=W.value.slice();return L.value==="officers"?e=e.filter(I):L.value==="members"&&(e=e.filter(l=>!I(l))),$.value!=="all"&&(e=e.filter(l=>M(l?.UserClub?.status)===$.value)),s&&(e=e.filter(l=>Pe(l,s))),e.sort((l,r)=>{const c=ue(l?.UserClub?.role),g=ue(r?.UserClub?.role);if(c!==g)return c-g;const u=(l.last_name||"").toLowerCase(),b=(r.last_name||"").toLowerCase();if(u!==b)return u.localeCompare(b);const y=(l.first_name||"").toLowerCase(),k=(r.first_name||"").toLowerCase();return y!==k?y.localeCompare(k):(l.username||"").toLowerCase().localeCompare((r.username||"").toLowerCase())})}),Be=i(()=>(W.value||[]).filter(I).length),Ne=i(()=>(W.value||[]).filter(s=>!I(s)).length),_=m(1),q=m(12);be([V,L,$],()=>{_.value=1});const pe=i(()=>Math.max(1,Math.ceil((U.value.length||0)/q.value))),Ve=i(()=>{const s=(_.value-1)*q.value;return U.value.slice(s,s+q.value)}),ve=s=>{s&&window.open(`/#/profile/${s}`,"_self")},H=m(!0),K=m(!0),J=m(!0);function Ie(s,e=[]){try{return JSON.parse(s||"[]")}catch{return e}}function Z(s){return s==="AD"?{backgroundColor:"#1e40af",borderColor:"#1e3a8a",textColor:"#ffffff"}:s==="UR"?{backgroundColor:"#047857",borderColor:"#065f46",textColor:"#ffffff"}:{backgroundColor:"#b45309",borderColor:"#92400e",textColor:"#ffffff"}}const Me=i(()=>{const s=[];if(H.value)for(const e of R.items.data||[]){const l=String(e?.status||"").toLowerCase(),r=Number(e?.club_id||e?.club?.id);if(l!=="approved"||Number(d.value)&&r!==Number(d.value))continue;const c=e?.date_of_implementation||e?.approved_at||e?.created_at;if(!c)continue;const{backgroundColor:g,borderColor:u,textColor:b}=Z("AD");s.push({id:`AD-${e.id}`,title:`Activity: ${e.name_of_activity||e.reference_code}`,start:c,allDay:!0,extendedProps:{type:"Activity Design",ref:e.reference_code,club:e?.club,record:e},backgroundColor:g,borderColor:u,textColor:b})}if(K.value)for(const e of E.items.data||[]){if(String(e?.status||"").toLowerCase()!=="approved")continue;const r=Number(e?.activity_design?.club_id||e?.club_id);if(Number(d.value)&&r!==Number(d.value))continue;const c=e?.start_at||e?.approved_at||e?.created_at,g=e?.end_at||e?.start_at||e?.approved_at;if(!c)continue;const u=Array.isArray(e?.facilities)?e.facilities:Ie(e?.facilities),b=u?.length?` • ${u.join(", ")}`:"",y=e?.activity_design?.name_of_activity?` • ${e.activity_design.name_of_activity}`:"",{backgroundColor:k,borderColor:fe,textColor:O}=Z("UR");s.push({id:`UR-${e.id}`,title:`Utilization${y}${b}`,start:c,end:g,allDay:!e?.start_at||!e?.end_at,extendedProps:{type:"Utilization",ref:e.reference_code,facilities:u,record:e},backgroundColor:k,borderColor:fe,textColor:O})}if(J.value)for(const e of z.items.data||[]){const l=String(e?.status||"").toLowerCase(),r=Number(e?.club_id||e?.club?.id);if(l!=="approved"||Number(d.value)&&r!==Number(d.value))continue;const c=e?.approved_at||e?.submitted_at||e?.created_at;if(!c)continue;const g=e?.school_year?` • SY ${e.school_year}`:"",{backgroundColor:u,borderColor:b,textColor:y}=Z("AP");s.push({id:`AP-${e.id}`,title:`Annual Plan Approved${g}`,start:c,allDay:!0,extendedProps:{type:"Annual Plan",ref:e.reference_code,record:e},backgroundColor:u,borderColor:b,textColor:y})}return s});function Oe(s){const e=!!s.el.closest(".fc-list"),l=(s.event.backgroundColor||"").trim().toLowerCase(),r=l.startsWith("#")?l.slice(1):null;let c=!0;if(r&&(r.length===6||r.length===3)){const u=r.length===3?r.split("").map(O=>O+O).join(""):r,b=parseInt(u.slice(0,2),16),y=parseInt(u.slice(2,4),16),k=parseInt(u.slice(4,6),16);c=(.299*b+.587*y+.114*k)/255<.6}e?(s.el.classList.remove("text-white"),s.el.classList.add("text-gray-900")):(s.el.classList.add("rounded-md","shadow-sm"),s.el.classList.remove("text-white","text-gray-900"),s.el.classList.add(c?"text-white":"text-gray-900"));const g=document.createElement("span");if(g.textContent=s.event.extendedProps?.type||"",e){g.className="mr-2 inline-block px-1.5 py-0.5 text-[10px] font-semibold rounded bg-slate-200 text-slate-700";const u=s.el.querySelector(".fc-list-event-title");(u?.querySelector("a")||u)?.prepend(g)}else g.className=`px-1.5 py-0.5 text-[10px] font-semibold rounded mr-1 align-middle ${c?"bg-white/20 text-white":"bg-black/10 text-gray-900"}`,s.el.prepend(g)}const Re=i(()=>({plugins:[ot,nt,dt,it],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},height:"auto",stickyHeaderDates:!0,dayMaxEvents:3,navLinks:!0,eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!0},timeZone:ul,events:Me.value,eventDidMount:Oe,eventClick:Ee})),Q=m(!1),ge=m(null);function Ee(s){try{const e=s?.event;ge.value={id:e?.id,title:e?.title,start:e?.start,end:e?.end,allDay:e?.allDay,backgroundColor:e?.backgroundColor,borderColor:e?.borderColor,textColor:e?.textColor,extendedProps:{...e?.extendedProps||{}}},Q.value=!0}catch{}}return(s,e)=>(a(),We(He,null,{default:xe(()=>[Y(Ke,null,{default:xe(()=>[t("div",mt,[t("div",pt,[le.value?(a(),o("img",{key:0,src:le.value,alt:"Banner",class:"h-full w-full object-cover"},null,8,vt)):(a(),o("div",gt,e[12]||(e[12]=[t("span",{class:"text-sm"},"No banner",-1)]))),B.value?(a(),o("input",{key:2,ref_key:"bannerInput",ref:de,type:"file",accept:"image/*",class:"absolute inset-0 opacity-0 cursor-pointer",disabled:S.value,onChange:je},null,40,ft)):x("",!0),B.value?(a(),o("button",{key:3,type:"button",class:"absolute right-3 bottom-3 inline-flex items-center gap-2 rounded-xl bg-white/90 px-3 py-1.5 text-xs shadow hover:bg-white z-10 disabled:opacity-60",disabled:S.value,onClick:e[0]||(e[0]=l=>de.value?.click())},[(a(),o("svg",xt,[t("path",{d:p(Ce)},null,8,ht)])),t("span",null,n(S.value?"Uploading…":"Change banner"),1)],8,bt)):x("",!0)]),t("div",_t,[t("div",yt,[t("div",wt,[ae.value?(a(),o("img",{key:0,src:ae.value,alt:"Logo",class:"h-full w-full object-cover"},null,8,Ct)):(a(),o("div",kt,n(me(oe.value)),1)),B.value?(a(),o("input",{key:2,ref_key:"logoInput",ref:re,type:"file",accept:"image/*",class:"hidden",disabled:N.value,onChange:Ue},null,40,At)):x("",!0),B.value?(a(),o("button",{key:3,type:"button",class:"absolute right-1.5 bottom-1.5 inline-flex items-center justify-center rounded-lg bg-white/95 w-8 h-8 shadow ring-1 ring-gray-200 hover:bg-white disabled:opacity-60",disabled:N.value,onClick:e[1]||(e[1]=l=>re.value?.click()),title:"Change logo"},[(a(),o("svg",Lt,[t("path",{d:p(Ce)},null,8,$t)]))],8,St)):x("",!0)]),t("div",Ut,[t("div",jt,n(oe.value),1),t("div",Dt,"@"+n(ne.value),1),T.value?(a(),o("div",Pt,n(T.value),1)):x("",!0),t("div",Bt,[D.value?(a(),o("span",Nt,[(a(),o("svg",Vt,[t("path",{d:p(ee)},null,8,It)])),h(" Established "+n(D.value.toLocaleDateString()),1)])):x("",!0),w.value?(a(),o("span",Mt,[(a(),o("svg",Ot,[t("path",{d:p(Je)},null,8,Rt)])),t("a",{href:w.value,target:"_self",rel:"noopener",class:"underline decoration-dotted"},n(w.value),9,Et)])):x("",!0),C.value?(a(),o("span",zt,[(a(),o("svg",Tt,[t("path",{d:p(Ze)},null,8,Ft)])),t("a",{href:`mailto:${C.value}`,class:"underline decoration-dotted"},n(C.value),9,Wt)])):x("",!0),P.value?(a(),o("span",Gt,[(a(),o("svg",qt,[t("path",{d:p(Qe)},null,8,Ht)])),t("a",{href:`tel:${P.value}`,class:"underline decoration-dotted"},n(P.value),9,Kt)])):x("",!0),t("span",{class:he(["inline-flex items-center rounded-full px-2 py-[2px] text-[11px] ring-1",F.value?"bg-emerald-50 text-emerald-700 ring-emerald-200":"bg-gray-50 text-gray-700 ring-gray-200"])},n(F.value?"Active":"Inactive"),3)])])]),ie.value?(a(),o("div",Jt,n(ie.value),1)):x("",!0)])]),t("div",Zt,[t("div",Qt,[t("div",Yt,[t("div",Xt,[t("h3",es,[(a(),o("svg",ts,[t("path",{d:p(Ye)},null,8,ss)])),e[13]||(e[13]=h(" Members ",-1))]),t("div",ls,[h(n(j.value?"Loading…":`${U.value.length} member(s)`)+" ",1),e[14]||(e[14]=t("span",{class:"mx-1"},"•",-1)),h(" Officers: "+n(Be.value)+" | Members: "+n(Ne.value),1)])]),t("div",as,[t("div",os,[A(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>V.value=l),type:"text",placeholder:"Search by name, username, or email…",class:"w-full sm:flex-1 rounded-lg border px-3 py-2 text-sm",autocomplete:"off"},null,512),[[Ge,V.value]]),A(t("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>L.value=l),class:"rounded-lg border px-2 py-2 text-sm"},e[15]||(e[15]=[t("option",{value:"all"},"All roles",-1),t("option",{value:"officers"},"Officers",-1),t("option",{value:"members"},"Members",-1)]),512),[[_e,L.value]]),A(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>$.value=l),class:"rounded-lg border px-2 py-2 text-sm"},e[16]||(e[16]=[t("option",{value:"all"},"All statuses",-1),t("option",{value:"pending"},"pending",-1),t("option",{value:"active"},"active",-1),t("option",{value:"inactive"},"inactive",-1)]),512),[[_e,$.value]])]),j.value?(a(),o("div",ns,[(a(),o(ye,null,we(6,l=>t("div",{key:l,class:"animate-pulse rounded-xl border p-4"},e[17]||(e[17]=[t("div",{class:"flex items-center gap-3"},[t("div",{class:"h-10 w-10 rounded-full bg-gray-200"}),t("div",{class:"flex-1"},[t("div",{class:"h-3 w-2/3 bg-gray-200 rounded mb-2"}),t("div",{class:"h-3 w-1/3 bg-gray-100 rounded"})])],-1),t("div",{class:"mt-3 h-5 w-24 bg-gray-100 rounded"},null,-1)]))),64))])):U.value.length?(a(),o("div",rs,[(a(!0),o(ye,null,we(Ve.value,l=>(a(),o("div",{key:l.id,class:"group rounded-xl border p-4 bg-white hover:shadow-sm transition cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-300",role:"button",tabindex:"0",title:`Open profile of ${l.first_name||""} ${l.last_name||""}`,onClick:r=>ve(l.id),onKeyup:qe(r=>ve(l.id),["enter"])},[t("div",cs,[t("div",us,[l.avatar?(a(),o("img",{key:0,src:l.avatar,alt:"",class:"h-full w-full object-cover"},null,8,ms)):(a(),o("span",ps,n(me(`${l.first_name||""} ${l.last_name||""}`||l.username)),1))]),t("div",vs,[t("div",gs,n(l.first_name)+" "+n(l.last_name),1),t("div",fs,"@"+n(l.username),1),t("div",bs,n(l.email),1)])]),t("div",xs,[t("span",hs,n(G(l.UserClub?.role)),1),t("span",{class:he(["inline-flex items-center rounded-full px-2 py-[2px] text-[11px] ring-1",M(l.UserClub?.status)==="active"?"bg-emerald-50 text-emerald-700 ring-emerald-200":M(l.UserClub?.status)==="pending"?"bg-amber-50 text-amber-700 ring-amber-200":"bg-gray-50 text-gray-700 ring-gray-200"])},n(M(l.UserClub?.status)),3)]),t("div",_s,[(a(),o("svg",ys,[t("path",{d:p(ee)},null,8,ws)])),h(" since "+n(De(l.UserClub?.joined_at)),1)])],40,ds))),128))])):(a(),o("div",is," No members found. ")),U.value.length?(a(),o("div",Cs,[t("button",{class:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",disabled:_.value<=1,onClick:e[5]||(e[5]=l=>_.value=_.value-1)}," Previous ",8,ks),t("div",null,"Page "+n(_.value)+" of "+n(pe.value),1),t("button",{class:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",disabled:_.value>=pe.value,onClick:e[6]||(e[6]=l=>_.value=_.value+1)}," Next ",8,As)])):x("",!0)])])]),t("div",Ss,[t("div",Ls,[t("div",$s,[t("h3",Us,[(a(),o("svg",js,[t("path",{d:p(Xe)},null,8,Ds)])),e[18]||(e[18]=h(" Club Info ",-1))])]),t("div",Ps,[t("div",Bs,[e[19]||(e[19]=t("span",null,"Code",-1)),t("span",Ns,"@"+n(ne.value||"—"),1)]),t("div",Vs,[e[20]||(e[20]=t("span",null,"Category",-1)),t("span",Is,n(T.value||"—"),1)]),t("div",Ms,[e[21]||(e[21]=t("span",null,"Status",-1)),t("span",Os,n(F.value?"Active":"Inactive"),1)]),t("div",Rs,[e[22]||(e[22]=t("span",null,"Established",-1)),t("span",Es,n(D.value?D.value.toLocaleDateString():"—"),1)]),t("div",zs,[e[23]||(e[23]=t("span",null,"Website",-1)),t("span",Ts,[w.value?(a(),o("a",{key:0,href:w.value,target:"_self",rel:"noopener",class:"underline decoration-dotted"},n(w.value),9,Fs)):(a(),o("span",Ws,"—"))])]),t("div",Gs,[e[24]||(e[24]=t("span",null,"Email",-1)),t("span",qs,[C.value?(a(),o("a",{key:0,href:`mailto:${C.value}`,class:"underline decoration-dotted"},n(C.value),9,Hs)):(a(),o("span",Ks,"—"))])]),t("div",Js,[e[25]||(e[25]=t("span",null,"Phone",-1)),t("span",Zs,n(P.value||"—"),1)])])])]),t("div",Qs,[t("div",Ys,[t("div",Xs,[t("h3",el,[(a(),o("svg",tl,[t("path",{d:p(ee)},null,8,sl)])),e[26]||(e[26]=h(" Club Calendar ",-1))]),t("div",ll,[t("label",al,[A(t("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=l=>H.value=l),class:"accent-blue-600"},null,512),[[X,H.value]]),e[27]||(e[27]=t("span",null,"Activities",-1))]),t("label",ol,[A(t("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=l=>K.value=l),class:"accent-emerald-600"},null,512),[[X,K.value]]),e[28]||(e[28]=t("span",null,"Utilizations",-1))]),t("label",nl,[A(t("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=l=>J.value=l),class:"accent-amber-600"},null,512),[[X,J.value]]),e[29]||(e[29]=t("span",null,"Annual Plans",-1))]),t("button",{class:"px-2 py-1 bg-white border rounded inline-flex items-center gap-1",onClick:e[10]||(e[10]=l=>s.Promise.allSettled([p(R).fetchAll({status:"approved",club_id:d.value,limit:500,order:"ASC",sort:"date_of_implementation"},!0),p(E).fetchAll({status:"approved",club_id:d.value,limit:500,order:"ASC",sort:"start_at"},!0),p(z).fetchAll({status:"approved",club_id:d.value,limit:500,order:"ASC",sort:"approved_at"},!0)]))},[(a(),o("svg",il,[t("path",{d:p(et)},null,8,rl)])),e[30]||(e[30]=h(" Refresh ",-1))])])]),t("div",dl,[t("div",cl,[Y(p(rt),{options:Re.value},null,8,["options"])]),Y(ct,{modelValue:Q.value,"onUpdate:modelValue":e[11]||(e[11]=l=>Q.value=l),event:ge.value},null,8,["modelValue","event"]),e[31]||(e[31]=t("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3 text-sm"},[t("div",{class:"p-3 rounded-xl border bg-white shadow-sm border-blue-200"},[t("div",{class:"text-xs uppercase tracking-wide text-blue-600 mb-1"},"Legend"),t("div",{class:"flex items-center gap-2"},[t("span",{class:"w-3 h-3 rounded-sm bg-blue-600"}),h(" Activity Design")])]),t("div",{class:"p-3 rounded-xl border bg-white shadow-sm border-emerald-200"},[t("div",{class:"text-xs uppercase tracking-wide text-emerald-600 mb-1"},"Legend"),t("div",{class:"flex items-center gap-2"},[t("span",{class:"w-3 h-3 rounded-sm bg-emerald-600"}),h(" Utilization")])]),t("div",{class:"p-3 rounded-xl border bg-white shadow-sm border-amber-200"},[t("div",{class:"text-xs uppercase tracking-wide text-amber-600 mb-1"},"Legend"),t("div",{class:"flex items-center gap-2"},[t("span",{class:"w-3 h-3 rounded-sm bg-amber-600"}),h(" Annual Plan")])])],-1))])])])])]),_:1})]),_:1}))}},$l=ut(ml,[["__scopeId","data-v-6fb076f2"]]);export{$l as default};
