import{a4 as R,a5 as ue,a6 as de,a7 as X,Z as ye,y as ve,a8 as ge,a9 as me,aa as he}from"./SectionMain.DpEcpuJe.js";import{c as h,ac as be,A as p,q as r,l as M,d as m,a as y,j,t as C,$ as H,g as k,T as W,e as i,W as f,f as B,r as x,E as D,h as ee,P as fe,L as A,D as pe,G as te,F,B as N,v as xe,_ as ke,H as we,o as Se}from"./index.6qizARKY.js";import{_ as Ce}from"./_plugin-vue_export-helper.DlAUqK2U.js";const ae={white:"bg-white text-black",primary:"bg-[var(--primary-color)] text-white",secondary:"bg-[var(--secondary-color)] text-white",tertiary:"bg-[var(--tertiary-color)] text-white",accent:"bg-[var(--accent)] text-black"},L={white:"text-black dark:text-slate-100",primary:"text-[var(--primary-color)]",secondary:"text-[var(--secondary-color)]",tertiary:"text-[var(--tertiary-color)]",accent:"text-[var(--accent)]",contrast:"dark:text-white"},$e={primary:[L.primary,"border-[var(--primary-color)]"],secondary:[L.secondary,"border-[var(--secondary-color)]"],tertiary:[L.tertiary,"border-[var(--tertiary-color)]"],accent:[L.accent,"border-[var(--accent)]"]},Be=(e,l,c,v=!1)=>{const s={ring:{primary:"ring-[var(--primary-color)]/40",secondary:"ring-[var(--secondary-color)]/40",tertiary:"ring-[var(--tertiary-color)]/40",accent:"ring-[var(--accent)]/40"},active:{primary:"bg-[var(--tertiary-color)] text-white",secondary:"bg-[var(--primary-color)] text-white",tertiary:"bg-[var(--secondary-color)] text-white",accent:"bg-[var(--accent)] text-black"},bg:{primary:"bg-[var(--primary-color)] text-white",secondary:"bg-[var(--secondary-color)] text-white",tertiary:"bg-[var(--tertiary-color)] text-white",accent:"bg-[var(--accent)] text-black"},bgHover:{primary:"hover:bg-[var(--tertiary-color)]",secondary:"hover:bg-[var(--primary-color)]",tertiary:"hover:bg-[var(--secondary-color)]",accent:"hover:bg-yellow-600"},borders:{primary:"border-[var(--primary-color)]",secondary:"border-[var(--secondary-color)]",tertiary:"border-[var(--tertiary-color)]",accent:"border-[var(--accent)]"},text:{primary:"text-[var(--primary-color)]",secondary:"text-[var(--secondary-color)]",tertiary:"text-[var(--tertiary-color)]",accent:"text-[var(--accent)]"},outlineHover:{primary:"hover:bg-[var(--primary-color)] hover:text-white",secondary:"hover:bg-[var(--secondary-color)] hover:text-white",tertiary:"hover:bg-[var(--tertiary-color)] hover:text-white",accent:"hover:bg-[var(--accent)] hover:text-black"}};if(!s.bg[e])return e;const g=l,n=[s.borders[e],s.ring[e]];return v?n.push(s.active[e]):n.push(g?s.text[e]:s.bg[e]),c&&n.push(g?s.outlineHover[e]:s.bgHover[e]),n},P={__name:"BaseButton",props:{label:{type:[String,Number],default:null},icon:{type:String,default:null},iconSize:{type:[String,Number],default:24},href:{type:String,default:null},target:{type:String,default:null},to:{type:[String,Object],default:null},type:{type:String,default:null},color:{type:String,default:"white"},as:{type:String,default:null},small:Boolean,outline:Boolean,active:Boolean,disabled:Boolean,roundedFull:Boolean},setup(e){const l=e,c=h(()=>l.as?l.as:l.to?be:l.href?"a":"button"),v=h(()=>c.value==="button"?l.type??"button":null),s=h(()=>l.small&&l.icon?"px-1":"px-2"),g=h(()=>{const n=["inline-flex","justify-center","items-center","whitespace-nowrap","focus:outline-none","transition-colors","focus:ring","duration-150","border",l.disabled?"cursor-not-allowed":"cursor-pointer",l.roundedFull?"rounded-full":"rounded",Be(l.color,l.outline,!l.disabled,l.active)];return!l.label&&l.icon?n.push("p-1"):l.small?n.push("text-sm",l.roundedFull?"px-3 py-1":"p-1"):n.push("py-2",l.roundedFull?"px-6":"px-3"),l.disabled&&n.push(l.outline?"opacity-50":"opacity-70"),n});return(n,u)=>(r(),p(H(c.value),{class:j(g.value),href:e.href,type:v.value,to:e.to,target:e.target,disabled:e.disabled},{default:M(()=>[e.icon?(r(),p(R,{key:0,path:e.icon,size:e.iconSize},null,8,["path","size"])):m("",!0),e.label?(r(),y("span",{key:1,class:j(s.value)},C(e.label),3)):m("",!0)]),_:1},8,["class","href","type","to","target","disabled"]))}},_e={__name:"IconRounded",props:{icon:{type:String,required:!0},color:{type:String,default:null},w:{type:String,default:"w-12"},h:{type:String,default:"h-12"},bg:Boolean},setup(e){return(l,c)=>(r(),p(R,{path:e.icon,w:e.w,h:e.h,size:"24",class:j(["rounded-full",e.bg?k(ae)[e.color]:[k(L)[e.color],"bg-gray-50 dark:bg-slate-800"]])},null,8,["path","w","h","class"]))}},Pe={class:"flex items-center justify-start mb-4 sm:mb-0"},Ve={class:"flex-shrink-0"},yt={__name:"SectionTitleLineWithButton",props:{icon:{type:String,default:null},title:{type:String,required:!0},main:Boolean},setup(e){return h(()=>W().default),(l,c)=>(r(),y("section",{class:j([{"pt-6":!e.main},"mb-6 flex flex-col sm:flex-row items-center justify-between"])},[i("div",Pe,[e.icon&&e.main?(r(),p(_e,{key:0,icon:e.icon,color:"light",class:"mr-3",bg:""},null,8,["icon"])):e.icon?(r(),p(R,{key:1,path:e.icon,class:"mr-2",size:"20"},null,8,["path"])):m("",!0),i("h1",{class:j([e.main?"text-3xl":"text-2xl","leading-tight"])},C(e.title),3)]),i("div",Ve,[f(l.$slots,"default",{},()=>[B(P,{icon:k(ue),color:"whiteDark"},null,8,["icon"])])])],2))}},ze={class:"checkbox"},Y={__name:"TableCheckboxCell",props:{type:{type:String,default:"td"},modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:l}){const c=e,v=l,s=x(c.modelValue);return D(s,g=>{v("update:modelValue",g)}),D(()=>c.modelValue,g=>{s.value=g}),(g,n)=>(r(),p(H(e.type),{class:"lg:w-1"},{default:M(()=>[i("label",ze,[ee(i("input",{"onUpdate:modelValue":n[0]||(n[0]=u=>s.value=u),type:"checkbox"},null,512),[[fe,s.value]]),n[1]||(n[1]=i("span",{class:"check"},null,-1))])]),_:1}))}},je=Object.assign({name:"BaseButtons"},{__name:"BaseButtons",props:{noWrap:{type:Boolean,default:!1},type:{type:String,default:"justify-start"},classAddon:{type:String,default:"mr-3 last:mr-0 mb-3"},mb:{type:String,default:"-mb-3"}},setup(e){const l=e,c=W(),v=h(()=>{const s=!!c.default,g=["flex","items-center",l.type,l.noWrap?"flex-nowrap":"flex-wrap"];l.mb&&g.push(l.mb);const n=s?c.default().map(u=>u&&u.children&&typeof u.children=="object"?A(u,{},u.children.map(b=>A(b,{class:[l.classAddon]}))):A(u,{class:[l.classAddon]})):null;return A("div",{class:g},n)});return(s,g)=>(r(),p(H(v.value)))}}),Ae={class:"relative space-y-2"},Te={class:"flex items-center justify-between"},Fe={class:"w-full border-collapse bg-white min-w-max"},Ne={class:"bg-white text-gray-700 text-sm border-b"},Le={key:0,class:"p-2 w-10 text-center"},De={class:"flex items-center justify-between"},Me={class:"font-medium"},Oe={class:"flex items-center gap-2"},Ue={key:0,class:"mt-1 p-2 border rounded bg-white shadow-md"},qe=["onUpdate:modelValue","onInput"],Re={key:1,class:"px-2 py-1 whitespace-nowrap text-right w-1"},Ie={key:0},Ee=["colspan"],He={key:0,class:"p-2 w-10 text-center","data-label":"Select"},We=["data-label"],Ge={key:0},Je={key:1},Ke={key:1,class:"px-4 py-2 whitespace-nowrap","data-label":"Action"},Qe={key:1,class:"border-t text-sm font-semibold bg-gray-50"},Ze={key:0,class:"p-2 w-10"},Xe=["data-label"],Ye={key:0},et={key:1,class:"px-4 py-2"},tt={class:"p-3 border rounded-lg bg-white text-sm flex flex-col sm:flex-row sm:justify-between sm:items-center"},at={class:"mb-2 sm:mb-0"},lt={class:"flex flex-wrap items-center gap-2"},rt=["value"],ot={__name:"BaseTable",props:{columns:{type:Array,default:()=>[]},data:{type:Object,default:()=>({total:0,totalPages:1,currentPage:1,pageSize:10,data:[]})},checkable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},showAction:{type:Boolean,default:!0}},emits:["query-change","selected","sort","filter","edit"],setup(e,{emit:l}){const c=e,v=l,s=x(null),g=pe.useLoading(),n=x(null);D(()=>c.loading,a=>{a?n.value||(n.value=g.show({container:s.value,canCancel:!1,isFullPage:!1,color:"#3b82f6",opacity:.8})):n.value&&(n.value.hide(),n.value=null)},{immediate:!0}),te(()=>{n.value&&(n.value.hide(),n.value=null)});const u=x(c.data.currentPage||1),b=x(c.data.pageSize||10),V=x(null),z=x("desc"),$=x({}),O=x({}),_=x(new Set);D(()=>c.data.currentPage,a=>u.value=a||1),D(()=>c.data.pageSize,a=>b.value=a||10);const w=h(()=>c.data||{total:0,totalPages:1,currentPage:1,pageSize:10,data:[]}),I=h(()=>w.value.data.filter(a=>Object.keys($.value).every(d=>$.value[d]?a[d]?.toString().toLowerCase().includes($.value[d].toLowerCase()):!0))),le=h(()=>_.value.size===I.value.length&&I.value.length>0),U=h(()=>w.value.totalPages||Math.ceil(w.value.total/b.value)||1),re=h(()=>{const a=U.value,d=u.value,t=2,o=[];if(a<=7)for(let S=1;S<=a;S++)o.push(S);else{o.push(1);let S=Math.max(2,d-t),Z=Math.min(a-1,d+t);S>2&&o.push("...");for(let E=S;E<=Z;E++)o.push(E);Z<a-1&&o.push("..."),o.push(a)}return o}),T=()=>{v("query-change",{page:u.value,limit:b.value,sort:V.value,order:z.value,filters:$.value})},q=a=>{a>=1&&a<=U.value&&(u.value=a,T())},oe=a=>{b.value=Number(a.target.value),u.value=1,T()},G=a=>{V.value===a?z.value=z.value==="asc"?"desc":"asc":(V.value=a,z.value="desc"),v("sort",{key:V.value,order:z.value}),T()},J=a=>{O.value[a]=!O.value[a]},K=(a,d)=>{$.value[a]=d,v("filter",$.value),T()},se=a=>{a?_.value=new Set(I.value.map(d=>d.id)):_.value.clear(),v("selected",Array.from(_.value))},ne=(a,d)=>{a?_.value.add(d.id):_.value.delete(d.id),v("selected",Array.from(_.value))},ie=a=>v("edit",a),Q=h(()=>{const a={};return c.columns.forEach(d=>{if(d.aggregate){let t=0;w.value.data.forEach(o=>{const S=parseFloat(o[d.key]);isNaN(S)||(t+=S)}),a[d.key]=t}}),a}),ce=h(()=>c.columns.some(a=>a.aggregate));return(a,d)=>(r(),y("div",Ae,[i("div",Te,[i("div",null,[f(a.$slots,"toolbar-left",{},void 0,!0)]),i("div",null,[f(a.$slots,"toolbar-right",{},void 0,!0)])]),i("div",{ref_key:"tableContainer",ref:s,class:"table-container relative rounded-lg border border-gray-200 shadow-sm bg-white"},[i("table",Fe,[i("thead",Ne,[i("tr",null,[e.checkable?(r(),y("th",Le,[B(Y,{modelValue:le.value,"onUpdate:modelValue":se},null,8,["modelValue"])])):m("",!0),(r(!0),y(F,null,N(e.columns,t=>(r(),y("th",{key:t.key,class:"px-4 py-2 text-left whitespace-nowrap"},[f(a.$slots,`header-${t.key}`,{column:t,sort:{key:V.value,order:z.value,toggle:()=>G(t.key)},filter:{value:$.value[t.key]||"",set:o=>K(t.key,o),open:!!O.value[t.key],toggle:()=>J(t.key)}},()=>[i("div",De,[i("span",Me,C(t.label),1),i("div",Oe,[t.sortable?(r(),p(P,{key:0,icon:V.value===t.key?z.value==="asc"?k(de):k(X):k(X),small:"",onClick:o=>G(t.key)},null,8,["icon","onClick"])):m("",!0),t.filterable?(r(),p(P,{key:1,icon:k(ye),small:"",onClick:o=>J(t.key)},null,8,["icon","onClick"])):m("",!0)])]),B(ke,{name:"fade"},{default:M(()=>[O.value[t.key]?(r(),y("div",Ue,[ee(i("input",{"onUpdate:modelValue":o=>$.value[t.key]=o,class:"w-full px-2 py-1 text-xs border rounded",placeholder:"Filter...",onInput:o=>K(t.key,o.target.value)},null,40,qe),[[xe,$.value[t.key]]])])):m("",!0)]),_:2},1024)],!0)]))),128)),e.showAction?(r(),y("th",Re)):m("",!0)])]),i("tbody",null,[!w.value.data.length&&!e.loading?(r(),y("tr",Ie,[i("td",{colspan:e.columns.length+(e.checkable?1:0)+(e.showAction?1:0),class:"p-6"},[f(a.$slots,"empty",{},()=>[d[2]||(d[2]=i("div",{class:"text-center text-sm text-gray-500"},"No data to display.",-1))],!0)],8,Ee)])):m("",!0),(r(!0),y(F,null,N(w.value.data,t=>(r(),y("tr",{key:t.id??t._key??JSON.stringify(t),class:"border-t text-sm hover:bg-gray-50"},[e.checkable?(r(),y("td",He,[B(Y,{modelValue:_.value.has(t.id),"onUpdate:modelValue":o=>ne(o,t)},null,8,["modelValue","onUpdate:modelValue"])])):m("",!0),(r(!0),y(F,null,N(e.columns,o=>(r(),y("td",{key:o.key,class:"px-4 py-2 whitespace-nowrap","data-label":o.label},[f(a.$slots,`cell-${o.key}`,{row:t,value:t[o.key],column:o},()=>[o.formatter?(r(),y("span",Ge,C(o.formatter(t[o.key],t)),1)):(r(),y("span",Je,C(t[o.key]??"-"),1))],!0)],8,We))),128)),e.showAction?(r(),y("td",Ke,[f(a.$slots,"cell-actions",{row:t},()=>[B(je,null,{default:M(()=>[B(P,{icon:k(ve),small:"",onClick:o=>ie(t)},null,8,["icon","onClick"])]),_:2},1024)],!0)])):m("",!0)]))),128)),ce.value?(r(),y("tr",Qe,[e.checkable?(r(),y("td",Ze)):m("",!0),(r(!0),y(F,null,N(e.columns,t=>(r(),y("td",{key:t.key,class:"px-4 py-2 whitespace-nowrap","data-label":t.label},[f(a.$slots,`aggregate-${t.key}`,{value:Q.value[t.key],column:t},()=>[t.aggregate?(r(),y("span",Ye,C(Q.value[t.key]),1)):m("",!0)],!0)],8,Xe))),128)),e.showAction?(r(),y("td",et)):m("",!0)])):m("",!0)])]),e.loading?f(a.$slots,"loading-overlay",{key:0},void 0,!0):m("",!0)],512),f(a.$slots,"pagination",{page:u.value,pageSize:b.value,total:w.value.total,totalPages:U.value,goToPage:q,setPageSize:t=>{b.value=t,u.value=1,T()}},()=>[i("div",tt,[i("span",at,C(w.value.total?(u.value-1)*b.value+1:0)+" - "+C(Math.min(u.value*b.value,w.value.total))+" of "+C(w.value.total)+" items ",1),i("div",lt,[B(P,{icon:k(ge),small:"",disabled:u.value===1,onClick:d[0]||(d[0]=t=>q(u.value-1))},null,8,["icon","disabled"]),(r(!0),y(F,null,N(re.value,(t,o)=>(r(),p(P,{key:o,active:t!=="..."&&t===u.value,label:t,small:"",disabled:t==="...",onClick:S=>t!=="..."&&q(t)},null,8,["active","label","disabled","onClick"]))),128)),B(P,{icon:k(me),small:"",disabled:u.value===U.value,onClick:d[1]||(d[1]=t=>q(u.value+1))},null,8,["icon","disabled"]),i("select",{class:"border p-1 text-sm rounded",onChange:oe,value:b.value},d[3]||(d[3]=[i("option",{value:"5"},"5 / page",-1),i("option",{value:"10"},"10 / page",-1),i("option",{value:"20"},"20 / page",-1)]),40,rt)])])],!0)]))}},vt=Ce(ot,[["__scopeId","data-v-e1b863b5"]]),st=we({name:"BaseLevel",props:{mobile:Boolean,type:{type:String,default:"justify-between"}},render(){const e=[this.type,"items-center"],l=["flex"],c=["block","md:flex"],v=["flex","items-center","justify-center"];return A("div",{class:e.concat(this.mobile?l:c)},this.$slots.default().map((s,g)=>{const n=!this.mobile&&this.$slots.default().length>g+1?v.concat(["mb-6","md:mb-0"]):v;return A("div",{class:n},[s])}))}}),nt={class:"flex flex-col md:flex-row items-center"},it={class:"text-center md:text-left md:py-2"},gt={__name:"NotificationBar",props:{icon:{type:String,default:null},outline:Boolean,color:{type:String,required:!0},autoClose:{type:Number,default:5}},setup(e){const l=e,c=h(()=>l.outline?$e[l.color]:ae[l.color]),v=x(!1);let s=null;const g=()=>{s&&(clearTimeout(s),s=null),v.value=!0},n=W(),u=h(()=>n.right);return Se(()=>{l.autoClose>0&&(s=setTimeout(()=>{g()},l.autoClose*1e3))}),te(()=>{s&&(clearTimeout(s),s=null)}),(b,V)=>v.value?m("",!0):(r(),y("div",{key:0,class:j([c.value,"px-3 py-6 md:py-3 mb-6 last:mb-0 border rounded-lg transition-colors duration-150"])},[B(st,null,{default:M(()=>[i("div",nt,[e.icon?(r(),p(R,{key:0,path:e.icon,w:"w-10 md:w-5",h:"h-10 md:h-5",size:"24",class:"md:mr-2"},null,8,["path"])):m("",!0),i("span",it,[f(b.$slots,"default")])]),u.value?f(b.$slots,"right",{key:0}):(r(),p(P,{key:1,icon:k(he),small:"","rounded-full":"",color:"white",onClick:g},null,8,["icon"]))]),_:3})],2))}},mt={__name:"Badge",props:{text:{type:String,required:!0},tone:{type:String,default:"gray"}},setup(e){const l={blue:"bg-blue-50 text-blue-700 ring-blue-200",indigo:"bg-indigo-50 text-indigo-700 ring-indigo-200",emerald:"bg-emerald-50 text-emerald-700 ring-emerald-200",red:"bg-red-50 text-red-700 ring-red-200",gray:"bg-gray-100 text-gray-700 ring-gray-200",amber:"bg-amber-50 text-amber-700 ring-amber-200"};return(c,v)=>(r(),y("span",{class:j(["inline-flex items-center rounded-full px-2 py-[2px] text-[11px] ring-1",l[e.tone]||l.gray])},C(e.text),3))}};export{vt as B,gt as _,yt as a,P as b,mt as c};
