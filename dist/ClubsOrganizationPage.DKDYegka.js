import{c as F,R as lt,z as W,q as r,l as G,d as k,a as d,j as re,t as g,A as $e,g as M,B as Be,e as t,C as he,f as R,r as p,D as te,h as V,E as st,F as ne,G as ot,H as ze,I as N,J,v as I,T as nt,K as rt,o as Ee,L as H,M as Re,k as T,N as oe,b as je,S as ge}from"./index.CgYGZj9s.js";import{a as we,m as it,b as ut,c as Ie,d as dt,e as ct,f as vt,g as Te,h as pt,_ as mt,i as bt,j as ft,k as yt,l as gt,n as xt}from"./LayoutAuthenticated.DbTG3so8.js";import{_ as ht}from"./SectionMain.CMgGFBPP.js";import{_ as wt}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./ToasterComponent.-V6TL6-2.js";const De={white:"bg-white text-black",primary:"bg-[var(--primary-color)] text-white",secondary:"bg-[var(--secondary-color)] text-white",tertiary:"bg-[var(--tertiary-color)] text-white",accent:"bg-[var(--accent)] text-black"},ve={white:"text-black dark:text-slate-100",primary:"text-[var(--primary-color)]",secondary:"text-[var(--secondary-color)]",tertiary:"text-[var(--tertiary-color)]",accent:"text-[var(--accent)]",contrast:"dark:text-white"},Ct={primary:[ve.primary,"border-[var(--primary-color)]"],secondary:[ve.secondary,"border-[var(--secondary-color)]"],tertiary:[ve.tertiary,"border-[var(--tertiary-color)]"],accent:[ve.accent,"border-[var(--accent)]"]},kt=(s,a,n,m=!1)=>{const i={ring:{primary:"ring-[var(--primary-color)]/40",secondary:"ring-[var(--secondary-color)]/40",tertiary:"ring-[var(--tertiary-color)]/40",accent:"ring-[var(--accent)]/40"},active:{primary:"bg-[var(--tertiary-color)] text-white",secondary:"bg-[var(--primary-color)] text-white",tertiary:"bg-[var(--secondary-color)] text-white",accent:"bg-[var(--accent)] text-black"},bg:{primary:"bg-[var(--primary-color)] text-white",secondary:"bg-[var(--secondary-color)] text-white",tertiary:"bg-[var(--tertiary-color)] text-white",accent:"bg-[var(--accent)] text-black"},bgHover:{primary:"hover:bg-[var(--tertiary-color)]",secondary:"hover:bg-[var(--primary-color)]",tertiary:"hover:bg-[var(--secondary-color)]",accent:"hover:bg-yellow-600"},borders:{primary:"border-[var(--primary-color)]",secondary:"border-[var(--secondary-color)]",tertiary:"border-[var(--tertiary-color)]",accent:"border-[var(--accent)]"},text:{primary:"text-[var(--primary-color)]",secondary:"text-[var(--secondary-color)]",tertiary:"text-[var(--tertiary-color)]",accent:"text-[var(--accent)]"},outlineHover:{primary:"hover:bg-[var(--primary-color)] hover:text-white",secondary:"hover:bg-[var(--secondary-color)] hover:text-white",tertiary:"hover:bg-[var(--tertiary-color)] hover:text-white",accent:"hover:bg-[var(--accent)] hover:text-black"}};if(!i.bg[s])return s;const B=a,b=[i.borders[s],i.ring[s]];return m?b.push(i.active[s]):b.push(B?i.text[s]:i.bg[s]),n&&b.push(B?i.outlineHover[s]:i.bgHover[s]),b},K={__name:"BaseButton",props:{label:{type:[String,Number],default:null},icon:{type:String,default:null},iconSize:{type:[String,Number],default:24},href:{type:String,default:null},target:{type:String,default:null},to:{type:[String,Object],default:null},type:{type:String,default:null},color:{type:String,default:"white"},as:{type:String,default:null},small:Boolean,outline:Boolean,active:Boolean,disabled:Boolean,roundedFull:Boolean},setup(s){const a=s,n=F(()=>a.as?a.as:a.to?lt:a.href?"a":"button"),m=F(()=>n.value==="button"?a.type??"button":null),i=F(()=>a.small&&a.icon?"px-1":"px-2"),B=F(()=>{const b=["inline-flex","justify-center","items-center","whitespace-nowrap","focus:outline-none","transition-colors","focus:ring","duration-150","border",a.disabled?"cursor-not-allowed":"cursor-pointer",a.roundedFull?"rounded-full":"rounded",kt(a.color,a.outline,!a.disabled,a.active)];return!a.label&&a.icon?b.push("p-1"):a.small?b.push("text-sm",a.roundedFull?"px-3 py-1":"p-1"):b.push("py-2",a.roundedFull?"px-6":"px-3"),a.disabled&&b.push(a.outline?"opacity-50":"opacity-70"),b});return(b,f)=>(r(),W($e(n.value),{class:re(B.value),href:s.href,type:m.value,to:s.to,target:s.target,disabled:s.disabled},{default:G(()=>[s.icon?(r(),W(we,{key:0,path:s.icon,size:s.iconSize},null,8,["path","size"])):k("",!0),s.label?(r(),d("span",{key:1,class:re(i.value)},g(s.label),3)):k("",!0)]),_:1},8,["class","href","type","to","target","disabled"]))}},St={__name:"IconRounded",props:{icon:{type:String,required:!0},color:{type:String,default:null},w:{type:String,default:"w-12"},h:{type:String,default:"h-12"},bg:Boolean},setup(s){return(a,n)=>(r(),W(we,{path:s.icon,w:s.w,h:s.h,size:"24",class:re(["rounded-full",s.bg?M(De)[s.color]:[M(ve)[s.color],"bg-gray-50 dark:bg-slate-800"]])},null,8,["path","w","h","class"]))}},_t={class:"flex items-center justify-start mb-4 sm:mb-0"},$t={class:"flex-shrink-0"},Bt={__name:"SectionTitleLineWithButton",props:{icon:{type:String,default:null},title:{type:String,required:!0},main:Boolean},setup(s){return F(()=>Be().default),(a,n)=>(r(),d("section",{class:re([{"pt-6":!s.main},"mb-6 flex flex-col sm:flex-row items-center justify-between"])},[t("div",_t,[s.icon&&s.main?(r(),W(St,{key:0,icon:s.icon,color:"light",class:"mr-3",bg:""},null,8,["icon"])):s.icon?(r(),W(we,{key:1,path:s.icon,class:"mr-2",size:"20"},null,8,["path"])):k("",!0),t("h1",{class:re([s.main?"text-3xl":"text-2xl","leading-tight"])},g(s.title),3)]),t("div",$t,[he(a.$slots,"default",{},()=>[R(K,{icon:M(it),color:"whiteDark"},null,8,["icon"])])])],2))}},Ut={class:"checkbox"},Oe={__name:"TableCheckboxCell",props:{type:{type:String,default:"td"},modelValue:Boolean},emits:["update:modelValue"],setup(s,{emit:a}){const n=s,m=a,i=p(n.modelValue);return te(i,B=>{m("update:modelValue",B)}),te(()=>n.modelValue,B=>{i.value=B}),(B,b)=>(r(),W($e(s.type),{class:"lg:w-1"},{default:G(()=>[t("label",Ut,[V(t("input",{"onUpdate:modelValue":b[0]||(b[0]=f=>i.value=f),type:"checkbox"},null,512),[[st,i.value]]),b[1]||(b[1]=t("span",{class:"check"},null,-1))])]),_:1}))}},At=Object.assign({name:"BaseButtons"},{__name:"BaseButtons",props:{noWrap:{type:Boolean,default:!1},type:{type:String,default:"justify-start"},classAddon:{type:String,default:"mr-3 last:mr-0 mb-3"},mb:{type:String,default:"-mb-3"}},setup(s){const a=s,n=Be(),m=F(()=>{const i=!!n.default,B=["flex","items-center",a.type,a.noWrap?"flex-nowrap":"flex-wrap"];a.mb&&B.push(a.mb);const b=i?n.default().map(f=>f&&f.children&&typeof f.children=="object"?ne(f,{},f.children.map(A=>ne(A,{class:[a.classAddon]}))):ne(f,{class:[a.classAddon]})):null;return ne("div",{class:B},b)});return(i,B)=>(r(),W($e(m.value)))}}),Vt={class:"w-full border-collapse bg-white min-w-max"},Pt={class:"bg-white text-gray-700 text-sm border-b"},Lt={key:0,class:"p-2 w-10 text-center"},Mt={class:"flex items-center justify-between"},Ft={class:"font-medium"},jt={class:"flex items-center gap-2"},It={key:0,class:"mt-1 p-2 border rounded bg-white shadow-md"},Ot=["onUpdate:modelValue","onInput"],zt={key:1,class:"px-2 py-1 whitespace-nowrap text-right w-1"},Et={key:0,class:"p-2 w-10 text-center","data-label":"Select"},Rt=["data-label"],Tt={key:0},Dt={key:1},Nt={key:1,class:"px-4 py-2 whitespace-nowrap","data-label":"Action"},Ht={key:0,class:"border-t text-sm font-semibold bg-gray-50"},Wt={key:0,class:"p-2 w-10"},Qt=["data-label"],Yt={key:0},qt={key:1,class:"px-4 py-2"},Jt={class:"p-3 border-t bg-white text-sm flex flex-col sm:flex-row sm:justify-between sm:items-center"},Kt={class:"mb-2 sm:mb-0"},Gt={class:"flex flex-wrap items-center gap-2"},Xt=["value"],Zt={__name:"BaseTable",props:{columns:Array,data:{type:Object,default:()=>({total:0,totalPages:1,currentPage:1,pageSize:10,data:[]})},checkable:Boolean,loading:{type:Boolean,default:!1},showAction:{type:Boolean,default:!0}},emits:["query-change","selected","sort","filter","edit"],setup(s,{emit:a}){const n=s,m=a,i=p(null),B=ot.useLoading(),b=p(null);te(()=>n.loading,u=>{u?b.value||(b.value=B.show({container:i.value,canCancel:!1,isFullPage:!1,color:"#3b82f6",opacity:.8})):b.value&&(b.value.hide(),b.value=null)},{immediate:!0}),ze(()=>{b.value&&(b.value.hide(),b.value=null)});const f=p(n.data.currentPage||1),A=p(n.data.pageSize||10),j=p(null),z=p("desc"),w=p({}),_=p({}),U=p(new Set);te(()=>n.data.currentPage,u=>{f.value=u||1}),te(()=>n.data.pageSize,u=>{A.value=u||10});const D=F(()=>n.data||{total:0,totalPages:1,currentPage:1,pageSize:10,data:[]}),y=F(()=>D.value.data.filter(u=>Object.keys(w.value).every($=>w.value[$]?u[$]?.toString().toLowerCase().includes(w.value[$].toLowerCase()):!0))),x=F(()=>U.value.size===y.value.length&&y.value.length>0),h=F(()=>D.value.totalPages||Math.ceil(D.value.total/A.value)||1),S=F(()=>{const u=h.value,$=f.value,v=2,C=[];if(u<=7)for(let Y=1;Y<=u;Y++)C.push(Y);else{C.push(1);let Y=Math.max(2,$-v),me=Math.min(u-1,$+v);Y>2&&C.push("...");for(let ie=Y;ie<=me;ie++)C.push(ie);me<u-1&&C.push("..."),C.push(u)}return C}),Q=()=>{m("query-change",{page:f.value,limit:A.value,sort:j.value,order:z.value,filters:w.value})},Z=u=>{u>=1&&u<=h.value&&(f.value=u,Q())},Ce=u=>{A.value=Number(u.target.value),f.value=1,Q()},ke=u=>{j.value===u?z.value=z.value==="asc"?"desc":"asc":(j.value=u,z.value="desc"),m("sort",{key:j.value,order:z.value}),Q()},pe=u=>{_.value[u]=!_.value[u]},Se=(u,$)=>{w.value[u]=$,m("filter",w.value),Q()},_e=u=>{u?U.value=new Set(y.value.map($=>$.id)):U.value.clear(),m("selected",Array.from(U.value))},ee=(u,$)=>{u?U.value.add($.id):U.value.delete($.id),m("selected",Array.from(U.value))},q=u=>{m("edit",u)},E=F(()=>{const u={};return n.columns.forEach($=>{if($.aggregate){let v=0;D.value.data.forEach(C=>{const Y=parseFloat(C[$.key]);isNaN(Y)||(v+=Y)}),u[$.key]=v}}),u}),ae=F(()=>n.columns.some(u=>u.aggregate));return(u,$)=>(r(),d("div",{ref_key:"tableContainer",ref:i,class:"table-container relative rounded-lg border border-gray-200 shadow-sm bg-white"},[t("table",Vt,[t("thead",Pt,[t("tr",null,[s.checkable?(r(),d("th",Lt,[R(Oe,{modelValue:x.value,"onUpdate:modelValue":_e},null,8,["modelValue"])])):k("",!0),(r(!0),d(N,null,J(s.columns,v=>(r(),d("th",{key:v.key,class:"px-4 py-2 text-left whitespace-nowrap"},[t("div",Mt,[t("span",Ft,g(v.label),1),t("div",jt,[v.sortable?(r(),W(K,{key:0,icon:j.value===v.key?z.value==="asc"?M(ut):M(Ie):M(Ie),small:"",onClick:C=>ke(v.key)},null,8,["icon","onClick"])):k("",!0),v.filterable?(r(),W(K,{key:1,icon:M(dt),small:"",onClick:C=>pe(v.key)},null,8,["icon","onClick"])):k("",!0)])]),R(nt,{name:"fade"},{default:G(()=>[_.value[v.key]?(r(),d("div",It,[V(t("input",{"onUpdate:modelValue":C=>w.value[v.key]=C,class:"w-full px-2 py-1 text-xs border rounded",placeholder:"Filter...",onInput:C=>Se(v.key,C.target.value)},null,40,Ot),[[I,w.value[v.key]]])])):k("",!0)]),_:2},1024)]))),128)),s.showAction?(r(),d("th",zt)):k("",!0)])]),t("tbody",null,[(r(!0),d(N,null,J(D.value.data,v=>(r(),d("tr",{key:v.id,class:"border-t text-sm hover:bg-gray-50"},[s.checkable?(r(),d("td",Et,[R(Oe,{modelValue:U.value.has(v.id),"onUpdate:modelValue":C=>ee(C,v)},null,8,["modelValue","onUpdate:modelValue"])])):k("",!0),(r(!0),d(N,null,J(s.columns,C=>(r(),d("td",{key:C.key,class:"px-4 py-2 whitespace-nowrap","data-label":C.label},[C.formatter?(r(),d("span",Tt,g(C.formatter(v[C.key],v)),1)):(r(),d("span",Dt,g(v[C.key]||"-"),1))],8,Rt))),128)),s.showAction?(r(),d("td",Nt,[he(u.$slots,"cell-actions",{row:v},()=>[R(At,null,{default:G(()=>[R(K,{icon:M(Te),small:"",onClick:C=>q(v)},null,8,["icon","onClick"])]),_:2},1024)],!0)])):k("",!0)]))),128)),ae.value?(r(),d("tr",Ht,[s.checkable?(r(),d("td",Wt)):k("",!0),(r(!0),d(N,null,J(s.columns,v=>(r(),d("td",{key:v.key,class:"px-4 py-2 whitespace-nowrap","data-label":v.label},[v.aggregate?(r(),d("span",Yt,g(E.value[v.key]),1)):k("",!0)],8,Qt))),128)),s.showAction?(r(),d("td",qt)):k("",!0)])):k("",!0)])]),t("div",Jt,[t("span",Kt,g((f.value-1)*A.value+1)+" - "+g(Math.min(f.value*A.value,D.value.total))+" of "+g(D.value.total)+" items ",1),t("div",Gt,[R(K,{icon:M(ct),small:"",disabled:f.value===1,onClick:$[0]||($[0]=v=>Z(f.value-1))},null,8,["icon","disabled"]),(r(!0),d(N,null,J(S.value,(v,C)=>(r(),W(K,{key:C,active:v!=="..."&&v===f.value,label:v,small:"",disabled:v==="...",onClick:Y=>v!=="..."&&Z(v)},null,8,["active","label","disabled","onClick"]))),128)),R(K,{icon:M(vt),small:"",disabled:f.value===h.value,onClick:$[1]||($[1]=v=>Z(f.value+1))},null,8,["icon","disabled"]),t("select",{class:"border p-1 text-sm rounded",onChange:Ce,value:A.value},$[2]||($[2]=[t("option",{value:"5"},"5 / page",-1),t("option",{value:"10"},"10 / page",-1),t("option",{value:"20"},"20 / page",-1)]),40,Xt)])])],512))}},ea=wt(Zt,[["__scopeId","data-v-b7183b3c"]]),ta=rt({name:"BaseLevel",props:{mobile:Boolean,type:{type:String,default:"justify-between"}},render(){const s=[this.type,"items-center"],a=["flex"],n=["block","md:flex"],m=["flex","items-center","justify-center"];return ne("div",{class:s.concat(this.mobile?a:n)},this.$slots.default().map((i,B)=>{const b=!this.mobile&&this.$slots.default().length>B+1?m.concat(["mb-6","md:mb-0"]):m;return ne("div",{class:b},[i])}))}}),aa={class:"flex flex-col md:flex-row items-center"},la={class:"text-center md:text-left md:py-2"},sa={__name:"NotificationBar",props:{icon:{type:String,default:null},outline:Boolean,color:{type:String,required:!0},autoClose:{type:Number,default:5}},setup(s){const a=s,n=F(()=>a.outline?Ct[a.color]:De[a.color]),m=p(!1);let i=null;const B=()=>{i&&(clearTimeout(i),i=null),m.value=!0},b=Be(),f=F(()=>b.right);return Ee(()=>{a.autoClose>0&&(i=setTimeout(()=>{B()},a.autoClose*1e3))}),ze(()=>{i&&(clearTimeout(i),i=null)}),(A,j)=>m.value?k("",!0):(r(),d("div",{key:0,class:re([n.value,"px-3 py-6 md:py-3 mb-6 last:mb-0 border rounded-lg transition-colors duration-150"])},[R(ta,null,{default:G(()=>[t("div",aa,[s.icon?(r(),W(we,{key:0,path:s.icon,w:"w-10 md:w-5",h:"h-10 md:h-5",size:"24",class:"md:mr-2"},null,8,["path"])):k("",!0),t("span",la,[he(A.$slots,"default")])]),f.value?he(A.$slots,"right",{key:0}):(r(),W(K,{key:1,icon:M(pt),small:"","rounded-full":"",color:"white",onClick:B},null,8,["icon"]))]),_:3})],2))}},X={async create(s){return(await H.post("/clubs",s)).data},async getById(s){return(await H.get(`/clubs/${s}`)).data},async updateById(s,a){return(await H.put(`/clubs/${s}`,a)).data},async delete(s){return(await H.delete(`/clubs/${s}`)).data},async list(s){return(await H.get("/clubs",{params:s})).data},async addUsers(s,a){return(await H.post(`/clubs/${s}/users`,{userIds:a})).data},async removeUser(s,a){return(await H.delete(`/clubs/${s}/users/${a}`)).data},async updateMember(s,a,n){const{data:m}=await H.patch(`/clubs/${s}/users/${a}`,n);return m}},oa=Re("club",()=>{const s=p({total:0,totalPages:1,currentPage:1,pageSize:10,data:[]}),a=p(!1),n=p(null),m=p(!1),i=p(null),B=async(y={},x=!1)=>{if(n.value=null,!(!x&&m.value))try{a.value=!0;const h=await X.list(y);Object.assign(s.value,{total:h.total||0,totalPages:h.totalPages||1,currentPage:y.page||1,pageSize:y.limit||10,data:h.data||[]}),m.value=!0}catch(h){n.value=h?.response?.message||"Failed to fetch clubs"}finally{a.value=!1}},b=async y=>{n.value=null;try{a.value=!0;const x=await X.getById(y);i.value=x}catch(x){n.value=x?.response?.message||"Failed to fetch club"}finally{a.value=!1}},f=async y=>{n.value=null;try{a.value=!0;const x=await X.create(y);s.value.data.push(x),s.value.total+=1}catch(x){n.value=x?.response?.message||"Failed to create club"}finally{a.value=!1}},A=async(y,x)=>{n.value=null;try{a.value=!0;const h=await X.updateById(y,x),S=s.value.data.findIndex(Q=>Q.id===y);S!==-1&&(s.value.data[S]=h),i.value?.id===y&&(i.value=h)}catch(h){n.value=h?.response?.message||"Failed to update club"}finally{a.value=!1}},j=async y=>{n.value=null;try{a.value=!0,await X.delete(y),s.value.data=s.value.data.filter(x=>x.id!==y),s.value.total-=1,i.value?.id===y&&(i.value=null)}catch(x){n.value=x?.response?.message||"Failed to delete club"}finally{a.value=!1}},z=async(y,x)=>{n.value=null;try{a.value=!0;const h=await X.addUsers(y,x),S=s.value.data.findIndex(Q=>Q.id===y);S!==-1&&(s.value.data[S]=h),i.value?.id===y&&(i.value=h)}catch(h){n.value=h?.response?.message||"Failed to add users to club"}finally{a.value=!1}},w=async(y,x)=>{n.value=null;try{a.value=!0,await X.removeUser(y,x),i.value?.id===y&&Array.isArray(i.value.users)&&(i.value.users=i.value.users.filter(S=>S.id!==x));const h=s.value.data.findIndex(S=>S.id===y);h!==-1&&Array.isArray(s.value.data[h].users)&&(s.value.data[h].users=s.value.data[h].users.filter(S=>S.id!==x))}catch(h){n.value=h?.response?.message||"Failed to remove user from club"}finally{a.value=!1}};async function _(y,x,h){try{a.value=!0;const S=await X.updateMember(y,x,{status:h});i.value=S}catch(S){throw n.value=S?.response?.data?.message||"Failed to update member status",S}finally{a.value=!1}}async function U(y,x,h){try{a.value=!0;const S=await X.updateMember(y,x,{role:h});i.value=S}catch(S){throw n.value=S?.response?.data?.message||"Failed to update member role",S}finally{a.value=!1}}return{clubs:s,selectedClub:i,isLoading:a,error:n,isLoaded:m,fetchAll:B,fetchById:b,create:f,updateById:A,deleteById:j,addUsersToClub:z,removeUserFromClub:w,updateMemberRole:U,updateMemberStatus:_,resetStore:()=>{s.value={total:0,totalPages:1,currentPage:1,pageSize:10,data:[]},i.value=null,m.value=!1,a.value=!1,n.value=null}}}),ce={async create(s){return(await H.post("/users",s)).data},async getById(s){return(await H.get(`/users/${s}`)).data},async updateById(s,a){return(await H.put(`/users/${s}`,a)).data},async delete(s){return(await H.delete(`/users/${s}`)).data},async list(s){return(await H.get("/users",{params:s})).data}},na=Re("user",()=>{const s=p({total:0,totalPages:1,currentPage:1,pageSize:10,data:[]}),a=p(!1),n=p(null),m=p(!1),i=p(null);return{users:s,selectedUser:i,isLoading:a,error:n,isLoaded:m,fetchAll:async(w={},_=!1)=>{if(n.value=null,!(!_&&m.value))try{a.value=!0;const U=await ce.list(w);Object.assign(s.value,{total:U.total||0,totalPages:U.totalPages||1,currentPage:w.page||1,pageSize:w.limit||10,data:U.data||[]}),m.value=!0}catch(U){n.value=U?.response?.message||"Failed to fetch users"}finally{a.value=!1}},fetchById:async w=>{n.value=null;try{a.value=!0;const _=await ce.getById(w);i.value=_}catch(_){n.value=_?.response?.message||"Failed to fetch user"}finally{a.value=!1}},create:async w=>{n.value=null;try{a.value=!0;const _=await ce.create(w);s.value.data.push(_),s.value.total+=1}catch(_){n.value=_?.response?.message||"Failed to create user"}finally{a.value=!1}},updateById:async(w,_)=>{n.value=null;try{a.value=!0;const U=await ce.updateById(w,_),D=s.value.data.findIndex(y=>y.id===w);D!==-1&&(s.value.data[D]=U),i.value?.id===w&&(i.value=U)}catch(U){n.value=U?.response?.message||"Failed to update user"}finally{a.value=!1}},deleteById:async w=>{n.value=null;try{a.value=!0,await ce.delete(w),s.value.data=s.value.data.filter(_=>_.id!==w),s.value.total-=1,i.value?.id===w&&(i.value=null)}catch(_){n.value=_?.response?.message||"Failed to delete user"}finally{a.value=!1}},resetStore:()=>{s.value={total:0,totalPages:1,currentPage:1,pageSize:10,data:[]},i.value=null,m.value=!1,a.value=!1,n.value=null}}}),ra={class:"flex items-center gap-2"},ia={class:"flex items-center gap-2"},ua=["onClick"],da={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},ca=["d"],va=["onClick"],pa={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},ma=["d"],ba=["onClick"],fa={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},ya=["d"],ga={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm"},xa={class:"bg-white p-4 rounded shadow-lg w-[860px] max-h-screen overflow-auto"},ha={class:"flex items-center justify-between mb-2"},wa={class:"grid grid-cols-2 gap-3 text-sm"},Ca={key:0,class:"text-red-600 text-xs mt-1"},ka={key:0,class:"text-red-600 text-xs mt-1"},Sa={class:"col-span-2"},_a={class:"flex justify-end gap-2 mt-4"},$a={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm"},Ba={class:"bg-white p-4 rounded shadow-lg w-[860px] max-h-screen overflow-auto"},Ua={class:"flex items-center justify-between mb-2"},Aa={class:"grid grid-cols-2 gap-3 text-sm"},Va={key:0,class:"text-red-600 text-xs mt-1"},Pa={key:0,class:"text-red-600 text-xs mt-1"},La={class:"col-span-2"},Ma={class:"flex justify-end gap-2 mt-4"},Fa={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm"},ja={class:"bg-white p-4 rounded shadow-lg w-[860px] max-h-screen overflow-auto"},Ia={class:"flex items-center justify-between"},Oa={class:"mt-3 flex flex-col gap-2"},za={class:"flex items-center gap-2"},Ea=["value"],Ra={class:"text-[12px] text-gray-600"},Ta={class:"mt-4"},Da={class:"relative"},Na={key:0,class:"absolute z-10 mt-1 w-full bg-white border rounded shadow max-h-64 overflow-auto"},Ha={key:0,class:"px-3 py-2 text-xs text-gray-500"},Wa=["onClick"],Qa={class:"font-medium"},Ya={class:"text-gray-500"},qa={class:"text-xs text-gray-500"},Ja={key:0,class:"px-3 py-2 text-xs text-gray-500"},Ka={key:0,class:"flex flex-wrap gap-2 mt-2"},Ga=["onClick"],Xa={class:"flex justify-end mt-2"},Za=["disabled"],el={class:"space-y-2 mt-4 max-h-[60vh] overflow-y-auto pr-2 -mr-2"},tl={class:"text-sm"},al={class:"font-semibold"},ll={class:"text-gray-500 text-xs"},sl={class:"text-gray-600 text-xs"},ol={class:"mt-1 text-xs flex flex-wrap items-center gap-3"},nl=["disabled","value","onChange"],rl=["value"],il=["disabled","value","onChange"],ul=["value"],dl={key:0,class:"text-[11px] text-gray-500"},cl=["onClick"],vl={class:"flex justify-between items-center mt-3 text-xs text-gray-600"},xe=10,gl={__name:"ClubsOrganizationPage",setup(s){const a=oa(),n=na(),m=p({page:1,limit:10}),i=async(o={},e=!0)=>{m.value={...m.value,...o},await a.fetchAll(m.value,e)};Ee(()=>i({page:1,limit:10}));const B=F(()=>({total:a.clubs.total||0,totalPages:a.clubs.totalPages||1,currentPage:a.clubs.currentPage||1,pageSize:a.clubs.pageSize||10,data:a.clubs.data||[]})),b=p(!1),f=p(null),A=p([]),j=p(1),z=p(""),w=p("all"),_=p("all"),U=["president","vice-president","secretary","treasurer","pio","business manager","bod","officer"],D=new Set([...U,"officer"]),y=[...U,"member"],x=o=>(o??"member").toString().trim().toLowerCase()||"member",h=o=>{const e=x(o);if(e==="member")return 999;const l=U.indexOf(e);return l===-1?U.indexOf("officer"):l},S=o=>{const e=x(o?.UserClub?.role);return D.has(e)},Q=["pending","active","inactive"],Z=o=>{const e=(o??"active").toString().trim().toLowerCase();return Q.includes(e)?e:"active"},Ce=o=>{const e=x(o?.UserClub?.role);return e==="member"?"member":y.includes(e)?e:"officer"},ke=(o,e)=>{if(!e)return!0;const l=`${o.first_name||""} ${o.last_name||""}`.toLowerCase(),c=(o.username||"").toLowerCase(),O=(o.email||"").toLowerCase();return l.includes(e)||c.includes(e)||O.includes(e)},pe=F(()=>{const o=z.value.trim().toLowerCase(),e=w.value,l=_.value;let c=A.value||[];return e==="officers"?c=c.filter(S):e==="members"&&(c=c.filter(O=>!S(O))),l!=="all"&&(c=c.filter(O=>Z(O?.UserClub?.status)===l)),o&&(c=c.filter(O=>ke(O,o))),c.slice().sort((O,ye)=>{const Ae=h(O.UserClub?.role),Ve=h(ye.UserClub?.role);if(Ae!==Ve)return Ae-Ve;const Pe=(O.last_name||"").toLowerCase(),Le=(ye.last_name||"").toLowerCase();if(Pe!==Le)return Pe.localeCompare(Le);const Me=(O.first_name||"").toLowerCase(),Fe=(ye.first_name||"").toLowerCase();return Me!==Fe?Me.localeCompare(Fe):(O.username||"").toLowerCase().localeCompare((ye.username||"").toLowerCase())})}),Se=F(()=>(A.value||[]).filter(S).length),_e=F(()=>(A.value||[]).filter(o=>!S(o)).length),ee=F(()=>{const o=pe.value.length,e=Math.ceil(Math.max(o,1)/xe),l=Math.min(j.value,e||1),c=(l-1)*xe,O=pe.value.slice(c,c+xe);return{total:o,totalPages:e,currentPage:l,pageSize:xe,data:O}});te([z,w,_],()=>{j.value=1});const q=p(""),E=p([]),ae=p(!1),u=p([]);let $=null;const v=o=>{const e={};return o&&(o.includes("@")?e.email=o:e.username=o,e.is_active=!0),e},C=o=>{const e=new Set((A.value||[]).map(c=>c.id)),l=new Set((u.value||[]).map(c=>c.id));return(o||[]).filter(c=>!e.has(c.id)&&!l.has(c.id))},Y=async()=>{const o=q.value.trim();if(!o){E.value=[];return}ae.value=!0;try{await n.fetchAll({page:1,limit:8,filters:v(o)},!0),E.value=C(n.users.data||[])}finally{ae.value=!1}};te(q,o=>{if(clearTimeout($),!o?.trim()){E.value=[];return}$=setTimeout(Y,250)});const me=o=>{u.value.push(o),E.value=E.value.filter(e=>e.id!==o.id),q.value=""},ie=o=>{u.value=u.value.filter(e=>e.id!==o)},Ne=async()=>{if(!u.value.length||!f.value)return;const o=u.value.map(e=>e.id);await a.addUsersToClub(f.value,o),A.value=Array.isArray(a.selectedClub?.users)?a.selectedClub.users:[],u.value=[],E.value=[],q.value="",j.value=1},ue=p(!1),P=p({name:"",code:"",category:"",description:"",is_active:!0,established_at:"",website:"",email:"",phone:""}),le=p({}),He=()=>{le.value={},Object.assign(P.value,{name:"",code:"",category:"",description:"",is_active:!0,established_at:"",website:"",email:"",phone:""}),ue.value=!0},We=()=>{const o={};return P.value.name?.trim()||(o.name="Name is required"),P.value.code?.trim()||(o.code="Code is required"),le.value=o,Object.keys(o).length===0},Qe=async()=>{if(!We())return;const o={...P.value};Object.keys(o).forEach(e=>{o[e]===""&&(o[e]=null)}),await a.create(o),ue.value=!1,await i(m.value,!0)},de=p(!1),L=p({id:null,name:"",code:"",category:"",description:"",is_active:!0,established_at:"",website:"",email:"",phone:""}),se=p({}),Ye=async o=>{se.value={},f.value=o.id,await a.fetchById(o.id);const e=a.selectedClub||o;Object.assign(L.value,{id:e.id,name:e.name||"",code:e.code||"",category:e.category||"",description:e.description||"",is_active:e.is_active??!0,established_at:e.established_at?String(e.established_at).slice(0,10):"",website:e.website||"",email:e.email||"",phone:e.phone||""}),de.value=!0},qe=()=>{const o={};return L.value.name?.trim()||(o.name="Name is required"),L.value.code?.trim()||(o.code="Code is required"),se.value=o,Object.keys(o).length===0},Je=async()=>{if(!qe())return;const{id:o,...e}=L.value,l={...e};Object.keys(l).forEach(c=>{l[c]===""&&(l[c]=null)}),await a.updateById(o,l),de.value=!1,await i(m.value,!0)},Ke=async o=>{if(!o?.id)return;(await ge.fire({title:`Delete club "${o.name}"?`,text:"This cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed&&(await a.deleteById(o.id),await i(m.value,!0),await ge.fire("Deleted!","The club has been deleted.","success"))},Ge=async o=>{f.value=o.id,j.value=1,await a.fetchById(o.id),A.value=Array.isArray(a.selectedClub?.users)?a.selectedClub.users:[],z.value="",w.value="all",_.value="all",q.value="",E.value=[],u.value=[],b.value=!0},Xe=async o=>{f.value&&(await a.removeUserFromClub(f.value,o),A.value=A.value.filter(e=>e.id!==o),q.value.trim()&&E.value.length&&(E.value=C(E.value)))},Ue=o=>{j.value=o},be=p(new Set),fe=p(new Set),Ze=async(o,e)=>{if(!f.value)return;const l=Z(e),c=Z(o.UserClub?.status);if(c!==l){be.value.add(o.id),o.UserClub||(o.UserClub={}),o.UserClub.status=l;try{await a.updateMemberStatus(f.value,o.id,l)}catch{o.UserClub.status=c,ge.fire("Update failed",a.error||"Unable to update status","error")}finally{be.value.delete(o.id)}}},et=async(o,e)=>{if(!f.value)return;const l=x(e),c=x(o.UserClub?.role);if(c!==l){fe.value.add(o.id),o.UserClub||(o.UserClub={}),o.UserClub.role=l;try{await a.updateMemberRole(f.value,o.id,l)}catch{o.UserClub.role=c,ge.fire("Update failed",a.error||"Unable to update role","error")}finally{fe.value.delete(o.id)}}},tt=[{key:"name",label:"Name",sortable:!0,filterable:!0},{key:"code",label:"Code",sortable:!0,filterable:!0},{key:"category",label:"Category",sortable:!0,filterable:!0},{key:"is_active",label:"Active",sortable:!0,formatter:o=>o?"Yes":"No"}],at=async o=>{await i(o)};return(o,e)=>(r(),d(N,null,[R(mt,null,{default:G(()=>[R(ht,null,{default:G(()=>[M(a).error?(r(),W(sa,{key:0,icon:M(bt),color:"danger"},{default:G(()=>[T(g(M(a).error),1)]),_:1},8,["icon"])):k("",!0),R(Bt,{icon:M(ft),title:"Clubs",main:""},{default:G(()=>[t("div",ra,[R(K,{icon:M(yt),color:"primary",label:"Add Club",onClick:He},null,8,["icon"]),R(K,{color:"info",label:"Refresh",onClick:e[0]||(e[0]=l=>i({page:1,limit:B.value.pageSize}))})])]),_:1},8,["icon"]),R(ea,{columns:tt,data:B.value,loading:M(a).isLoading,onQueryChange:at},{"cell-actions":G(({row:l})=>[t("div",ia,[t("button",{class:"text-blue-600 underline flex items-center gap-1",onClick:c=>Ge(l),title:"View Members"},[(r(),d("svg",da,[t("path",{d:M(gt)},null,8,ca)])),e[30]||(e[30]=T(" View ",-1))],8,ua),t("button",{class:"text-emerald-600 underline flex items-center gap-1",onClick:c=>Ye(l),title:"Edit Club"},[(r(),d("svg",pa,[t("path",{d:M(Te)},null,8,ma)])),e[31]||(e[31]=T(" Edit ",-1))],8,va),t("button",{class:"text-red-600 underline flex items-center gap-1",onClick:c=>Ke(l),title:"Delete Club"},[(r(),d("svg",fa,[t("path",{d:M(xt)},null,8,ya)])),e[32]||(e[32]=T(" Delete ",-1))],8,ba)])]),_:1},8,["data","loading"])]),_:1})]),_:1}),ue.value?(r(),d("div",ga,[t("div",xa,[t("div",ha,[e[33]||(e[33]=t("h2",{class:"text-lg font-semibold"},"Add New Club",-1)),t("button",{class:"px-3 py-1 text-xs bg-gray-200 rounded",onClick:e[1]||(e[1]=l=>ue.value=!1)},"Close")]),t("div",wa,[t("div",null,[e[34]||(e[34]=t("label",{class:"block mb-1"},[T("Name "),t("span",{class:"text-red-500"},"*")],-1)),V(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>P.value.name=l),class:"w-full border rounded px-2 py-1",placeholder:"e.g. Math Society"},null,512),[[I,P.value.name]]),le.value.name?(r(),d("p",Ca,g(le.value.name),1)):k("",!0)]),t("div",null,[e[35]||(e[35]=t("label",{class:"block mb-1"},[T("Code "),t("span",{class:"text-red-500"},"*")],-1)),V(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>P.value.code=l),class:"w-full border rounded px-2 py-1",placeholder:"e.g. MATHSOC"},null,512),[[I,P.value.code]]),le.value.code?(r(),d("p",ka,g(le.value.code),1)):k("",!0)]),t("div",null,[e[37]||(e[37]=t("label",{class:"block mb-1"},"Category",-1)),V(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>P.value.category=l),class:"w-full border rounded px-2 py-1"},e[36]||(e[36]=[je('<option disabled value="">Select a category</option><option value="Academic">Academic</option><option value="Cultural">Cultural</option><option value="Athletics">Athletics</option><option value="Social">Social</option><option value="Community Service">Community Service</option><option value="Religious/Spiritual">Religious / Spiritual</option><option value="Environmental">Environmental</option><option value="Leadership">Leadership</option><option value="Others">Others</option>',10)]),512),[[oe,P.value.category]])]),t("div",null,[e[39]||(e[39]=t("label",{class:"block mb-1"},"Active?",-1)),V(t("select",{"onUpdate:modelValue":e[5]||(e[5]=l=>P.value.is_active=l),class:"w-full border rounded px-2 py-1"},e[38]||(e[38]=[t("option",{value:!0},"Yes",-1),t("option",{value:!1},"No",-1)]),512),[[oe,P.value.is_active]])]),t("div",Sa,[e[40]||(e[40]=t("label",{class:"block mb-1"},"Description",-1)),V(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=l=>P.value.description=l),class:"w-full border rounded px-2 py-1",rows:"3"},null,512),[[I,P.value.description]])]),t("div",null,[e[41]||(e[41]=t("label",{class:"block mb-1"},"Established At",-1)),V(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>P.value.established_at=l),type:"date",class:"w-full border rounded px-2 py-1"},null,512),[[I,P.value.established_at]])]),t("div",null,[e[42]||(e[42]=t("label",{class:"block mb-1"},"Website",-1)),V(t("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>P.value.website=l),class:"w-full border rounded px-2 py-1",placeholder:"https://…"},null,512),[[I,P.value.website]])]),t("div",null,[e[43]||(e[43]=t("label",{class:"block mb-1"},"Email",-1)),V(t("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>P.value.email=l),type:"email",class:"w-full border rounded px-2 py-1",placeholder:"club@example.com"},null,512),[[I,P.value.email]])]),t("div",null,[e[44]||(e[44]=t("label",{class:"block mb-1"},"Phone",-1)),V(t("input",{"onUpdate:modelValue":e[10]||(e[10]=l=>P.value.phone=l),class:"w-full border rounded px-2 py-1",placeholder:"+63…"},null,512),[[I,P.value.phone]])])]),t("div",_a,[t("button",{class:"px-4 py-2 bg-gray-200 rounded text-xs",onClick:e[11]||(e[11]=l=>ue.value=!1)},"Cancel"),t("button",{class:"px-4 py-2 bg-blue-600 text-white rounded text-xs",onClick:Qe},"Create")])])])):k("",!0),de.value?(r(),d("div",$a,[t("div",Ba,[t("div",Ua,[e[45]||(e[45]=t("h2",{class:"text-lg font-semibold"},"Edit Club",-1)),t("button",{class:"px-3 py-1 text-xs bg-gray-200 rounded",onClick:e[12]||(e[12]=l=>de.value=!1)},"Close")]),t("div",Aa,[t("div",null,[e[46]||(e[46]=t("label",{class:"block mb-1"},[T("Name "),t("span",{class:"text-red-500"},"*")],-1)),V(t("input",{"onUpdate:modelValue":e[13]||(e[13]=l=>L.value.name=l),class:"w-full border rounded px-2 py-1"},null,512),[[I,L.value.name]]),se.value.name?(r(),d("p",Va,g(se.value.name),1)):k("",!0)]),t("div",null,[e[47]||(e[47]=t("label",{class:"block mb-1"},[T("Code "),t("span",{class:"text-red-500"},"*")],-1)),V(t("input",{"onUpdate:modelValue":e[14]||(e[14]=l=>L.value.code=l),class:"w-full border rounded px-2 py-1"},null,512),[[I,L.value.code]]),se.value.code?(r(),d("p",Pa,g(se.value.code),1)):k("",!0)]),t("div",null,[e[49]||(e[49]=t("label",{class:"block mb-1"},"Category",-1)),V(t("select",{"onUpdate:modelValue":e[15]||(e[15]=l=>L.value.category=l),class:"w-full border rounded px-2 py-1"},e[48]||(e[48]=[je('<option disabled value="">Select a category</option><option value="Academic">Academic</option><option value="Cultural">Cultural</option><option value="Athletics">Athletics</option><option value="Social">Social</option><option value="Community Service">Community Service</option><option value="Religious/Spiritual">Religious / Spiritual</option><option value="Environmental">Environmental</option><option value="Leadership">Leadership</option><option value="Others">Others</option>',10)]),512),[[oe,L.value.category]])]),t("div",null,[e[51]||(e[51]=t("label",{class:"block mb-1"},"Active?",-1)),V(t("select",{"onUpdate:modelValue":e[16]||(e[16]=l=>L.value.is_active=l),class:"w-full border rounded px-2 py-1"},e[50]||(e[50]=[t("option",{value:!0},"Yes",-1),t("option",{value:!1},"No",-1)]),512),[[oe,L.value.is_active]])]),t("div",La,[e[52]||(e[52]=t("label",{class:"block mb-1"},"Description",-1)),V(t("textarea",{"onUpdate:modelValue":e[17]||(e[17]=l=>L.value.description=l),class:"w-full border rounded px-2 py-1",rows:"3"},null,512),[[I,L.value.description]])]),t("div",null,[e[53]||(e[53]=t("label",{class:"block mb-1"},"Established At",-1)),V(t("input",{"onUpdate:modelValue":e[18]||(e[18]=l=>L.value.established_at=l),type:"date",class:"w-full border rounded px-2 py-1"},null,512),[[I,L.value.established_at]])]),t("div",null,[e[54]||(e[54]=t("label",{class:"block mb-1"},"Website",-1)),V(t("input",{"onUpdate:modelValue":e[19]||(e[19]=l=>L.value.website=l),class:"w-full border rounded px-2 py-1"},null,512),[[I,L.value.website]])]),t("div",null,[e[55]||(e[55]=t("label",{class:"block mb-1"},"Email",-1)),V(t("input",{"onUpdate:modelValue":e[20]||(e[20]=l=>L.value.email=l),type:"email",class:"w-full border rounded px-2 py-1"},null,512),[[I,L.value.email]])]),t("div",null,[e[56]||(e[56]=t("label",{class:"block mb-1"},"Phone",-1)),V(t("input",{"onUpdate:modelValue":e[21]||(e[21]=l=>L.value.phone=l),class:"w-full border rounded px-2 py-1"},null,512),[[I,L.value.phone]])])]),t("div",Ma,[t("button",{class:"px-4 py-2 bg-gray-200 rounded text-xs",onClick:e[22]||(e[22]=l=>de.value=!1)},"Cancel"),t("button",{class:"px-4 py-2 bg-emerald-600 text-white rounded text-xs",onClick:Je},"Save Changes")])])])):k("",!0),b.value?(r(),d("div",Fa,[t("div",ja,[t("div",Ia,[e[57]||(e[57]=t("h2",{class:"text-lg font-semibold"},"Club Members",-1)),t("button",{class:"px-3 py-1 text-xs bg-gray-200 rounded",onClick:e[23]||(e[23]=l=>b.value=!1)},"Close")]),t("div",Oa,[t("div",za,[V(t("select",{"onUpdate:modelValue":e[24]||(e[24]=l=>w.value=l),class:"border rounded px-2 py-1 text-sm"},e[58]||(e[58]=[t("option",{value:"all"},"All roles",-1),t("option",{value:"officers"},"Officers",-1),t("option",{value:"members"},"Members",-1)]),512),[[oe,w.value]]),V(t("select",{"onUpdate:modelValue":e[25]||(e[25]=l=>_.value=l),class:"border rounded px-2 py-1 text-sm"},[e[59]||(e[59]=t("option",{value:"all"},"All statuses",-1)),(r(),d(N,null,J(Q,l=>t("option",{key:l,value:l},g(l),9,Ea)),64))],512),[[oe,_.value]]),V(t("input",{"onUpdate:modelValue":e[26]||(e[26]=l=>z.value=l),type:"text",placeholder:"Search club members by name, username, or email…",class:"border rounded px-2 py-1 text-sm w-full"},null,512),[[I,z.value]])]),t("div",Ra," Showing "+g(ee.value.total)+" result(s). Officers: "+g(Se.value)+" • Members: "+g(_e.value),1)]),t("div",Ta,[t("div",Da,[V(t("input",{"onUpdate:modelValue":e[27]||(e[27]=l=>q.value=l),type:"text",placeholder:"Add users: search by username or email…",class:"border rounded px-2 py-1 text-sm w-full",autocomplete:"off"},null,512),[[I,q.value]]),q.value&&(E.value.length||ae.value)?(r(),d("div",Na,[ae.value?(r(),d("div",Ha,"Searching…")):(r(),d(N,{key:1},[(r(!0),d(N,null,J(E.value,l=>(r(),d("button",{key:l.id,class:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",onClick:c=>me(l)},[t("div",Qa,[T(g(l.first_name)+" "+g(l.last_name)+" ",1),t("span",Ya,"@"+g(l.username),1)]),t("div",qa,g(l.email),1)],8,Wa))),128)),E.value.length?k("",!0):(r(),d("div",Ja,"No matches"))],64))])):k("",!0)]),u.value.length?(r(),d("div",Ka,[(r(!0),d(N,null,J(u.value,l=>(r(),d("span",{key:l.id,class:"inline-flex items-center gap-2 px-2 py-1 bg-blue-50 border border-blue-200 rounded text-xs"},[T(g(l.first_name)+" "+g(l.last_name)+" (@"+g(l.username)+") ",1),t("button",{class:"ml-1 text-blue-600",onClick:c=>ie(l.id)},"✕",8,Ga)]))),128))])):k("",!0),t("div",Xa,[t("button",{class:"px-3 py-1 bg-blue-600 text-white rounded text-xs disabled:opacity-50",disabled:!u.value.length,onClick:Ne}," Add Selected ",8,Za)])]),t("div",el,[(r(!0),d(N,null,J(ee.value.data,l=>(r(),d("div",{key:l.id,class:"flex items-start justify-between p-3 border bg-gray-50 rounded"},[t("div",tl,[t("div",al,[T(g(l.first_name)+" "+g(l.last_name)+" ",1),t("span",ll,"(@"+g(l.username)+")",1)]),t("div",sl,g(l.email),1),t("div",ol,[t("span",null,[e[60]||(e[60]=T("Role: ",-1)),t("select",{class:"border rounded px-1 py-0.5 text-xs",disabled:fe.value.has(l.id),value:Ce(l),onChange:c=>et(l,c.target.value)},[(r(),d(N,null,J(y,c=>t("option",{key:c,value:c},g(c),9,rl)),64))],40,nl)]),t("span",null,[e[61]||(e[61]=T("Status: ",-1)),t("select",{class:"border rounded px-1 py-0.5 text-xs",disabled:be.value.has(l.id),value:Z(l.UserClub?.status),onChange:c=>Ze(l,c.target.value)},[(r(),d(N,null,J(Q,c=>t("option",{key:c,value:c},g(c),9,ul)),64))],40,il)]),t("span",null,[e[62]||(e[62]=T("Joined: ",-1)),t("strong",null,g(l.UserClub?.joined_at?new Date(l.UserClub.joined_at).toLocaleDateString():"—"),1)]),fe.value.has(l.id)||be.value.has(l.id)?(r(),d("span",dl,"Saving…")):k("",!0)])]),t("div",null,[t("button",{class:"px-2 py-1 bg-red-600 text-white rounded text-xs",onClick:c=>Xe(l.id)}," Remove ",8,cl)])]))),128))]),t("div",vl,[j.value>1?(r(),d("button",{key:0,onClick:e[28]||(e[28]=l=>Ue(j.value-1)),class:"px-3 py-1 bg-gray-300 rounded"}," Previous ")):k("",!0),t("div",null,"Page "+g(ee.value.currentPage)+" of "+g(ee.value.totalPages||1),1),j.value<ee.value.totalPages?(r(),d("button",{key:1,onClick:e[29]||(e[29]=l=>Ue(j.value+1)),class:"px-3 py-1 bg-gray-300 rounded"}," Next ")):k("",!0)])])])):k("",!0)],64))}};export{gl as default};
