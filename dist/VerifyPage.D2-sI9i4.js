import{T as c}from"./ToasterComponent.XRVHT5gm.js";import{c as o,a as n,b as m,d as t,e as u,w as f,f as g,v as p,t as v,r as b,u as x,o as l}from"./index.kywONoMW.js";import{_ as y}from"./logo.Dx3Q79ni.js";import{_ as h}from"./_plugin-vue_export-helper.DlAUqK2U.js";const w={data(){return{email:this.$route.query.email||"",status:"idle",verifying:!1}},computed:{auth(){return x()},canSubmit(){return this.email.trim().length>0}},async mounted(){const r=this.$route.query.token;if(r)try{this.verifying=!0,await this.auth.verifyEmail(r),this.status="success",this.$refs.toast.showToast("success","Email verified successfully.")}catch(e){this.status="error",this.$refs.toast.showToast("warning",e.message||"Verification link invalid or expired.")}finally{this.verifying=!1}else this.$route.query.email&&(this.status="idle")},methods:{async onResend(){try{await this.auth.resendVerification(this.email),this.$refs.toast.showToast("info","Verification email sent. Please check your inbox.")}catch(r){this.$refs.toast.showToast("warning",r.message||"Failed to resend verification email.")}},goLogin(){this.$router.push({name:"login"})}},components:{ToasterComponent:c}},k={class:"min-h-screen relative overflow-hidden"},_={key:0,class:"absolute inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-md"},S={class:"relative z-10 min-h-screen flex items-center justify-center p-4"},V={class:"w-full max-w-md"},T={class:"group rounded-2xl bg-white/80 backdrop-blur-xl border border-white/40 shadow-2xl ring-1 ring-black/5 hover:ring-black/10 transition"},L={class:"p-6 sm:p-7"},E={key:0,class:"rounded-lg bg-emerald-50 border border-emerald-200 text-emerald-700 p-3 text-sm"},C={key:1,class:"rounded-lg bg-rose-50 border border-rose-200 text-rose-700 p-3 text-sm"},j={key:2,class:"rounded-lg bg-amber-50 border border-amber-200 text-amber-700 p-3 text-sm"},q={class:"relative"},B=["disabled"],A={class:"px-6 sm:px-7 pb-6"},N={class:"flex items-center justify-between text-[11px] text-gray-500"};function R(r,e,Y,D,a,i){const d=b("ToasterComponent");return l(),o("div",k,[e[15]||(e[15]=n('<div class="absolute inset-0" data-v-89cf7a98><div class="h-full w-full bg-cover bg-center" style="background-image:url(/images/bg.jpg)" data-v-89cf7a98></div><div class="absolute inset-0 bg-gradient-to-b from-black/40 via-black/30 to-black/60" data-v-89cf7a98></div><div class="absolute inset-0 backdrop-blur-sm" data-v-89cf7a98></div><div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,_rgba(255,255,255,.08),_transparent_40%),radial-gradient(circle_at_80%_0,_rgba(255,255,255,.06),_transparent_35%),radial-gradient(circle_at_50%_100%,_rgba(255,255,255,.05),_transparent_45%)]" data-v-89cf7a98></div></div>',1)),i.auth.isLoading||a.verifying?(l(),o("div",_,e[4]||(e[4]=[t("div",{class:"loader"},null,-1)]))):m("",!0),t("div",S,[t("div",V,[e[13]||(e[13]=n('<div class="mb-6 text-center" data-v-89cf7a98><a href="index.html" class="inline-flex items-center justify-center" data-v-89cf7a98><img src="'+y+'" alt="OSAS" class="h-14 w-auto" data-v-89cf7a98></a><h1 class="mt-4 text-2xl font-extrabold tracking-wide text-white" data-v-89cf7a98>Office of Student Affairs &amp; Services</h1><p class="mt-1 text-primary-text/90 text-sm" data-v-89cf7a98>Serve. Support. Empower.</p></div>',1)),t("div",T,[t("div",L,[e[11]||(e[11]=n('<div class="mb-5 text-center" data-v-89cf7a98><div class="inline-flex items-center gap-2" data-v-89cf7a98><span class="inline-grid h-8 w-8 place-items-center rounded-full bg-primary/10" data-v-89cf7a98><i class="mdi mdi-email-check-outline text-primary text-xl" data-v-89cf7a98></i></span><h2 class="text-lg font-bold text-gray-900" data-v-89cf7a98>Verify Email</h2></div><p class="text-xs text-gray-500 mt-2" data-v-89cf7a98>We sent a verification link to your email</p></div>',1)),a.status==="success"?(l(),o("div",E,[e[5]||(e[5]=t("div",{class:"flex items-center gap-2"},[t("i",{class:"mdi mdi-check-circle-outline text-lg"}),t("span",null,"Your email has been verified. You can now sign in.")],-1)),t("button",{onClick:e[0]||(e[0]=(...s)=>i.goLogin&&i.goLogin(...s)),class:"mt-3 w-full py-2.5 px-4 rounded-xl bg-primary text-white font-semibold tracking-wide shadow-md hover:shadow-lg hover:bg-tertiary transition"}," Go to Login ")])):a.status==="error"?(l(),o("div",C,e[6]||(e[6]=[t("div",{class:"flex items-center gap-2"},[t("i",{class:"mdi mdi-alert-circle-outline text-lg"}),t("span",null,"The verification link is invalid or expired. You can request a new one below.")],-1)]))):(l(),o("div",j,e[7]||(e[7]=[t("div",{class:"flex items-center gap-2"},[t("i",{class:"mdi mdi-timer-sand-empty text-lg"}),t("span",null,"Waiting for verification. If you didn’t receive the email, resend below.")],-1)]))),t("form",{onSubmit:e[3]||(e[3]=f((...s)=>i.onResend&&i.onResend(...s),["prevent"])),class:"space-y-3 mt-5"},[t("div",q,[e[8]||(e[8]=t("label",{class:"sr-only"},"Email",-1)),e[9]||(e[9]=t("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[t("i",{class:"mdi mdi-email-outline text-gray-400 text-xl"})],-1)),g(t("input",{class:"w-full rounded-xl border border-gray-300/80 bg-white/70 pl-11 pr-3 py-2.5 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-primary/20 focus:border-primary transition disabled:opacity-60",type:"email",required:"",placeholder:"Email","onUpdate:modelValue":e[1]||(e[1]=s=>a.email=s),autocomplete:"email"},null,512),[[p,a.email,void 0,{trim:!0}]])]),t("button",{class:"w-full py-2.5 px-4 rounded-xl bg-primary text-white font-semibold tracking-wide shadow-md hover:shadow-lg hover:bg-tertiary transition disabled:opacity-60 disabled:cursor-not-allowed",type:"submit",disabled:!i.canSubmit||i.auth.isLoading||a.verifying},e[10]||(e[10]=[t("span",{class:"inline-flex items-center justify-center gap-2"},[t("i",{class:"mdi mdi-email-send-outline"}),t("span",null,"Resend Verification Email")],-1)]),8,B),t("button",{type:"button",onClick:e[2]||(e[2]=(...s)=>i.goLogin&&i.goLogin(...s)),class:"w-full py-2.5 px-4 rounded-xl bg-white text-gray-700 font-semibold tracking-wide border border-gray-300/80 hover:bg-gray-50 transition"}," Back to Login ")],32)]),t("div",A,[t("div",N,[e[12]||(e[12]=t("span",null,"OSAS Kiosk v1.0",-1)),t("span",null,"© "+v(new Date().getFullYear())+" Student Services",1)])])]),e[14]||(e[14]=t("div",{class:"mt-6 text-center text-xs text-gray-300"},[t("p",null,"By continuing, you agree to our Student Portal Guidelines.")],-1))])]),u(d,{ref:"toast"},null,512)])}const G=h(w,[["render",R],["__scopeId","data-v-89cf7a98"]]);export{G as default};
