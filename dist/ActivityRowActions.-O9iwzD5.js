import{_ as u}from"./IconifyButton.51EIWT97.js";import{u as A,v as E,a0 as j,y as R,a1 as B,a2 as D,a3 as P,a4 as S,z as V,A as L}from"./SectionMain.DFGdWOnK.js";import{c as m,r as y,o as M,E as N,a as r,q as n,f as q,z as v,d as a,e as c,g as s}from"./index.DuRiRdF7.js";const O={class:"flex items-center gap-1 md:gap-2"},H=["aria-expanded"],T={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24","aria-hidden":"true"},U=["d"],K={__name:"ActivityRowActions",props:{row:{type:Object,required:!0},moderator:{type:Boolean,default:!1}},emits:["attachments","submit","approve","reject","edit","delete","view","cancel","print"],setup(o,{emit:F}){const f=o,d=m(()=>String(f.row?.status||"").toLowerCase()),b=m(()=>d.value==="draft"),k=m(()=>d.value==="draft"),w=m(()=>d.value!=="draft"),p=m(()=>f.moderator&&d.value==="pending"),$=m(()=>f.moderator&&d.value==="approved"),g=m(()=>d.value==="approved"),x=m(()=>f.moderator),i=y(!1),C=y(null),h=y(null),z=t=>{if(!i.value)return;const e=C.value,l=h.value;e&&!e.contains(t.target)&&l&&!l.contains(t.target)&&(i.value=!1)};return M(()=>document.addEventListener("click",z)),N(()=>document.removeEventListener("click",z)),(t,e)=>(n(),r("div",O,[q(u,{"icon-path":s(A),color:"text-indigo-600",label:"Attachments",tooltip:"Attachments",size:"sm",onClick:e[0]||(e[0]=l=>t.$emit("attachments",o.row))},null,8,["icon-path"]),w.value?(n(),v(u,{key:0,"icon-path":s(E),color:"text-gray-700",label:"View",tooltip:"View (read-only)",size:"sm",onClick:e[1]||(e[1]=l=>t.$emit("view",o.row))},null,8,["icon-path"])):a("",!0),b.value?(n(),v(u,{key:1,"icon-path":s(j),color:"text-blue-600",label:"Submit",tooltip:"Submit",size:"sm",onClick:e[2]||(e[2]=l=>t.$emit("submit",o.row))},null,8,["icon-path"])):a("",!0),k.value?(n(),v(u,{key:2,"icon-path":s(R),color:"text-amber-600",label:"Edit",tooltip:"Edit",size:"sm",onClick:e[3]||(e[3]=l=>t.$emit("edit",o.row))},null,8,["icon-path"])):a("",!0),p.value?(n(),v(u,{key:3,"icon-path":s(B),color:"text-emerald-600",label:"Approve",tooltip:"Approve",size:"sm",onClick:e[4]||(e[4]=l=>t.$emit("approve",o.row))},null,8,["icon-path"])):a("",!0),p.value?(n(),v(u,{key:4,"icon-path":s(D),color:"text-rose-600",label:"Reject",tooltip:"Reject",size:"sm",onClick:e[5]||(e[5]=l=>t.$emit("reject",o.row))},null,8,["icon-path"])):a("",!0),$.value?(n(),v(u,{key:5,"icon-path":s(P),color:"text-orange-600",label:"Cancel",tooltip:"Cancel activity",size:"sm",onClick:e[6]||(e[6]=l=>t.$emit("cancel",o.row))},null,8,["icon-path"])):a("",!0),g.value?(n(),v(u,{key:6,"icon-path":s(S),color:"text-slate-700",label:"Print",tooltip:"Print",size:"sm",onClick:e[7]||(e[7]=l=>t.$emit("print",o.row))},null,8,["icon-path"])):a("",!0),x.value?(n(),v(u,{key:7,"icon-path":s(V),color:"text-red-600",label:"Delete",tooltip:"Delete",size:"sm",onClick:e[8]||(e[8]=l=>t.$emit("delete",o.row))},null,8,["icon-path"])):a("",!0),c("div",{class:"relative md:hidden",ref_key:"btnRef",ref:h},[c("button",{class:"inline-flex items-center justify-center rounded-xl p-1.5 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-1","aria-expanded":i.value,"aria-haspopup":"menu",title:"More",onClick:e[9]||(e[9]=l=>i.value=!i.value)},[(n(),r("svg",T,[c("path",{d:s(L)},null,8,U)]))],8,H),i.value?(n(),r("div",{key:0,ref_key:"menuRef",ref:C,role:"menu",class:"absolute right-0 z-20 mt-1 w-44 overflow-hidden rounded-xl border bg-white shadow-lg"},[c("button",{role:"menuitem",class:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50",onClick:e[10]||(e[10]=l=>{i.value=!1,t.$emit("attachments",o.row)})},"Attachments"),w.value?(n(),r("button",{key:0,role:"menuitem",class:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50",onClick:e[11]||(e[11]=l=>{i.value=!1,t.$emit("view",o.row)})},"View (read-only)")):a("",!0),b.value?(n(),r("button",{key:1,role:"menuitem",class:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50",onClick:e[12]||(e[12]=l=>{i.value=!1,t.$emit("submit",o.row)})},"Submit")):a("",!0),k.value?(n(),r("button",{key:2,role:"menuitem",class:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50",onClick:e[13]||(e[13]=l=>{i.value=!1,t.$emit("edit",o.row)})},"Edit")):a("",!0),p.value?(n(),r("button",{key:3,role:"menuitem",class:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50",onClick:e[14]||(e[14]=l=>{i.value=!1,t.$emit("approve",o.row)})},"Approve")):a("",!0),p.value?(n(),r("button",{key:4,role:"menuitem",class:"w-full px-3 py-2 text-left text-sm text-rose-600 hover:bg-rose-50",onClick:e[15]||(e[15]=l=>{i.value=!1,t.$emit("reject",o.row)})},"Reject")):a("",!0),$.value?(n(),r("button",{key:5,role:"menuitem",class:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50",onClick:e[16]||(e[16]=l=>{i.value=!1,t.$emit("cancel",o.row)})},"Cancel")):a("",!0),g.value?(n(),r("button",{key:6,role:"menuitem",class:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50",onClick:e[17]||(e[17]=l=>{i.value=!1,t.$emit("print",o.row)})},"Print")):a("",!0),x.value?(n(),r("button",{key:7,role:"menuitem",class:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50",onClick:e[18]||(e[18]=l=>{i.value=!1,t.$emit("delete",o.row)})},"Delete")):a("",!0)],512)):a("",!0)],512)]))}};export{K as _};
