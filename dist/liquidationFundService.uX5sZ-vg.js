import{N as a}from"./index.BfTMC2Bg.js";function w(n){const t={...n};return Object.keys(t).forEach(e=>t[e]===void 0&&delete t[e]),t}function l(n){return typeof Blob<"u"&&(n instanceof Blob||n instanceof File)}function f(n,t){if(typeof n=="string")return n;if(n==null)return t;try{return JSON.stringify(n)}catch{return t}}function p(n={}){const t={...n};return t.sources_of_fund!==void 0&&(t.sources_of_fund=f(t.sources_of_fund,"{}")),t.uses_of_fund!==void 0&&(t.uses_of_fund=f(t.uses_of_fund,"[]")),t.attachments!==void 0&&(t.attachments=f(t.attachments,"[]")),delete t.date_filed,t}const h={async create(n){const{data:t}=await a.post("/liquidation-funds",p(n));return t},async getById(n){const{data:t}=await a.get(`/liquidation-funds/${n}`);return t},async updateById(n,t){const{data:e}=await a.put(`/liquidation-funds/${n}`,p(t));return e},async delete(n){const{data:t}=await a.delete(`/liquidation-funds/${n}`);return t},async list(n={}){const{page:t,limit:e,sort:s,order:i,q:d,status:o,activity_design_id:u,filed_by_user_id:r,date_filed_from:c,date_filed_to:y,..._}=n,m=w({page:t,limit:e,sort:s,order:i,q:d,status:o,activity_design_id:u,filed_by_user_id:r,date_filed_from:c,date_filed_to:y,..._}),{data:q}=await a.get("/liquidation-funds",{params:m});return q},async submit(n){const{data:t}=await a.post(`/liquidation-funds/${n}/submit`);return t},async approve(n,{remarks:t}={}){const{data:e}=await a.post(`/liquidation-funds/${n}/approve`,{remarks:t});return e},async reject(n,{remarks:t}={}){const{data:e}=await a.post(`/liquidation-funds/${n}/reject`,{remarks:t});return e},async cancel(n,{remarks:t}={}){const{data:e}=await a.post(`/liquidation-funds/${n}/cancel`,{remarks:t});return e},async uploadAttachment(n,t){if(l(t)){const e=new FormData;e.append("file",t);const{data:s}=await a.post(`/liquidation-funds/${n}/attachments`,e,{headers:{"Content-Type":"multipart/form-data"}});return s}else{const{data:e}=await a.post(`/liquidation-funds/${n}/attachments`,l(t)?{}:{file:t});return e}},async deleteAttachment(n,t){const{data:e}=await a.delete(`/liquidation-funds/${n}/attachments/${t}`);return e},async sendEmail(n,{from_email:t,from_name:e,to:s,subject:i,html:d,text:o,attachments:u}){const r={from_email:t,from_name:e,to:s,subject:i,html:d,text:o,attachments:u},{data:c}=await a.post(`/liquidation-funds/${n}/email`,r);return c}};export{h as l};
