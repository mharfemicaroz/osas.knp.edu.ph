const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index.BiRlO2qs.js","./index.Dpl69f01.css"])))=>i.map(i=>d[i]);
import{N as w,O as S1,r as S,c as g,a as i,d as $,q as l,e,h as m1,v as _1,F as j,B as D,t as A,w as g1,o as Y,x as p1,M as Z1,P as U1,j as N,p as N1,u as e1,z as t1,E as j1,f as Z,g as O,I as B1,m as w1,l as v1,A as D1,k as f1,aa as R1,W as A1}from"./index.BiRlO2qs.js";import{useAppContextStore as T1}from"./appContext.CLfG1v8y.js";import{_ as P1}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{a as y1}from"./activityDesignService.CPY7Xbb1.js";import{u as h1}from"./utilizationRequestService.r_qZRy2p.js";import{l as x1}from"./liquidationFundService.DAvk-OsF.js";import{T as I1}from"./ToasterComponent.BXwuoPoD.js";function V1(a={}){const{page:t,limit:s,sort:p="created_at",order:c="DESC",q:V,user_id:b,club_id:_,subject_type:H,is_read:M,created_from:h,created_to:C,...r}=a,n={page:t,limit:s,sort:p,order:typeof c=="string"?c.toUpperCase():c,q:V,user_id:b,club_id:_,subject_type:H,is_read:M,created_from:h,created_to:C,...r};return Object.keys(n).forEach(d=>n[d]===void 0&&delete n[d]),n}const T={async list(a={}){const t=V1(a),{data:s}=await w.get("/notifications",{params:t});return s},async stats(a={}){const t=V1(a),{data:s}=await w.get("/notifications/_stats",{params:t});return s},async getById(a){const{data:t}=await w.get(`/notifications/${a}`);return t},async create(a){const{data:t}=await w.post("/notifications",a);return t},async markRead(a){const{data:t}=await w.post(`/notifications/${a}/read`);return t},async markUnread(a){const{data:t}=await w.post(`/notifications/${a}/unread`);return t},async delete(a){const{data:t}=await w.delete(`/notifications/${a}`);return t}},M1=S1("notification",()=>{const a=S({total:0,totalPages:1,currentPage:1,pageSize:10,data:[]}),t=S(!1),s=S(null),p=S(!1),c=S(0),V=g(()=>c.value),b=async(d={},o=!1)=>{if(s.value=null,!(!o&&p.value))try{t.value=!0;const u=await T.list(d);Object.assign(a.value,{total:u.total||0,totalPages:u.totalPages||1,currentPage:d.page||1,pageSize:d.limit||10,data:u.data||[]}),p.value=!0,d&&d.is_read===!1&&(c.value=Number(u.total||0))}catch(u){s.value=u?.response?.data?.message||u?.message||"Failed to fetch notifications"}finally{t.value=!1}};let _=!1,H=0;const M=async()=>{const d=Date.now();if(_||d-H<5e3)return c.value;_=!0;try{const o=await T.stats({});let u=Number(o?.unread||0);if(!Number.isFinite(u)||u<0){const[k,R]=await Promise.all([T.list({is_read:!0,page:1,limit:1,order:"DESC",sort:"created_at"}),T.list({page:1,limit:1,order:"DESC",sort:"created_at"})]),P=Number(k.total||0),m=Number(R.total||0);u=Math.max(0,m-P)}return c.value=u,H=Date.now(),c.value}catch{try{const[o,u]=await Promise.all([T.list({is_read:!0,page:1,limit:1,order:"DESC",sort:"created_at"}),T.list({page:1,limit:1,order:"DESC",sort:"created_at"})]),k=Number(o.total||0),R=Number(u.total||0);c.value=Math.max(0,R-k),H=Date.now()}catch{}return c.value}finally{_=!1}},h=async d=>{await T.markRead(d);const o=a.value.data.findIndex(u=>u.id===d);o!==-1&&!a.value.data[o].is_read?(a.value.data[o].is_read=!0,c.value=Math.max(0,(c.value||0)-1)):await M()};return{items:a,isLoading:t,isLoaded:p,error:s,unreadCount:V,unreadTotal:c,fetchAll:b,refreshUnread:M,markRead:h,markUnread:async d=>{await T.markUnread(d);const o=a.value.data.findIndex(u=>u.id===d);o!==-1&&a.value.data[o].is_read?(a.value.data[o].is_read=!1,c.value=(c.value||0)+1):await M()},markAllRead:async()=>{const d=(a.value.data||[]).filter(o=>!o.is_read).map(o=>o.id);for(const o of d)try{await h(o)}catch{}},deleteById:async d=>{await T.delete(d),a.value.data=a.value.data.filter(o=>o.id!==d),a.value.total=Math.max(0,(a.value.total||0)-1)}}}),O1=""+new URL("images/logo-banner.png",import.meta.url).href,q1=""+new URL("images/logo-sm.png",import.meta.url).href,z1={class:"bg-white rounded-2xl shadow-2xl w-full sm:w-[560px] max-w-[95vw] max-h-[85vh] overflow-hidden"},F1={class:"px-4 py-3 border-b flex items-center justify-between bg-gray-50"},E1={class:"p-4 space-y-3"},W1={class:"relative"},K1={class:"divide-y border rounded-xl overflow-hidden max-h-[55vh] overflow-auto"},Y1={key:0,class:"px-4 py-3 space-y-3"},G1=["onClick"],J1={class:"h-10 w-10 rounded-md overflow-hidden bg-gray-100 flex items-center justify-center ring-1 ring-gray-200"},Q1=["src"],X1={key:1,class:"mdi mdi-account-group text-gray-400 text-2xl"},ee={class:"min-w-0 flex-1"},te={class:"text-sm font-medium truncate"},ae={key:0,class:"py-10 text-center text-sm text-gray-500"},se={__name:"ClubsListModal",props:{modelValue:{type:Boolean,default:!1},clubs:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["update:modelValue","select"],setup(a,{emit:t}){const s=a,p=t,c=g({get:()=>s.modelValue,set:h=>p("update:modelValue",h)}),V=S(""),b="https://knp.edu.ph",_=h=>!h||typeof h!="string"?"":h.startsWith("http")||h.startsWith("data:")?h:`${b}${h}`,H=g(()=>{const h=V.value.trim().toLowerCase();return h?(s.clubs||[]).filter(C=>String(C?.name||"").toLowerCase().includes(h)):s.clubs||[]}),M=h=>p("select",h);return(h,C)=>c.value?(l(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/35 backdrop-blur-sm p-2",onClick:C[2]||(C[2]=g1(r=>c.value=!1,["self"]))},[e("div",z1,[e("div",F1,[C[3]||(C[3]=e("div",{class:"min-w-0"},[e("div",{class:"text-xs uppercase tracking-wide text-gray-500"},"Affiliated Clubs"),e("h2",{class:"text-base font-semibold truncate"},"Your memberships")],-1)),e("button",{class:"px-3 py-1 text-xs bg-gray-200 rounded",onClick:C[0]||(C[0]=r=>c.value=!1)},"Close")]),e("div",E1,[e("div",W1,[C[4]||(C[4]=e("i",{class:"mdi mdi-magnify absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},null,-1)),m1(e("input",{"onUpdate:modelValue":C[1]||(C[1]=r=>V.value=r),type:"text",placeholder:"Search clubs",class:"w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_1,V.value]])]),e("div",K1,[a.loading?(l(),i("div",Y1,[(l(),i(j,null,D(6,r=>e("div",{key:r,class:"flex items-center gap-3 animate-pulse"},C[5]||(C[5]=[e("div",{class:"h-10 w-10 rounded-md bg-gray-200"},null,-1),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"h-3 w-48 bg-gray-200 rounded"})],-1)]))),64))])):(l(),i(j,{key:1},[(l(!0),i(j,null,D(H.value,r=>(l(),i("button",{key:r.id,class:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 text-left",onClick:n=>M(r)},[e("div",J1,[_(r.logo)?(l(),i("img",{key:0,src:_(r.logo),alt:"logo",class:"h-full w-full object-cover"},null,8,Q1)):(l(),i("i",X1))]),e("div",ee,[e("div",te,A(r.name||"Club"),1)]),C[6]||(C[6]=e("i",{class:"mdi mdi-chevron-right text-gray-400"},null,-1))],8,G1))),128)),H.value.length?$("",!0):(l(),i("div",ae," No clubs found. "))],64))])]),C[7]||(C[7]=e("div",{class:"px-4 py-2 text-[11px] text-gray-500 border-t bg-gray-50"}," Click outside or Close to dismiss. ",-1))])])):$("",!0)}},ne={class:"bg-white rounded-2xl shadow-2xl w-full sm:w-[720px] max-w-[95vw] max-h-[85vh] overflow-hidden"},le={class:"px-4 py-3 border-b flex items-center justify-between bg-gray-50"},ie={class:"p-4 space-y-3"},re={class:"grid grid-cols-1 sm:grid-cols-3 gap-2"},oe={class:"sm:col-span-2 relative"},de={class:"inline-flex items-center gap-2 text-sm"},ue={class:"border rounded-xl overflow-hidden"},ce={key:0,class:"p-3 text-sm text-gray-500"},me={key:0,class:"p-10 text-center text-sm text-gray-500"},ve={key:1,class:"divide-y max-h-[55vh] overflow-auto"},fe={class:"mt-0.5"},ge={class:"flex-1 min-w-0"},pe=["title"],Ce={class:"text-[11px] text-gray-500"},ye={class:"flex items-center gap-1"},he=["onClick"],xe=["onClick"],Ve={class:"flex items-center justify-between text-sm"},Le={class:"flex items-center gap-2"},be=["disabled"],He=["disabled"],_e={__name:"NotificationsListModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{emit:t}){const s=a,p=t,c=g({get:()=>s.modelValue,set:m=>p("update:modelValue",m)}),V=M1(),b=S(1),_=S(10),H=S("DESC"),M=S("created_at"),h=S(""),C=S(!1),r=g(()=>V.items?.data||[]),n=g(()=>V.items?.total||0),d=g(()=>V.items?.totalPages||1),o=g(()=>V.isLoading),u=async()=>{const m={page:b.value,limit:_.value,order:H.value,sort:M.value};h.value&&(m.q=h.value),C.value&&(m.is_read=!1),await V.fetchAll(m,!0)};Y(async()=>{c.value&&await u()}),p1(()=>s.modelValue,async m=>{m&&await u()});const k=async m=>{m.is_read?await V.markUnread(m.id):await V.markRead(m.id)},R=async m=>{await V.deleteById(m.id),await u()},P=async m=>{m>=1&&m<=d.value&&(b.value=m,await u())};return(m,f)=>c.value?(l(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/35 backdrop-blur-sm p-2",onClick:f[7]||(f[7]=g1(y=>c.value=!1,["self"]))},[e("div",ne,[e("div",le,[f[8]||(f[8]=e("div",{class:"min-w-0"},[e("div",{class:"text-xs uppercase tracking-wide text-gray-500"},"Notifications"),e("h2",{class:"text-base font-semibold truncate"},"All notifications")],-1)),e("button",{class:"px-3 py-1 text-xs bg-gray-200 rounded",onClick:f[0]||(f[0]=y=>c.value=!1)},"Close")]),e("div",ie,[e("div",re,[e("div",oe,[f[9]||(f[9]=e("i",{class:"mdi mdi-magnify absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},null,-1)),m1(e("input",{"onUpdate:modelValue":f[1]||(f[1]=y=>h.value=y),type:"text",placeholder:"Search notifications",class:"w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:f[2]||(f[2]=Z1(()=>{b.value=1,u()},["enter"]))},null,544),[[_1,h.value]])]),e("label",de,[m1(e("input",{type:"checkbox","onUpdate:modelValue":f[3]||(f[3]=y=>C.value=y),onChange:f[4]||(f[4]=()=>{b.value=1,u()})},null,544),[[U1,C.value]]),f[10]||(f[10]=e("span",null,"Only unread",-1))])]),e("div",ue,[o.value?(l(),i("div",ce,"Loadingâ€¦")):(l(),i(j,{key:1},[r.value.length?(l(),i("ul",ve,[(l(!0),i(j,null,D(r.value,y=>(l(),i("li",{key:y.id,class:N(["px-4 py-3 flex items-start gap-3",y.is_read?"bg-white":"bg-indigo-50"])},[e("div",fe,[e("i",{class:N(["mdi",y.is_read?"mdi-bell-outline text-gray-400":"mdi-bell-ring-outline text-indigo-600"])},null,2)]),e("div",ge,[e("div",{class:"text-sm truncate",title:y.message},A(y.message),9,pe),e("div",Ce,A(y.created_at?new Date(y.created_at).toLocaleString():""),1)]),e("div",ye,[e("button",{class:"text-[11px] px-2 py-0.5 rounded bg-gray-100 hover:bg-gray-200",onClick:U=>k(y)},A(y.is_read?"Unread":"Read"),9,he),e("button",{class:"text-[11px] px-2 py-0.5 rounded bg-red-50 text-red-700 hover:bg-red-100",onClick:U=>R(y)},"Delete",8,xe)])],2))),128))])):(l(),i("div",me,"No notifications found."))],64))]),e("div",Ve,[e("div",null," Page "+A(b.value)+" of "+A(d.value)+" ("+A(n.value)+" total) ",1),e("div",Le,[e("button",{class:"px-2 py-1 border rounded",disabled:b.value===1,onClick:f[5]||(f[5]=y=>P(b.value-1))},"Prev",8,be),e("button",{class:"px-2 py-1 border rounded",disabled:b.value===d.value,onClick:f[6]||(f[6]=y=>P(b.value+1))},"Next",8,He)])])]),f[11]||(f[11]=e("div",{class:"px-4 py-2 text-[11px] text-gray-500 border-t bg-gray-50"}," Click outside or Close to dismiss. ",-1))])])):$("",!0)}},we={class:"flex justify-between items-center px-4 sm:px-6 py-3 bg-primary text-white"},Ae={class:"flex items-center gap-3"},Me={class:"relative flex items-center gap-4"},ke={class:"relative",ref:"notifRef"},$e={key:0,class:"absolute inset-0 pointer-events-none bell-ring"},Se={key:1,class:"absolute -top-1 -right-1 min-w-[16px] h-[16px] px-1 rounded-full bg-rose-600 text-white text-[10px] leading-4 text-center"},Ze={key:1,class:"absolute right-0 mt-2 z-40 w-80"},Ue={class:"relative bg-white text-gray-900 rounded-xl shadow-2xl ring-1 ring-black/5 overflow-hidden"},Ne={key:0,class:"p-3 text-sm text-gray-500"},je={key:1,class:"max-h-80 overflow-auto"},Be={key:0,class:"p-3 text-sm text-gray-500"},De={key:0,class:"px-4 py-2 text-[11px] uppercase tracking-wide text-gray-500"},Re={key:1},Te={class:"mt-0.5"},Pe={class:"flex-1 min-w-0"},Ie=["title"],Oe={class:"text-[11px] text-gray-500"},qe={class:"flex items-center gap-1"},ze={key:2,class:"px-4 py-2 text-[11px] uppercase tracking-wide text-gray-500"},Fe={class:"mt-0.5"},Ee={class:"flex-1 min-w-0"},We=["title"],Ke={class:"text-[11px] text-gray-500"},Ye={class:"flex items-center gap-1"},Ge=["onClick"],Je={key:3,class:"px-4 py-2 text-[11px] uppercase tracking-wide text-gray-500"},Qe={class:"mt-0.5"},Xe={class:"flex-1 min-w-0"},et=["title"],tt={class:"text-[11px] text-gray-500"},at={class:"flex items-center gap-1"},st=["onClick"],nt={class:"px-3 py-2 bg-gray-50 border-t text-right flex items-center justify-between"},lt=["aria-expanded"],it={class:"h-8 w-8 rounded-full overflow-hidden bg-gray-100 grid place-items-center ring-1 ring-gray-200"},rt=["src"],ot={key:1,class:"h-full w-full grid place-items-center text-gray-700 text-xs font-semibold"},dt=["aria-expanded"],ut={class:"h-8 w-8 rounded-full overflow-hidden bg-gray-100 grid place-items-center ring-1 ring-gray-200"},ct=["src"],mt={key:1,class:"h-full w-full grid place-items-center text-gray-700 text-xs font-semibold"},vt={class:"font-medium truncate max-w-[12rem] text-left"},ft={key:1,class:"absolute right-0 top-full mt-2 z-40 w-64 sm:w-80"},gt={class:"relative bg-white text-gray-900 rounded-xl shadow-2xl ring-1 ring-black/5 overflow-hidden"},pt={class:"h-8 w-8 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center ring-1 ring-gray-200"},Ct=["src"],yt={key:1,class:"mdi mdi-account text-gray-400 text-xl"},ht={class:"min-w-0 flex-1 text-left"},xt={class:"text-xs text-gray-500 truncate"},Vt={key:0,class:"px-4 py-3 space-y-3"},Lt=["onClick"],bt={class:"h-8 w-8 rounded-md overflow-hidden bg-gray-100 flex items-center justify-center ring-1 ring-gray-200"},Ht=["src"],_t={key:1,class:"mdi mdi-account-group text-gray-400 text-xl"},wt={class:"min-w-0 flex-1 text-left"},At={class:"text-sm font-medium truncate"},Mt={key:2,class:"px-4 py-6 text-center text-sm text-gray-500"},kt={class:"px-4 py-2 bg-gray-50 border-t border-gray-200 space-y-2"},$t=["disabled"],St=Object.assign({name:"AppHeader"},{__name:"AppHeader",props:{fullname:{type:String,default:""},avatar:{type:String,default:""}},emits:["toggle","request-logout"],setup(a){const t=a,s=g(()=>t.avatar||"");function p(x){return String(x||"").split(" ").filter(Boolean).map(v=>v[0]).join("").slice(0,2).toUpperCase()}const c=N1(),V=e1(),b=t1(),_=T1(),H=M1(),M="https://knp.edu.ph",h=x=>!x||typeof x!="string"?"":x.startsWith("http")||x.startsWith("data:")?x:`${M}${x}`,C=x=>h(x),r=S(!1),n=S(!1),d=S(!1),o=S(!1),u=g(()=>Array.isArray(b.selectedUserClubs)?b.selectedUserClubs:[]),k=g(()=>(u.value?.length||0)>0),R=g(()=>u.value.slice(0,2)),P=g(()=>(u.value?.length||0)>2),m=g(()=>_.isClub&&_.headerName||t.fullname),f=g(()=>_.isClub?_.headerAvatar||"":t.avatar||""),y=async()=>{const x=V.user?.id;if(x)try{o.value=!0,await b.fetchUserClubs(x,{force:!0})}catch{}finally{o.value=!1}};Y(()=>{y()}),p1(()=>V.user?.id,()=>y());const U=()=>{const x=!r.value;r.value=x,x&&(!u.value||u.value.length===0)&&y()},E=()=>{r.value=!1,d.value=!0},q=x=>{const v=typeof x=="object"?x?.id:x;v&&(r.value=!1,d.value=!1,typeof x=="object"&&_.setClubContext({id:v,name:x?.name||"",logo:C(x?.logo)}),c.push({name:"club-view",params:{id:v}}))},a1=()=>{r.value=!1,d.value=!1;const x=V.user?.id;_.setUserContext(),x?c.push({name:"profile",params:{id:x}}):c.push({name:"profile"})},W=g(()=>H.unreadTotal||0),z=g(()=>(H.items?.data||[]).slice()),B=g(()=>z.value.length?z.value[0]:null),s1=g(()=>{const x=[],v=new Date,L=new Date(v.getFullYear(),v.getMonth(),v.getDate()),F=z.value.slice(1);for(const K of F){const C1=K.created_at?new Date(K.created_at):null;if(C1&&C1>=L&&x.push(K),x.length>=2)break}return x}),n1=g(()=>{const x=new Date,v=new Date(x.getFullYear(),x.getMonth(),x.getDate());return z.value.slice(1).filter(F=>{const K=F.created_at?new Date(F.created_at):null;return!(K&&K>=v)}).slice(0,3)}),G=async()=>{V?.token&&(await H.fetchAll({page:1,limit:10,order:"DESC",sort:"created_at"},!0),await I())},J=async()=>{const x=!n.value;n.value=x,x&&(await G(),await I())},r1=async()=>{await H.markAllRead(),await I()},Q=async x=>{try{x.is_read?await H.markUnread(x.id):await H.markRead(x.id)}finally{await I()}},o1=S(!1),$1=async()=>{V?.token&&(o1.value=!0,await H.fetchAll({page:1,limit:10,order:"DESC",sort:"created_at"},!0))};let d1=!1;async function I(){if(!d1){d1=!0;try{await H.refreshUnread()}catch{}finally{d1=!1}}}let l1=null;Y(()=>{V?.token&&I(),window.addEventListener("focus",()=>{V?.token&&I()}),l1=window.setInterval(()=>{document.hasFocus()&&V?.token&&I()},6e4)}),j1(()=>{window.removeEventListener("focus",I),l1&&(window.clearInterval(l1),l1=null)});const u1=g(()=>W.value>0&&!n.value);return(x,v)=>(l(),i(j,null,[e("div",we,[e("div",Ae,[e("button",{class:"md:hidden focus:outline-none",onClick:v[0]||(v[0]=L=>x.$emit("toggle"))},v[8]||(v[8]=[e("i",{class:"mdi mdi-menu text-white text-2xl"},null,-1)])),v[9]||(v[9]=e("div",{class:"logo-box flex items-center"},[e("a",{href:"javascript:void(0)",class:"flex items-center"},[e("img",{src:O1,alt:"Logo",class:"hidden md:block",width:"158",height:"45"}),e("img",{src:q1,alt:"Logo",class:"block md:hidden",width:"36",height:"36"})])],-1))]),e("nav",Me,[e("div",ke,[n.value?(l(),i("div",{key:0,class:"fixed inset-0 z-30",onClick:v[1]||(v[1]=L=>n.value=!1)})):$("",!0),e("button",{class:N(["relative inline-flex items-center justify-center w-9 h-9 rounded-full hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/30",u1.value?"bell-attn-container":""]),onClick:J,"aria-label":"Notifications"},[u1.value?(l(),i("span",$e)):$("",!0),e("i",{class:N(["mdi mdi-bell-outline text-xl",u1.value?"bell-attn":""])},null,2),W.value>0?(l(),i("span",Se,A(Math.min(W.value,99)),1)):$("",!0)],2),n.value?(l(),i("div",Ze,[v[11]||(v[11]=e("div",{class:"absolute right-6 -top-2 h-3 w-3 rotate-45 bg-white ring-1 ring-black/5"},null,-1)),e("div",Ue,[e("div",{class:"px-4 py-3 border-b bg-gray-50 flex items-center justify-between"},[v[10]||(v[10]=e("div",{class:"text-[11px] uppercase tracking-wide text-gray-500"},"Notifications",-1)),e("button",{class:"text-xs text-indigo-600 hover:underline",onClick:r1},"Mark all read")]),O(H).isLoading?(l(),i("div",Ne,"Loadingâ€¦")):(l(),i("div",je,[z.value.length?(l(),i(j,{key:1},[B.value?(l(),i("div",De,"New")):$("",!0),B.value?(l(),i("ul",Re,[(l(),i("li",{key:B.value.id,class:N(["px-4 py-3 border-b flex items-start gap-2",B.value.is_read?"bg-white":"bg-indigo-50"])},[e("div",Te,[e("i",{class:N(["mdi",B.value.is_read?"mdi-bell-outline text-gray-400":"mdi-bell-ring-outline text-indigo-600"])},null,2)]),e("div",Pe,[e("div",{class:"text-sm truncate",title:B.value.message},A(B.value.message),9,Ie),e("div",Oe,A(B.value.created_at?new Date(B.value.created_at).toLocaleString():""),1)]),e("div",qe,[e("button",{class:"text-[11px] px-2 py-0.5 rounded bg-gray-100 hover:bg-gray-200",onClick:v[2]||(v[2]=L=>Q(B.value))},A(B.value.is_read?"Unread":"Read"),1)])],2))])):$("",!0),s1.value.length?(l(),i("div",ze,"Today")):$("",!0),e("ul",null,[(l(!0),i(j,null,D(s1.value,L=>(l(),i("li",{key:L.id,class:N(["px-4 py-3 border-b flex items-start gap-2",L.is_read?"bg-white":"bg-indigo-50"])},[e("div",Fe,[e("i",{class:N(["mdi",L.is_read?"mdi-bell-outline text-gray-400":"mdi-bell-ring-outline text-indigo-600"])},null,2)]),e("div",Ee,[e("div",{class:"text-sm truncate",title:L.message},A(L.message),9,We),e("div",Ke,A(L.created_at?new Date(L.created_at).toLocaleString():""),1)]),e("div",Ye,[e("button",{class:"text-[11px] px-2 py-0.5 rounded bg-gray-100 hover:bg-gray-200",onClick:F=>Q(L)},A(L.is_read?"Unread":"Read"),9,Ge)])],2))),128))]),n1.value.length?(l(),i("div",Je,"Earlier")):$("",!0),e("ul",null,[(l(!0),i(j,null,D(n1.value,L=>(l(),i("li",{key:L.id,class:N(["px-4 py-3 border-b flex items-start gap-2",L.is_read?"bg-white":"bg-indigo-50"])},[e("div",Qe,[e("i",{class:N(["mdi",L.is_read?"mdi-bell-outline text-gray-400":"mdi-bell-ring-outline text-indigo-600"])},null,2)]),e("div",Xe,[e("div",{class:"text-sm truncate",title:L.message},A(L.message),9,et),e("div",tt,A(L.created_at?new Date(L.created_at).toLocaleString():""),1)]),e("div",at,[e("button",{class:"text-[11px] px-2 py-0.5 rounded bg-gray-100 hover:bg-gray-200",onClick:F=>Q(L)},A(L.is_read?"Unread":"Read"),9,st)])],2))),128))])],64)):(l(),i("div",Be,"No notifications"))])),e("div",nt,[e("button",{class:"text-xs text-gray-600",onClick:v[3]||(v[3]=L=>n.value=!1)},"Close"),e("button",{class:"text-xs text-indigo-600 hover:underline",onClick:$1},"See more")])])])):$("",!0)],512),e("button",{class:"flex sm:hidden items-center gap-1.5 px-1.5 py-1 rounded-full bg-transparent text-white hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/30",onClick:U,"aria-expanded":r.value?"true":"false"},[e("div",it,[f.value?(l(),i("img",{key:0,src:f.value,alt:"Avatar",class:"h-full w-full object-cover"},null,8,rt)):(l(),i("div",ot,A(p(m.value)),1))]),e("i",{class:N(["mdi",r.value?"mdi-chevron-up":"mdi-chevron-down","text-lg text-white/90"])},null,2)],8,lt),e("button",{class:"hidden sm:flex items-center gap-2 pl-1 pr-2 py-1 mr-1 rounded-full bg-transparent text-white hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/30",onClick:U,"aria-expanded":r.value?"true":"false"},[e("div",ut,[f.value?(l(),i("img",{key:0,src:f.value,alt:"Avatar",class:"h-full w-full object-cover"},null,8,ct)):(l(),i("div",mt,A(p(m.value)),1))]),e("span",vt,A(m.value),1),e("i",{class:N(["mdi",r.value?"mdi-chevron-up":"mdi-chevron-down","text-lg text-white/90"])},null,2)],8,dt),r.value?(l(),i("div",{key:0,class:"fixed inset-0 z-30",onClick:v[4]||(v[4]=L=>r.value=!1)})):$("",!0),r.value?(l(),i("div",ft,[v[20]||(v[20]=e("div",{class:"absolute right-4 sm:right-6 -top-2 h-3 w-3 rotate-45 bg-white ring-1 ring-black/5"},null,-1)),e("div",gt,[v[18]||(v[18]=e("div",{class:"px-4 py-3 border-b bg-gray-50"},[e("div",{class:"text-[11px] uppercase tracking-wide text-gray-500"},"Account")],-1)),e("button",{class:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50",onClick:a1},[e("div",pt,[s.value?(l(),i("img",{key:0,src:s.value,alt:"avatar",class:"h-full w-full object-cover"},null,8,Ct)):(l(),i("i",yt))]),e("div",ht,[v[12]||(v[12]=e("div",{class:"text-sm font-medium truncate"},"See your profile",-1)),e("div",xt,A(a.fullname),1)]),v[13]||(v[13]=e("i",{class:"mdi mdi-chevron-right text-gray-400"},null,-1))]),v[19]||(v[19]=e("div",{class:"my-1 border-t border-gray-200"},null,-1)),e("div",null,[o.value?(l(),i("div",Vt,[(l(),i(j,null,D(2,L=>e("div",{key:L,class:"flex items-center gap-3 animate-pulse"},v[14]||(v[14]=[e("div",{class:"h-8 w-8 rounded-md bg-gray-200"},null,-1),e("div",{class:"flex-1"},[e("div",{class:"h-3 w-40 bg-gray-200 rounded"})],-1)]))),64))])):$("",!0),o.value?$("",!0):(l(!0),i(j,{key:1},D(R.value,L=>(l(),i("button",{key:L.id,class:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50",onClick:F=>q(L)},[e("div",bt,[C(L.logo)?(l(),i("img",{key:0,src:C(L.logo),alt:"logo",class:"h-full w-full object-cover"},null,8,Ht)):(l(),i("i",_t))]),e("div",wt,[e("div",At,A(L.name||"Club"),1)]),v[15]||(v[15]=e("i",{class:"mdi mdi-chevron-right text-gray-400"},null,-1))],8,Lt))),128)),!o.value&&!k.value?(l(),i("div",Mt," No club affiliations yet. ")):$("",!0)]),e("div",kt,[e("button",{class:N(["w-full px-3 py-2 text-sm rounded-lg transition",o.value?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-900 text-white hover:bg-black"]),disabled:o.value||!P.value,onClick:E}," See all clubs ",10,$t),v[17]||(v[17]=e("div",{class:"border-t border-gray-200"},null,-1)),e("button",{class:"w-full px-3 py-2 text-sm rounded-lg text-gray-700 hover:bg-gray-100 flex items-center justify-center gap-2",onClick:v[5]||(v[5]=L=>{r.value=!1,x.$emit("request-logout")})},v[16]||(v[16]=[e("i",{class:"mdi mdi-logout text-lg"},null,-1),e("span",null,"Log out",-1)]))])])])):$("",!0)])]),Z(se,{modelValue:d.value,"onUpdate:modelValue":v[6]||(v[6]=L=>d.value=L),clubs:u.value,loading:o.value,onSelect:q},null,8,["modelValue","clubs","loading"]),Z(_e,{modelValue:o1.value,"onUpdate:modelValue":v[7]||(v[7]=L=>o1.value=L)},null,8,["modelValue"])],64))}}),Zt=P1(St,[["__scopeId","data-v-63f90143"]]);var Ut="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z",Nt="M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",L1="M12,5.5A3.5,3.5 0 0,1 15.5,9A3.5,3.5 0 0,1 12,12.5A3.5,3.5 0 0,1 8.5,9A3.5,3.5 0 0,1 12,5.5M5,8C5.56,8 6.08,8.15 6.53,8.42C6.38,9.85 6.8,11.27 7.66,12.38C7.16,13.34 6.16,14 5,14A3,3 0 0,1 2,11A3,3 0 0,1 5,8M19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14C17.84,14 16.84,13.34 16.34,12.38C17.2,11.27 17.62,9.85 17.47,8.42C17.92,8.15 18.44,8 19,8M5.5,18.25C5.5,16.18 8.41,14.5 12,14.5C15.59,14.5 18.5,16.18 18.5,18.25V20H5.5V18.25M0,20V18.5C0,17.11 1.89,15.94 4.45,15.6C3.86,16.28 3.5,17.22 3.5,18.25V20H0M24,20H20.5V18.25C20.5,17.22 20.14,16.28 19.55,15.6C22.11,15.94 24,17.11 24,18.5V20Z",Da="M16 17V19H2V17S2 13 9 13 16 17 16 17M12.5 7.5A3.5 3.5 0 1 0 9 11A3.5 3.5 0 0 0 12.5 7.5M15.94 13A5.32 5.32 0 0 1 18 17V19H22V17S22 13.37 15.94 13M15 4A3.39 3.39 0 0 0 13.07 4.59A5 5 0 0 1 13.07 10.41A3.39 3.39 0 0 0 15 11A3.5 3.5 0 0 0 15 4Z",Ra="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",jt="M12 21.5C10.65 20.65 8.2 20 6.5 20C4.85 20 3.15 20.3 1.75 21.05C1.65 21.1 1.6 21.1 1.5 21.1C1.25 21.1 1 20.85 1 20.6V6C1.6 5.55 2.25 5.25 3 5C4.11 4.65 5.33 4.5 6.5 4.5C8.45 4.5 10.55 4.9 12 6C13.45 4.9 15.55 4.5 17.5 4.5C18.67 4.5 19.89 4.65 21 5C21.75 5.25 22.4 5.55 23 6V20.6C23 20.85 22.75 21.1 22.5 21.1C22.4 21.1 22.35 21.1 22.25 21.05C20.85 20.3 19.15 20 17.5 20C15.8 20 13.35 20.65 12 21.5M12 8V19.5C13.35 18.65 15.8 18 17.5 18C18.7 18 19.9 18.15 21 18.5V7C19.9 6.65 18.7 6.5 17.5 6.5C15.8 6.5 13.35 7.15 12 8M13 11.5C14.11 10.82 15.6 10.5 17.5 10.5C18.41 10.5 19.26 10.59 20 10.78V9.23C19.13 9.08 18.29 9 17.5 9C15.73 9 14.23 9.28 13 9.84V11.5M17.5 11.67C15.79 11.67 14.29 11.93 13 12.46V14.15C14.11 13.5 15.6 13.16 17.5 13.16C18.54 13.16 19.38 13.24 20 13.4V11.9C19.13 11.74 18.29 11.67 17.5 11.67M20 14.57C19.13 14.41 18.29 14.33 17.5 14.33C15.67 14.33 14.17 14.6 13 15.13V16.82C14.11 16.16 15.6 15.83 17.5 15.83C18.54 15.83 19.38 15.91 20 16.07V14.57Z",Bt="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",Ta="M19,19H5V8H19M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M16.53,11.06L15.47,10L10.59,14.88L8.47,12.76L7.41,13.82L10.59,17L16.53,11.06Z",Pa="M15,13H16.5V15.82L18.94,17.23L18.19,18.53L15,16.69V13M19,8H5V19H9.67C9.24,18.09 9,17.07 9,16A7,7 0 0,1 16,9C17.07,9 18.09,9.24 19,9.67V8M5,21C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H6V1H8V3H16V1H18V3H19A2,2 0 0,1 21,5V11.1C22.24,12.36 23,14.09 23,16A7,7 0 0,1 16,23C14.09,23 12.36,22.24 11.1,21H5M16,11.15A4.85,4.85 0 0,0 11.15,16C11.15,18.68 13.32,20.85 16,20.85A4.85,4.85 0 0,0 20.85,16C20.85,13.32 18.68,11.15 16,11.15Z",Ia="M9,10V12H7V10H9M13,10V12H11V10H13M17,10V12H15V10H17M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5A2,2 0 0,1 5,3H6V1H8V3H16V1H18V3H19M19,19V8H5V19H19M9,14V16H7V14H9M13,14V16H11V14H13M17,14V16H15V14H17Z",Oa="M3 4V1H5V4H8V6H5V9H3V6H0V4M6 10V7H9V4H16L17.8 6H21C22.1 6 23 6.9 23 8V20C23 21.1 22.1 22 21 22H5C3.9 22 3 21.1 3 20V10M13 19C17.45 19 19.69 13.62 16.54 10.46C13.39 7.31 8 9.55 8 14C8 16.76 10.24 19 13 19M9.8 14C9.8 16.85 13.25 18.28 15.26 16.26C17.28 14.25 15.85 10.8 13 10.8C11.24 10.8 9.8 12.24 9.8 14Z",qa="M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z",za="M3,6H21V18H3V6M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M7,8A2,2 0 0,1 5,10V14A2,2 0 0,1 7,16H17A2,2 0 0,1 19,14V10A2,2 0 0,1 17,8H7Z",Dt="M3 6V18H13.32C13.1 17.33 13 16.66 13 16H7C7 14.9 6.11 14 5 14V10C6.11 10 7 9.11 7 8H17C17 9.11 17.9 10 19 10V10.06C19.67 10.06 20.34 10.18 21 10.4V6H3M12 9C10.3 9.03 9 10.3 9 12C9 13.7 10.3 14.94 12 15C12.38 15 12.77 14.92 13.14 14.77C13.41 13.67 13.86 12.63 14.97 11.61C14.85 10.28 13.59 8.97 12 9M21.63 12.27L17.76 16.17L16.41 14.8L15 16.22L17.75 19L23.03 13.68L21.63 12.27Z",Fa="M5,6H23V18H5V6M14,9A3,3 0 0,1 17,12A3,3 0 0,1 14,15A3,3 0 0,1 11,12A3,3 0 0,1 14,9M9,8A2,2 0 0,1 7,10V14A2,2 0 0,1 9,16H19A2,2 0 0,1 21,14V10A2,2 0 0,1 19,8H9M1,10H3V20H19V22H1V10Z",Ea="M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z",Wa="M13,2.05V5.08C16.39,5.57 19,8.47 19,12C19,12.9 18.82,13.75 18.5,14.54L21.12,16.07C21.68,14.83 22,13.45 22,12C22,6.82 18.05,2.55 13,2.05M12,19A7,7 0 0,1 5,12C5,8.47 7.61,5.57 11,5.08V2.05C5.94,2.55 2,6.81 2,12A10,10 0 0,0 12,22C15.3,22 18.23,20.39 20.05,17.91L17.45,16.38C16.17,18 14.21,19 12,19Z",Ka="M16,11.78L20.24,4.45L21.97,5.45L16.74,14.5L10.23,10.75L5.46,19H22V21H2V3H4V17.54L9.5,8L16,11.78Z",Ya="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",Ga="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",Ja="M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z",Qa="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",Xa="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",es="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",ts="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",as="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",ss="M19 3H14.82C14.4 1.84 13.3 1 12 1S9.6 1.84 9.18 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M7 8H9V12H8V9H7V8M10 17V18H7V17.08L9 15H7V14H9.25C9.66 14 10 14.34 10 14.75C10 14.95 9.92 15.14 9.79 15.27L8.12 17H10M11 4C11 3.45 11.45 3 12 3S13 3.45 13 4 12.55 5 12 5 11 4.55 11 4M17 17H12V15H17V17M17 11H12V9H17V11Z",ns="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",ls="M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12S17.5 2 12 2M7.7 15.5L7 14.2L11 11.9V7H12.5V12.8L7.7 15.5Z",is="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",rs="M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",os="M8.27,3L3,8.27V15.73L8.27,21H15.73L21,15.73V8.27L15.73,3M8.41,7L12,10.59L15.59,7L17,8.41L13.41,12L17,15.59L15.59,17L12,13.41L8.41,17L7,15.59L10.59,12L7,8.41",ds="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",Rt="M9 22C8.4 22 8 21.6 8 21V18H4C2.9 18 2 17.1 2 16V4C2 2.9 2.9 2 4 2H20C21.1 2 22 2.9 22 4V16C22 17.1 21.1 18 20 18H13.9L10.2 21.7C10 21.9 9.8 22 9.5 22H9M13 11V5H11V11M13 15V13H11V15H13Z",us="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",cs="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z",ms="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",vs="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",fs="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z",gs="M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6M20 6L12 11L4 6H20M20 18H4V8L12 13L20 8V18Z",ps="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z",Tt="M6 2C4.89 2 4 2.89 4 4V20A2 2 0 0 0 6 22H12.68A7 7 0 0 1 12 19A7 7 0 0 1 19 12A7 7 0 0 1 20 12.08V8L14 2H6M13 3.5L18.5 9H13V3.5M18 14C17.87 14 17.76 14.09 17.74 14.21L17.55 15.53C17.25 15.66 16.96 15.82 16.7 16L15.46 15.5C15.35 15.5 15.22 15.5 15.15 15.63L14.15 17.36C14.09 17.47 14.11 17.6 14.21 17.68L15.27 18.5C15.25 18.67 15.24 18.83 15.24 19C15.24 19.17 15.25 19.33 15.27 19.5L14.21 20.32C14.12 20.4 14.09 20.53 14.15 20.64L15.15 22.37C15.21 22.5 15.34 22.5 15.46 22.5L16.7 22C16.96 22.18 17.24 22.35 17.55 22.47L17.74 23.79C17.76 23.91 17.86 24 18 24H20C20.11 24 20.22 23.91 20.24 23.79L20.43 22.47C20.73 22.34 21 22.18 21.27 22L22.5 22.5C22.63 22.5 22.76 22.5 22.83 22.37L23.83 20.64C23.89 20.53 23.86 20.4 23.77 20.32L22.7 19.5C22.72 19.33 22.74 19.17 22.74 19C22.74 18.83 22.73 18.67 22.7 18.5L23.76 17.68C23.85 17.6 23.88 17.47 23.82 17.36L22.82 15.63C22.76 15.5 22.63 15.5 22.5 15.5L21.27 16C21 15.82 20.73 15.65 20.42 15.53L20.23 14.21C20.22 14.09 20.11 14 20 14H18M19 17.5C19.83 17.5 20.5 18.17 20.5 19C20.5 19.83 19.83 20.5 19 20.5C18.16 20.5 17.5 19.83 17.5 19C17.5 18.17 18.17 17.5 19 17.5Z",c1="M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z",Cs="M4 4V22H20V24H4C2.9 24 2 23.1 2 22V4H4M15 7H20.5L15 1.5V7M8 0H16L22 6V18C22 19.11 21.11 20 20 20H8C6.89 20 6 19.1 6 18V2C6 .89 6.89 0 8 0M17 16V14H8V16H17M20 12V10H8V12H20Z",ys="M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z",hs="M16.2,17H14.2L12,13.2L9.8,17H7.8L11,12L7.8,7H9.8L12,10.8L14.2,7H16.2L13,12M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",xs="M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M6,20H15L18,20V12L14,16L12,14L6,20M8,9A2,2 0 0,0 6,11A2,2 0 0,0 8,13A2,2 0 0,0 10,11A2,2 0 0,0 8,9Z",Vs="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M9.5 11.5C9.5 12.3 8.8 13 8 13H7V15H5.5V9H8C8.8 9 9.5 9.7 9.5 10.5V11.5M14.5 13.5C14.5 14.3 13.8 15 13 15H10.5V9H13C13.8 9 14.5 9.7 14.5 10.5V13.5M18.5 10.5H17V11.5H18.5V13H17V15H15.5V9H18.5V10.5M12 10.5H13V13.5H12V10.5M7 10.5H8V11.5H7V10.5Z",Ls="M15.5,17H14L12,9.5L10,17H8.5L6.1,7H7.8L9.34,14.5L11.3,7H12.7L14.67,14.5L16.2,7H17.9M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",bs="M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z",Hs="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z",_s="M20,5A2,2 0 0,1 22,7V17A2,2 0 0,1 20,19H4C2.89,19 2,18.1 2,17V7C2,5.89 2.89,5 4,5H20M5,16H19L14.5,10L11,14.5L8.5,11.5L5,16Z",ws="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",As="M22,18V22H18V19H15V16H12L9.74,13.74C9.19,13.91 8.61,14 8,14A6,6 0 0,1 2,8A6,6 0 0,1 8,2A6,6 0 0,1 14,8C14,8.61 13.91,9.19 13.74,9.74L22,18M7,5A2,2 0 0,0 5,7A2,2 0 0,0 7,9A2,2 0 0,0 9,7A2,2 0 0,0 7,5Z",Ms="M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z",Pt="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12M4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z",ks="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",$s="M20,2A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H6L2,22V4C2,2.89 2.9,2 4,2H20M4,4V17.17L5.17,16H20V4H4M6,7H18V9H6V7M6,11H15V13H6V11Z",It="M21,16V4H3V16H21M21,2A2,2 0 0,1 23,4V16A2,2 0 0,1 21,18H14V20H16V22H8V20H10V18H3C1.89,18 1,17.1 1,16V4C1,2.89 1.89,2 3,2H21M5,6H14V11H5V6M15,6H19V8H15V6M19,9V14H15V9H19M5,12H9V14H5V12M10,12H14V14H10V12Z",Ss="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z",Zs="M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z",Ot="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",Us="M18.5 3.5L20.5 5.5L5.5 20.5L3.5 18.5L18.5 3.5M7 4C8.66 4 10 5.34 10 7C10 8.66 8.66 10 7 10C5.34 10 4 8.66 4 7C4 5.34 5.34 4 7 4M17 14C18.66 14 20 15.34 20 17C20 18.66 18.66 20 17 20C15.34 20 14 18.66 14 17C14 15.34 15.34 14 17 14M7 6C6.45 6 6 6.45 6 7C6 7.55 6.45 8 7 8C7.55 8 8 7.55 8 7C8 6.45 7.55 6 7 6M17 16C16.45 16 16 16.45 16 17C16 17.55 16.45 18 17 18C17.55 18 18 17.55 18 17C18 16.45 17.55 16 17 16Z",Ns="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z",js="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L16,12L10,7.5V16.5Z",Bs="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",Ds="M18,3H6V7H18M19,12A1,1 0 0,1 18,11A1,1 0 0,1 19,10A1,1 0 0,1 20,11A1,1 0 0,1 19,12M16,19H8V14H16M19,8H5A3,3 0 0,0 2,11V17H6V21H18V17H22V11A3,3 0 0,0 19,8Z",Rs="M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",Ts="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",Ps="M2,21L23,12L2,3V10L17,12L2,14V21Z",Is="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M17.13,17C15.92,18.85 14.11,20.24 12,20.92C9.89,20.24 8.08,18.85 6.87,17C6.53,16.5 6.24,16 6,15.47C6,13.82 8.71,12.47 12,12.47C15.29,12.47 18,13.79 18,15.47C17.76,16 17.47,16.5 17.13,17Z",Os="M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1Z",qs="M12,8A1,1 0 0,1 13,9A1,1 0 0,1 12,10A1,1 0 0,1 11,9A1,1 0 0,1 12,8M21,11C21,16.55 17.16,21.74 12,23C6.84,21.74 3,16.55 3,11V5L12,1L21,5V11M12,6A3,3 0 0,0 9,9C9,10.31 9.83,11.42 11,11.83V18H13V16H15V14H13V11.83C14.17,11.42 15,10.31 15,9A3,3 0 0,0 12,6Z",zs="M5,4H19A2,2 0 0,1 21,6V18A2,2 0 0,1 19,20H5A2,2 0 0,1 3,18V6A2,2 0 0,1 5,4M5,8V12H11V8H5M13,8V12H19V8H13M5,14V18H11V14H5M13,14V18H19V14H13Z",Fs="M21,19A1,1 0 0,1 20,20H19V18H21V19M15,20V18H17V20H15M11,20V18H13V20H11M7,20V18H9V20H7M4,20A1,1 0 0,1 3,19V18H5V20H4M19,4H5A2,2 0 0,0 3,6V8H5L11,8H13L19,8H21V6C21,4.89 20.11,4 19,4M5,14H3V16H5V14M5,10H3V12H5V10M21,10H19V12H21V10M21,14H19V16H21V14M11,16V14H13V16H11M11,12V10H13V12H11",Es="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z",Ws="M16,18L18.29,15.71L13.41,10.83L9.41,14.83L2,7.41L3.41,6L9.41,12L13.41,8L19.71,14.29L22,12V18H16Z",Ks="M16,6L18.29,8.29L13.41,13.17L9.41,9.17L2,16.59L3.41,18L9.41,12L13.41,16L19.71,9.71L22,12V6H16Z",Ys="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z";const qt=[{to:"/dashboard",icon:It,label:"Dashboard",roles:["admin","student","student_officer"]},{to:"/profile",icon:Nt,label:"Profile",roles:["admin","student","student_officer"]},{to:"/activity-calendar",icon:Bt,label:"Activity Calendar",roles:["admin","student","student_officer"]},{to:"/annual-plans",icon:c1,label:"Annual Plans",roles:["admin","student_officer"]},{to:"/clubs-organization",icon:L1,label:"Clubs/Organizations",roles:["admin","student_officer"]},{to:"/memberships",icon:L1,label:"Memberships",roles:["admin"]},{to:"/activity-designs",icon:Ot,label:"Activity Designs",roles:["admin","student_officer"]},{to:"/utilization-requests",icon:c1,label:"Utilization Requests",roles:["admin","student_officer"]},{to:"/liquidation-funds",icon:Dt,label:"Liquidation Forms",roles:["admin","student_officer"]},{to:"/grievances",icon:Rt,label:"Grievances",roles:["admin","manager","student_officer"]},{to:"/session-logs",icon:Tt,label:"Session Logs",roles:["admin","manager"]},{to:"/workflows",icon:c1,label:"Workflows",roles:["admin"]},{to:"/user-mgt",icon:Ut,label:"User Management",roles:["admin"]},{to:"/tutorials",icon:jt,label:"Tutorials",roles:["admin","student","student_officer"]}],k1=(a="admin")=>(a=(a||"admin").toLowerCase(),qt.filter(s=>!s.roles||s.roles.map(p=>p.toLowerCase()).includes(a)).map(s=>a.startsWith("student")&&s.to==="/dashboard"?{...s,to:"/student-dashboard"}:s)),zt=["width","height"],Ft=["d"],X=Object.assign({name:"BaseIcon"},{__name:"BaseIcon",props:{path:{type:String,required:!0},size:{type:[Number,String],default:20},cls:{type:[String,Array,Object],default:"text-white-300"}},setup(a){const t=a,{path:s,size:p,cls:c}=B1(t);return(V,b)=>(l(),i("svg",{width:O(p),height:O(p),viewBox:"0 0 24 24",class:N(["shrink-0",O(c)]),"aria-hidden":"true",focusable:"false"},[e("path",{d:O(s),fill:"currentColor"},null,8,Ft)],10,zt))}}),Et={key:0,class:"bg-secondary text-white md:hidden overflow-x-auto"},Wt={class:"px-2 pt-2"},Kt={class:"flex space-x-4 p-2 pt-1 whitespace-nowrap"},Yt={class:"text-sm"},Gt={key:0,class:"px-2 pb-2 border-t border-white/10"},Jt={class:"flex space-x-4 p-2 pt-1 whitespace-nowrap"},Qt={class:"text-sm"},Xt=Object.assign({name:"AppMobileNav"},{__name:"AppMobileNav",props:{show:{type:Boolean,default:!1}},setup(a){const t=e1(),s=t1(),p=g(()=>String(t.user?.role||"").toLowerCase()||"admin"),c=g(()=>t.user?.id),V=g(()=>{const n=String(c.value??"");return s.clubsByUser?.[n]||[]}),b=new Set(["president","vice-president","vice president","secretary"]),_=g(()=>Array.isArray(V.value)&&V.value.some(n=>b.has(String(n?.membership?.role||"").toLowerCase()))),H=g(()=>p.value==="student"&&_.value?"student_officer":p.value),M=g(()=>k1(H.value)),h=n=>{const d=Array.isArray(n?.roles)?n.roles.map(u=>String(u).toLowerCase()):[];if(!d.length)return!1;const o=new Set(["admin","manager"]);return d.every(u=>o.has(u))},C=g(()=>M.value.filter(h)),r=g(()=>M.value.filter(n=>!h(n)));return(n,d)=>{const o=w1("router-link");return a.show?(l(),i("nav",Et,[e("div",Wt,[d[0]||(d[0]=e("div",{class:"text-[11px] uppercase tracking-wide text-gray-300 px-1 mb-1"},"General",-1)),e("ul",Kt,[(l(!0),i(j,null,D(r.value,(u,k)=>(l(),i("li",{key:k},[Z(o,{to:u.to,"active-class":"bg-tertiary",class:"flex items-center p-2 hover:bg-tertiary rounded"},{default:v1(()=>[Z(X,{path:u.icon,size:20,cls:"mr-2 text-yellow-300"},null,8,["path"]),e("span",Yt,A(u.label),1)]),_:2},1032,["to"])]))),128))])]),C.value.length?(l(),i("div",Gt,[d[1]||(d[1]=e("div",{class:"text-[11px] uppercase tracking-wide text-indigo-300 px-1 mt-1 mb-1"},"Admin",-1)),e("ul",Jt,[(l(!0),i(j,null,D(C.value,(u,k)=>(l(),i("li",{key:k},[Z(o,{to:u.to,"active-class":"bg-tertiary",class:"flex items-center p-2 hover:bg-tertiary rounded"},{default:v1(()=>[Z(X,{path:u.icon,size:20,cls:"mr-2 text-yellow-300"},null,8,["path"]),e("span",Qt,A(u.label),1)]),_:2},1032,["to"])]))),128))])])):$("",!0)])):$("",!0)}}});function ea(a={}){const{filters:t={},page:s,limit:p,sort:c,order:V,q:b,status:_,school_year:H,club_id:M,filed_by_user_id:h,approver_user_id:C,...r}=a,n={page:s,limit:p,sort:c,order:V,q:b,status:_,school_year:H,club_id:M,filed_by_user_id:h,approver_user_id:C,...r,filters:{...t}};return Object.keys(n).forEach(d=>n[d]===void 0&&delete n[d]),n}function ta(a){return typeof Blob<"u"&&(a instanceof Blob||a instanceof File)}function aa(a,t=!0){if(typeof a=="string")return a;if(a==null)return t?"[]":"null";try{return JSON.stringify(a)}catch{return t?"[]":"null"}}function b1(a={}){const t={...a};return t.plans!==void 0&&(t.plans=aa(t.plans,!0)),t}const sa={async create(a){const{data:t}=await w.post("/annual-plans",b1(a));return t},async getById(a){const{data:t}=await w.get(`/annual-plans/${a}`);return t},async updateById(a,t){const{data:s}=await w.put(`/annual-plans/${a}`,b1(t));return s},async delete(a){const{data:t}=await w.delete(`/annual-plans/${a}`);return t},async list(a={}){const t={officer:!1,...ea(a)},{data:s}=await w.get("/annual-plans",{params:t});return s},async submit(a){const{data:t}=await w.post(`/annual-plans/${a}/submit`);return t},async approve(a,{remarks:t}={}){const{data:s}=await w.post(`/annual-plans/${a}/approve`,{remarks:t});return s},async reject(a,{remarks:t}={}){const{data:s}=await w.post(`/annual-plans/${a}/reject`,{remarks:t});return s},async cancel(a,{remarks:t}={}){const{data:s}=await w.post(`/annual-plans/${a}/cancel`,{remarks:t});return s},async uploadAttachment(a,t){if(ta(t)){const s=new FormData;s.append("file",t);const{data:p}=await w.post(`/annual-plans/${a}/attachments`,s,{headers:{"Content-Type":"multipart/form-data"}});return p}else{const{data:s}=await w.post(`/annual-plans/${a}/attachments`,{file:t});return s}},async deleteAttachment(a,t){const{data:s}=await w.delete(`/annual-plans/${a}/attachments/${t}`);return s}};function na(a={}){const{filters:t={},page:s,limit:p,sort:c,order:V,q:b,status:_,club_id:H,filed_by_user_id:M,assigned_to_user_id:h,...C}=a,r={page:s,limit:p,sort:c,order:V,q:b,status:_,club_id:H,filed_by_user_id:M,assigned_to_user_id:h,...C,filters:{...t}};return Object.keys(r).forEach(n=>r[n]===void 0&&delete r[n]),r}function la(a){return typeof Blob<"u"&&(a instanceof Blob||a instanceof File)}const i1={async create(a){const{data:t}=await w.post("/grievances",a);return t},async getById(a){const{data:t}=await w.get(`/grievances/${a}`);return t},async updateById(a,t){const{data:s}=await w.patch(`/grievances/${a}`,t);return s},async delete(a){const{data:t}=await w.delete(`/grievances/${a}`);return t},async list(a={}){const t=na(a),{data:s}=await w.get("/grievances",{params:t});return s},async uploadAttachment(a,t){if(la(t)){const s=new FormData;s.append("file",t);const{data:p}=await w.post(`/grievances/${a}/attachments`,s,{headers:{"Content-Type":"multipart/form-data"}});return p}else{const{data:s}=await w.post(`/grievances/${a}/attachments`,{file:t});return s}},async deleteAttachment(a,t){const{data:s}=await w.delete(`/grievances/${a}/attachments/${t}`);return s}};function ia(a={}){const{page:t,limit:s,sort:p,order:c,q:V,request_id:b,user_id:_,user_role:H,method:M,status:h,ip:C,created_from:r,created_to:n,...d}=a,o={page:t,limit:s,sort:p,order:typeof c=="string"?String(c).toUpperCase():c,q:V,request_id:b,user_id:_,user_role:H,method:M,status:h,ip:C,created_from:r,created_to:n,...d};return typeof o.method=="string"&&(o.method=o.method.toUpperCase()),typeof o.order=="string"&&(o.order=o.order.toUpperCase()),Object.keys(o).forEach(u=>o[u]===void 0&&delete o[u]),o}const ra={async list(a={}){const t=ia(a),{data:s}=await w.get("/session-logs",{params:t});return s},async getById(a){const{data:t}=await w.get(`/session-logs/${a}`);return t}},oa={class:"relative inline-flex items-center"},da={key:0,class:"ml-2 text-[10px] px-1 py-0.5 rounded bg-indigo-600 text-white"},ua={key:1,class:"ml-1 inline-flex items-center justify-center text-[10px] leading-none min-w-[16px] h-[16px] px-1 rounded-full bg-rose-600 text-white align-super"},ca={key:1,class:"hidden"},ma={key:2,class:"flex items-center p-2 text-gray-400 cursor-not-allowed"},va={class:"relative inline-flex items-center"},fa={key:0,class:"ml-2 text-[10px] px-1 py-0.5 rounded bg-indigo-600 text-white"},ga={key:1,class:"ml-1 inline-flex items-center justify-center text-[10px] leading-none min-w-[16px] h-[16px] px-1 rounded-full bg-rose-600 text-white align-super"},pa=Object.assign({name:"NavbarItem"},{__name:"NavbarItem",props:{item:{type:Object,required:!0}},setup(a){const t=a,s=e1(),p=t1(),c=g(()=>(s.user?.role||"").toLowerCase()||"admin"),V=g(()=>s.user?.id),b=g(()=>{const m=String(V.value??"");return p.clubsByUser?.[m]||[]}),_=["president","vice-president","vice president","secretary"],H=g(()=>Array.isArray(b.value)&&b.value.some(m=>_.includes(String(m?.membership?.role||"").toLowerCase()))),M=g(()=>c.value==="student"&&H.value?"student_officer":c.value),h=g(()=>!(t.item?.roles&&Array.isArray(t.item.roles)&&!t.item.roles.map(f=>String(f).toLowerCase()).includes(M.value)||c.value==="student"&&!H.value&&t.item?.to==="/clubs-organization")),C=g(()=>{const m=Array.isArray(t.item?.roles)?t.item.roles.map(y=>String(y).toLowerCase()):[];if(!m.length)return!1;const f=new Set(["admin","manager"]);return m.every(y=>f.has(y))}),r=g(()=>t.item?.to?c.value==="student"&&t.item.to==="/dashboard"?"/student-dashboard":t.item.to:null),n=g(()=>String(t.item?.to||"")),d=g(()=>{const m=n.value,f=c.value;return(f==="admin"||f==="manager")&&(m==="/workflows"||m==="/annual-plans"||m==="/activity-designs"||m==="/utilization-requests"||m==="/liquidation-funds"||m==="/grievances"||m==="/session-logs")}),o=S(0);let u=0;const k=m=>{if(!m)return 0;const f=m.total??m.count;if(f!=null){const U=Number(f);if(Number.isFinite(U))return U}return(Array.isArray(m.data)?m.data.length:0)||0},R=async()=>{try{const m=++u,f=n.value;if(f==="/workflows"){const[y,U,E,q,a1,W]=await Promise.allSettled([sa.list({status:"pending",page:1,limit:1}),y1.list({status:"pending",page:1,limit:1}),h1.list({status:"pending",page:1,limit:1}),x1.list({status:"pending",page:1,limit:1}),i1.list({status:"submitted",page:1,limit:1}),i1.list({status:"in_review",page:1,limit:1})]);if(m!==u)return;const z=y.status==="fulfilled"?k(y.value):0,B=U.status==="fulfilled"?k(U.value):0,s1=E.status==="fulfilled"?k(E.value):0,n1=q.status==="fulfilled"?k(q.value):0;let G=a1.status==="fulfilled"?k(a1.value):0,J=W.status==="fulfilled"?k(W.value):0;if(G+J===0)try{const[r1,Q]=await Promise.all([w.get("/grievances",{params:{status:"submitted",page:1,limit:1}}),w.get("/grievances",{params:{status:"in_review",page:1,limit:1}})]);G=k(r1.data),J=k(Q.data)}catch{}o.value=z+B+s1+n1+G+J}else if(f==="/annual-plans")await P();else if(f==="/activity-designs"){const y=await y1.list({status:"pending",page:1,limit:1});if(m!==u)return;o.value=k(y)}else if(f==="/utilization-requests"){const y=await h1.list({status:"pending",page:1,limit:1});if(m!==u)return;o.value=k(y)}else if(f==="/liquidation-funds"){const y=await x1.list({status:"pending",page:1,limit:1});if(m!==u)return;o.value=k(y)}else if(f==="/grievances"){const[y,U]=await Promise.allSettled([i1.list({status:"submitted",page:1,limit:1}),i1.list({status:"in_review",page:1,limit:1})]);if(m!==u)return;const E=y.status==="fulfilled"?k(y.value):0,q=U.status==="fulfilled"?k(U.value):0;o.value=E+q}else if(f==="/session-logs"){const y=await ra.list({page:1,limit:1});if(m!==u)return;o.value=k(y)}else o.value=0}catch{o.value=0}};async function P(){try{const m=(await R1(async()=>{const{default:y}=await import("./index.BiRlO2qs.js").then(U=>U.ag);return{default:y}},__vite__mapDeps([0,1]),import.meta.url)).default,{data:f}=await m.get("/annual-plans",{params:{status:"pending",page:1,limit:1}});o.value=f?.total||0}catch{o.value=0}}return Y(()=>{d.value&&R()}),(m,f)=>{const y=w1("router-link");return h.value&&r.value?(l(),D1(y,{key:0,to:r.value,"active-class":"bg-tertiary",class:"flex items-center p-2 hover:bg-tertiary rounded"},{default:v1(()=>[Z(X,{path:a.item.icon,size:20,cls:"mr-2 text-yellow-300"},null,8,["path"]),e("span",oa,[f1(A(a.item.label)+" ",1),C.value?(l(),i("span",da,"ADMIN")):$("",!0),d.value&&o.value>0?(l(),i("span",ua,A(o.value),1)):$("",!0)])]),_:1},8,["to"])):h.value?(l(),i("span",ma,[Z(X,{path:a.item.icon,size:20,cls:"mr-2"},null,8,["path"]),e("span",va,[f1(A(a.item.label)+" ",1),C.value?(l(),i("span",fa,"ADMIN")):$("",!0),d.value&&o.value>0?(l(),i("span",ga,A(o.value),1)):$("",!0)])])):(l(),i("span",ca))}}}),H1=Object.assign({name:"NavbarMenuList"},{__name:"NavbarMenuList",props:{menu:{type:Array,default:()=>[]}},setup(a){return(t,s)=>(l(),i("ul",null,[(l(!0),i(j,null,D(a.menu,(p,c)=>(l(),i("li",{key:c,class:"mb-2"},[Z(pa,{item:p},null,8,["item"])]))),128))]))}}),Ca={class:"w-64 bg-secondary text-white p-4 hidden md:block"},ya={key:0,class:"mt-4 pt-3 border-t border-white/10"},ha=Object.assign({name:"AppSidebar"},{__name:"AppSidebar",emits:["request-logout"],setup(a){const t=e1(),s=t1(),p=g(()=>String(t.user?.role||"").toLowerCase()||"admin"),c=g(()=>t.user?.id),V=g(()=>{const n=String(c.value??"");return s.clubsByUser?.[n]||[]}),b=new Set(["president","vice-president","vice president","secretary"]),_=g(()=>Array.isArray(V.value)&&V.value.some(n=>b.has(String(n?.membership?.role||"").toLowerCase()))),H=g(()=>p.value==="student"&&_.value?"student_officer":p.value),M=g(()=>k1(H.value)),h=n=>{const d=Array.isArray(n?.roles)?n.roles.map(u=>String(u).toLowerCase()):[];if(!d.length)return!1;const o=new Set(["admin","manager"]);return d.every(u=>o.has(u))},C=g(()=>M.value.filter(h)),r=g(()=>M.value.filter(n=>!h(n)));return Y(()=>{try{const n=c.value,d=String(n??"");p.value==="student"&&n&&!Array.isArray(s.clubsByUser?.[d])&&s.fetchUserClubs(n).catch(()=>null)}catch{}}),(n,d)=>(l(),i("aside",Ca,[e("nav",null,[d[4]||(d[4]=e("h2",{class:"text-lg font-bold mb-4 text-yellow-300"},"Navigation",-1)),e("div",null,[d[1]||(d[1]=e("h3",{class:"text-xs uppercase tracking-wide text-gray-300 mb-2"},"General",-1)),Z(H1,{menu:r.value},null,8,["menu"])]),C.value.length?(l(),i("div",ya,[d[2]||(d[2]=e("h3",{class:"text-xs uppercase tracking-wide text-indigo-300 mb-2"},"Admin",-1)),Z(H1,{menu:C.value},null,8,["menu"])])):$("",!0),e("a",{href:"#",onClick:d[0]||(d[0]=g1(o=>n.$emit("request-logout"),["prevent","stop"])),class:"flex items-center p-2 hover:bg-tertiary rounded mt-6"},[Z(X,{path:O(Pt),size:20,cls:"mr-2 text-yellow-300"},null,8,["path"]),d[3]||(d[3]=e("span",null,"Log out",-1))])])]))}}),xa={class:"bg-primary p-4 text-center text-white"},Va={class:"text-sm"},La=Object.assign({name:"AppFooter"},{__name:"AppFooter",setup(a){const t=new Date().getFullYear();return(s,p)=>(l(),i("footer",xa,[e("p",Va,[f1(A(O(t))+" Â© OSAS Kiosk by ",1),p[0]||(p[0]=e("a",{href:"#",target:"_blank",class:"text-yellow-300 hover:underline"},"Dr. Mharfe M. Micaroz",-1))])]))}}),ba={id:"wrapper",class:"min-h-screen flex flex-col m-0 p-0 bg-gradient-to-b from-gray-50 to-white"},Ha={key:0,class:"fixed inset-0 bg-white/80 flex justify-center items-center z-50"},_a={class:"sticky top-0 z-20"},wa={class:"flex flex-1"},Aa={class:"flex-1 m-0 p-0"},Ma={class:"w-full h-full m-0 p-0"},Gs={__name:"LayoutAuthenticated",setup(a){const t=e1(),s=t1(),p=S(!1),c=S(!0),V=S(null),b=g(()=>{const r=t.user?.first_name??"",n=t.user?.last_name??"";return[r,n].filter(Boolean).join(" ")});function _(r){const n=r?.avatar;return n?typeof n=="string"?n:typeof n=="object"&&n&&(n.image||n.url)||"":""}const H=g(()=>{const r=_(t.user);if(r)return r;const n=s.selectedUser;return n&&n.id===t.user?.id?_(n):""}),M=async()=>{try{p.value=!0,await t.logout()}catch(r){console.error("Logout failed:",r)}finally{p.value=!1}},h=()=>M(),C=()=>{c.value=!c.value};return Y(()=>{window.toastRef=V.value;const r=t.user?.id;r&&!_(t.user)&&s.fetchById(r).catch(()=>null)}),p1(()=>s.selectedUser,r=>{const n=t.user?.id;if(!r||!n||r.id!==n)return;const d={...t.user},o=_(r);o&&(d.avatar=o);const u=typeof r?.cover=="string"?r.cover:r?.cover?.image||r?.cover?.url||"";u&&(d.cover=u),t.user=d}),(r,n)=>(l(),i("div",ba,[p.value?(l(),i("div",Ha,n[0]||(n[0]=[e("div",{class:"border-8 border-gray-200 border-t-accent rounded-full w-24 h-24 animate-spin"},null,-1)]))):$("",!0),e("header",_a,[Z(Zt,{fullname:b.value,avatar:H.value,onToggle:C,onRequestLogout:h},null,8,["fullname","avatar"]),Z(Xt,{show:c.value},null,8,["show"])]),e("div",wa,[Z(ha,{onRequestLogout:h}),e("main",Aa,[e("div",Ma,[A1(r.$slots,"default")])])]),Z(La),Z(I1,{ref_key:"toast",ref:V},null,512)]))}},ka="w-full max-w-none m-0 p-2 md:p-6 lg:p-8",Js={__name:"SectionMain",setup(a){return(t,s)=>(l(),i("section",{class:N(["w-full h-full m-0 p-0",O(ka)])},[A1(t.$slots,"default")],2))}};export{ns as $,cs as A,Ys as B,Ss as C,vs as D,Vs as E,Ls as F,hs as G,xs as H,ys as I,Fs as J,Bs as K,Ts as L,bs as M,Hs as N,_s as O,Os as P,jt as Q,js as R,It as S,ws as T,Ut as U,ks as V,zs as W,Dt as X,Is as Y,Bt as Z,Gs as _,Js as a,is as a0,Oa as a1,us as a2,qs as a3,As as a4,fs as a5,Ns as a6,Ta as a7,Ps as a8,Ja as a9,os as aa,qa as ab,Ds as ac,gs as ad,$s as ae,Ya as af,sa as ag,Rs as ah,i1 as ai,ra as aj,as as ak,Xa as al,ms as am,es as an,ts as ao,X as ap,ds as aq,Ga as b,Ks as c,Ws as d,Us as e,ls as f,Ra as g,rs as h,Pa as i,Ia as j,Fa as k,Ms as l,ss as m,Cs as n,za as o,Ka as p,Ea as q,L1 as r,Wa as s,Qa as t,Zs as u,ps as v,Da as w,c1 as x,Ot as y,Es as z};
