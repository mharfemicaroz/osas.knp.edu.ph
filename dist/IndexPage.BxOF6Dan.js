import{z as oe,r as vt,o as ae,c as a,A as ie,l as mt,p as le,q as r,f as y,e,h as P,a as c,F as pt,B as _t,t as d,C as z,v as ne,g as u,j as G,k}from"./index.B70aI5H2.js";import{_ as de,a as re,m as ce,b as ue,c as ve,d as me,e as pe,f as xt,g as ht,h as _e,i as xe,j as he,k as ge,l as be,n as fe,o as ye,p as we,q as K,r as Ae,s as D}from"./SectionMain.BBzFmnTd.js";import{_ as F,a as gt}from"./DoughnutChart.jkUvkvcM.js";import{u as Se}from"./club.DVTikyJa.js";import{u as Ce}from"./clubDoc.DsHdrrvO.js";import{u as ke}from"./activityDesign.BzTvAwyq.js";import{u as je}from"./annualPlan.DfkzcxeQ.js";import{u as Be}from"./liquidationFund.BfKgubgL.js";import{u as De}from"./utilizationRequest.ChnEqA1i.js";import"./ToasterComponent.CU_kl-TQ.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";const Fe={class:"p-3 mb-5 rounded-2xl border bg-white"},$e={class:"grid grid-cols-1 md:grid-cols-5 gap-2 text-sm"},Me=["value"],Oe=["value"],Le={class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4"},Ne={class:"flex items-center justify-between"},We={class:"w-5 h-5 text-blue-500",viewBox:"0 0 24 24"},Pe=["d"],Te={class:"mt-2 text-2xl font-semibold text-gray-900"},Re={class:"flex items-center justify-between"},Ue={class:"w-5 h-5 text-emerald-600",viewBox:"0 0 24 24"},qe=["d"],Ye={class:"mt-2 text-2xl font-semibold text-gray-900"},Ee=["d"],Ve={class:"flex items-center justify-between"},ze={class:"w-5 h-5 text-indigo-600",viewBox:"0 0 24 24"},He=["d"],Ie={class:"mt-2 text-2xl font-semibold text-gray-900"},Je={class:"flex items-center justify-between"},Ge={class:"w-5 h-5 text-amber-600",viewBox:"0 0 24 24"},Ke=["d"],Qe={class:"mt-2 text-2xl font-semibold text-gray-900"},Xe={class:"flex items-center justify-between"},Ze={class:"w-5 h-5 text-rose-600",viewBox:"0 0 24 24"},ts=["d"],es={class:"mt-2 text-2xl font-semibold text-gray-900"},ss={class:"flex items-center justify-between"},os={class:"w-5 h-5 text-slate-600",viewBox:"0 0 24 24"},as=["d"],is={class:"mt-2 text-2xl font-semibold text-gray-900"},ls={class:"rounded-2xl border bg-white shadow-sm p-4"},ns={class:"flex items-center justify-between"},ds={class:"w-5 h-5 text-blue-600",viewBox:"0 0 24 24"},rs=["d"],cs={class:"mt-2 text-2xl font-semibold text-gray-900"},us={class:"mt-1 text-xs text-gray-500"},vs={class:"rounded-2xl border bg-white shadow-sm p-4"},ms={class:"flex items-center justify-between"},ps={class:"w-5 h-5 text-indigo-600",viewBox:"0 0 24 24"},_s=["d"],xs={class:"mt-2 text-2xl font-semibold text-gray-900"},hs={class:"rounded-2xl border bg-white shadow-sm p-4"},gs={class:"flex items-center justify-between"},bs={class:"w-5 h-5 text-emerald-600",viewBox:"0 0 24 24"},fs=["d"],ys={class:"mt-2 text-2xl font-semibold text-gray-900"},ws={class:"mt-1 text-xs text-gray-500"},As={class:"rounded-2xl border bg-white shadow-sm p-4"},Ss={class:"flex items-center justify-between"},Cs={class:"w-5 h-5 text-blue-600",viewBox:"0 0 24 24"},ks=["d"],js={class:"mt-2 text-2xl font-semibold text-gray-900"},Bs={class:"mt-1 text-xs text-gray-500"},Ds={class:"rounded-2xl border bg-white shadow-sm p-4"},Fs={class:"flex items-center justify-between"},$s={class:"w-5 h-5 text-amber-600",viewBox:"0 0 24 24"},Ms=["d"],Os={class:"mt-2 text-2xl font-semibold text-gray-900"},Ls={class:"mt-1 text-xs text-gray-500"},Ns={class:"rounded-2xl border bg-white shadow-sm p-4"},Ws={class:"flex items-center justify-between"},Ps={class:"w-5 h-5 text-emerald-600",viewBox:"0 0 24 24"},Ts=["d"],Rs={class:"mt-2 text-2xl font-semibold text-gray-900"},Us={class:"mt-1 text-xs text-gray-500"},qs={class:"rounded-2xl border bg-white shadow-sm p-4"},Ys={class:"flex items-center justify-between"},Es={class:"w-5 h-5 text-indigo-600",viewBox:"0 0 24 24"},Vs=["d"],zs={class:"mt-1 text-xs text-gray-500"},Hs={class:"rounded-2xl border bg-white shadow-sm p-4"},Is={class:"flex items-center justify-between"},Js={class:"w-5 h-5 text-blue-600",viewBox:"0 0 24 24"},Gs=["d"],Ks={class:"mt-2 text-2xl font-semibold text-gray-900"},Qs={class:"mt-1 text-xs text-gray-500"},Xs={class:"rounded-2xl border bg-white shadow-sm p-4"},Zs={class:"flex items-center justify-between"},to={class:"w-5 h-5 text-rose-600",viewBox:"0 0 24 24"},eo=["d"],so={class:"mt-2 text-2xl font-semibold text-gray-900"},oo={class:"rounded-2xl border bg-white shadow-sm p-4"},ao={class:"flex items-center justify-between"},io={class:"w-5 h-5 text-slate-600",viewBox:"0 0 24 24"},lo=["d"],no={class:"mt-2 text-2xl font-semibold text-gray-900"},ro={class:"rounded-2xl border bg-white shadow-sm p-4"},co={class:"flex items-center justify-between"},uo={class:"w-5 h-5 text-emerald-600",viewBox:"0 0 24 24"},vo=["d"],mo={class:"mt-2 text-2xl font-semibold text-gray-900"},po={class:"mt-6 grid grid-cols-1 xl:grid-cols-3 gap-6"},_o={class:"rounded-2xl border bg-white shadow-sm"},xo={class:"px-4 py-3 border-b flex items-center justify-between"},ho={class:"text-sm font-semibold text-gray-800 flex items-center gap-2"},go={class:"w-4 h-4 text-blue-600",viewBox:"0 0 24 24"},bo=["d"],fo={class:"p-4"},yo={class:"h-72"},wo={class:"rounded-2xl border bg-white shadow-sm"},Ao={class:"px-4 py-3 border-b flex items-center justify-between"},So={class:"text-sm font-semibold text-gray-800 flex items-center gap-2"},Co={class:"w-4 h-4 text-emerald-600",viewBox:"0 0 24 24"},ko=["d"],jo={class:"p-4"},Bo={class:"h-72"},Do={class:"rounded-2xl border bg-white shadow-sm"},Fo={class:"px-4 py-3 border-b flex items-center justify-between"},$o={class:"text-sm font-semibold text-gray-800 flex items-center gap-2"},Mo={class:"w-4 h-4 text-indigo-600",viewBox:"0 0 24 24"},Oo=["d"],Lo={class:"p-4"},No={class:"h-72"},Wo={class:"rounded-2xl border bg-white shadow-sm xl:col-span-2"},Po={class:"px-4 py-3 border-b flex items-center justify-between"},To={class:"text-sm font-semibold text-gray-800 flex items-center gap-2"},Ro={class:"w-4 h-4 text-blue-600",viewBox:"0 0 24 24"},Uo=["d"],qo={class:"p-4"},Yo={class:"rounded-2xl border bg-white shadow-sm"},Eo={class:"px-4 py-3 border-b flex items-center justify-between"},Vo={class:"text-sm font-semibold text-gray-800 flex items-center gap-2"},zo={class:"w-4 h-4 text-amber-600",viewBox:"0 0 24 24"},Ho=["d"],Io={class:"p-4"},Jo={class:"h-80"},Go={class:"rounded-2xl border bg-white shadow-sm"},Ko={class:"px-4 py-3 border-b flex items-center justify-between"},Qo={class:"text-sm font-semibold text-gray-800 flex items-center gap-2"},Xo={class:"w-4 h-4 text-amber-600",viewBox:"0 0 24 24"},Zo=["d"],ta={class:"p-4"},ea={class:"h-72"},sa={class:"rounded-2xl border bg-white shadow-sm"},oa={class:"px-4 py-3 border-b flex items-center justify-between"},aa={class:"text-sm font-semibold text-gray-800 flex items-center gap-2"},ia={class:"w-4 h-4 text-emerald-600",viewBox:"0 0 24 24"},la=["d"],na={class:"p-4"},da={class:"h-72"},ra={class:"rounded-2xl border bg-white shadow-sm"},ca={class:"px-4 py-3 border-b flex items-center justify-between"},ua={class:"text-sm font-semibold text-gray-800 flex items-center gap-2"},va={class:"w-4 h-4 text-indigo-600",viewBox:"0 0 24 24"},ma=["d"],pa={class:"p-4"},_a={class:"h-72"},Ba={__name:"IndexPage",setup(xa){const bt=le(),$=Se(),M=Ce(),O=oe(),T=ke(),R=je(),U=Be(),q=De(),Q=vt(!0);ae(async()=>{try{await Promise.all([$.fetchAll({page:1,limit:100,filters:{include:"users"}},!0),M.fetchAll({page:1,limit:100},!0),O.fetchAll({page:1,limit:100},!0),T.fetchAll({page:1,limit:100},!0),R.fetchAll({page:1,limit:100,status:"approved"},!0),U.fetchAll({page:1,limit:100},!0),q.fetchAll({page:1,limit:100},!0)])}finally{Q.value=!1}});const X=a(()=>Array.isArray($.clubs?.data)?$.clubs.data:[]),ft=a(()=>Array.isArray(M.docs?.data)?M.docs.data:[]),yt=a(()=>Array.isArray(O.users?.data)?O.users.data:[]),H=a(()=>Array.isArray(T.items?.data)?T.items.data:[]);a(()=>Array.isArray(R.items?.data)?R.items.data:[]);const w=a(()=>Array.isArray(U.items?.data)?U.items.data:[]),L=a(()=>Array.isArray(q.items?.data)?q.items.data:[]),wt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],x=s=>Number.isFinite(+s)?(+s).toLocaleString():"0",j=s=>{const t=Number(s);return Number.isFinite(t)?t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"},Y=(s,t)=>{const o=Number(s),i=Number(t);return!Number.isFinite(o)||!Number.isFinite(i)||i<=0?"0%":`${(o/i*100).toFixed(1)}%`},N=s=>{if(!s)return null;const t=new Date(s);return isNaN(t)?null:t},At=(s,t)=>{const o=N(s),i=N(t);return!o||!i?null:Math.round((o-i)/864e5)},_={blue:"rgba(59,130,246,0.85)",blueSoft:"rgba(59,130,246,0.15)",indigo:"rgba(99,102,241,0.85)",indigoSoft:"rgba(99,102,241,0.15)",emerald:"rgba(16,185,129,0.85)",emeraldSoft:"rgba(16,185,129,0.15)",amber:"rgba(245,158,11,0.85)",amberSoft:"rgba(245,158,11,0.15)",rose:"rgba(244,63,94,0.85)",roseSoft:"rgba(244,63,94,0.15)",slate:"rgba(100,116,139,0.85)",slateSoft:"rgba(100,116,139,0.15)"},Z=[_.blue,_.indigo,_.emerald,_.amber,_.rose,_.slate],tt=[_.blueSoft,_.indigoSoft,_.emeraldSoft,_.amberSoft,_.roseSoft,_.slateSoft],b=s=>Z[s%Z.length],E=s=>tt[s%tt.length],St=["1st Semester","2nd Semester","Summer"],Ct=a(()=>{const s=new Date().getFullYear();return Array.from({length:8},(t,o)=>`${s-o}-${s-o+1}`)}),h=vt({school_year:"",semester:"",office_department:"",nature_of_activity:"",status:""}),v=a(()=>{const s=h.value;return H.value.filter(t=>!(s.school_year&&t.school_year!==s.school_year||s.semester&&t.semester!==s.semester||s.office_department&&t.office_department!==s.office_department||s.nature_of_activity&&t.nature_of_activity!==s.nature_of_activity||s.status&&t.status!==s.status))});a(()=>$.clubs?.total||X.value.length||0),a(()=>X.value.filter(s=>s.is_active!==!1).length),a(()=>O.users?.total||yt.value.length||0),a(()=>M.docs?.total||ft.value.length||0);const et=a(()=>v.value.length),I=a(()=>v.value.filter(s=>s.status==="approved").length),st=a(()=>v.value.filter(s=>s.status==="pending").length),ot=a(()=>v.value.filter(s=>s.status==="rejected").length),at=a(()=>v.value.filter(s=>s.status==="cancelled").length),kt=a(()=>I.value+ot.value+at.value+st.value),jt=a(()=>Y(I.value,kt.value)),A=a(()=>{const s=h.value,t=H.value,o=["1st Semester","2nd Semester","Summer"],i=(m,g)=>{let C=o.indexOf(g);return C<=0?{sy:`${+m.split("-")[0]-1}-${+m.split("-")[0]}`,sem:"Summer"}:{sy:m,sem:o[C-1]}};let n=m=>!0,l=m=>!0;if(s.semester&&s.school_year){const m=i(s.school_year,s.semester);n=g=>g.school_year===s.school_year&&g.semester===s.semester,l=g=>g.school_year===m.sy&&g.semester===m.sem}else if(s.school_year){const m=+s.school_year.split("-")[0],g=`${m-1}-${m}`;n=C=>C.school_year===s.school_year,l=C=>C.school_year===g}else{const m=new Date().getFullYear(),g=`${m}-${m+1}`,C=`${m-1}-${m}`;n=J=>J.school_year===g,l=J=>J.school_year===C}const p=t.filter(m=>n(m)&&m.status==="approved").length,f=t.filter(m=>l(m)&&m.status==="approved").length,ut=p-f,se=f>0?ut/f*100:p>0?100:0;return{curr:p,prev:f,deltaAbs:ut,deltaPct:se}}),W=new Date,it=(()=>{const s=new Date,t=s.getDay()||7;return t!==1&&s.setHours(-24*(t-1)),s.setHours(0,0,0,0),s})(),Bt=(()=>{const s=new Date(it);return s.setDate(s.getDate()+6),s.setHours(23,59,59,999),s})(),lt=(s,t,o)=>{const i=N(s);return i&&i>=t&&i<=o},Dt=a(()=>v.value.filter(s=>lt(s.date_of_implementation,it,Bt)).length),Ft=new Date(W.getFullYear(),W.getMonth(),1),$t=new Date(W.getFullYear(),W.getMonth()+1,0,23,59,59,999),Mt=a(()=>v.value.filter(s=>lt(s.date_of_implementation,Ft,$t)).length),Ot=a(()=>v.value.filter(s=>{const t=N(s.date_of_implementation);if(!t)return!1;const o=(t-W)/864e5;return o>=0&&o<=30}).length),nt=a(()=>v.value.reduce((s,t)=>s+(+t.proposed_budget||0),0)),Lt=a(()=>v.value.length?nt.value/v.value.length:0),Nt=a(()=>v.value.filter(s=>s.annual_plan_id!=null)),dt=a(()=>Nt.value.length),Wt=a(()=>Y(dt.value,et.value)),rt=a(()=>w.value.length),Pt=a(()=>w.value.filter(s=>s.status==="completed").length),Tt=a(()=>Y(Pt.value,rt.value)),Rt=a(()=>w.value.reduce((s,t)=>s+(+t.total_sources_amount||0),0)),Ut=a(()=>w.value.reduce((s,t)=>s+(+t.total_uses_amount||0),0)),qt=a(()=>w.value.reduce((s,t)=>s+(+t.total_cash_on_hand||0),0)),Yt=a(()=>{const s=new Map;for(const t of H.value)s.set(t.id,t);return s}),V=a(()=>{let s=0;for(const t of w.value){const o=Yt.value.get(t.activity_design_id);if(!o)continue;const i=+o.proposed_budget||0,n=+t.total_uses_amount||0;s+=n-i}return s}),Et=a(()=>{const s=v.value.filter(o=>o.status==="approved"&&o.approved_at&&o.date_filed);return s.length?s.reduce((o,i)=>o+(At(i.approved_at,i.date_filed)??0),0)/s.length:0}),ct=a(()=>L.value.length),Vt=a(()=>L.value.filter(s=>s.status==="approved").length),zt=a(()=>Y(Vt.value,ct.value)),Ht=a(()=>L.value.filter(s=>s.availability_status==="conflict").length);a(()=>{const s=L.value.filter(o=>Number.isFinite(+o.duration_minutes));return s.length?s.reduce((o,i)=>o+(+i.duration_minutes||0),0)/s.length/60:0});const It=a(()=>new Set(v.value.map(t=>t.club_id)).size),B=(s={})=>{bt.push({name:"activity-designs",query:{...h.value,...s}})},Jt=a(()=>{const s={draft:0,pending:0,approved:0,rejected:0,cancelled:0};for(const o of v.value)s[o.status]=(s[o.status]||0)+1;const t=Object.keys(s);return{labels:t,datasets:[{data:t.map(o=>s[o]),backgroundColor:t.map((o,i)=>b(i)),borderColor:t.map(()=>"white"),borderWidth:2}]}}),Gt=a(()=>{const s={Curricular:0,"Co-Curricular":0,"Extra-Curricular":0};for(const o of v.value)s[o.nature_of_activity]=(s[o.nature_of_activity]||0)+1;const t=Object.keys(s);return{labels:t,datasets:[{data:t.map(o=>s[o]),backgroundColor:t.map((o,i)=>b(i+1)),borderColor:t.map(()=>"white"),borderWidth:2}]}}),Kt=a(()=>{const s={"1st Semester":0,"2nd Semester":0,Summer:0};for(const o of v.value)s[o.semester]=(s[o.semester]||0)+1;const t=Object.keys(s);return{labels:t,datasets:[{data:t.map(o=>s[o]),backgroundColor:t.map((o,i)=>b(i+2)),borderColor:t.map(()=>"white"),borderWidth:2}]}});a(()=>{const s=v.value.filter(o=>o.status==="approved").length,t=v.value.length-s;return{labels:["Approved","Not Approved"],datasets:[{data:[s,t],backgroundColor:[_.emerald,_.rose],borderColor:["white","white"],borderWidth:2}]}});const Qt=a(()=>{const s=["draft","pending","approved","rejected","cancelled","completed"],t=Object.fromEntries(s.map(o=>[o,0]));for(const o of w.value)t[o.status]=(t[o.status]||0)+1;return{labels:s,datasets:[{data:s.map(o=>t[o]||0),backgroundColor:s.map((o,i)=>b(i)),borderColor:s.map(()=>"white"),borderWidth:2}]}}),Xt=a(()=>{const s=["pending-check","available","conflict","reserved","maintenance","unknown"],t=Object.fromEntries(s.map(o=>[o,0]));for(const o of L.value)t[o.availability_status]=(t[o.availability_status]||0)+1;return{labels:s,datasets:[{data:s.map(o=>t[o]),backgroundColor:s.map((o,i)=>b(i)),borderColor:s.map(()=>"white"),borderWidth:2}]}}),Zt=a(()=>{const s=["contribution","payment_from_fines","solicitations","donations","other_sources","current_available_funds"],t=Object.fromEntries(s.map(i=>[i,0])),o=(i,n)=>{try{return JSON.parse(i||"")??n}catch{return n}};for(const i of w.value){const n=o(i.sources_of_fund,{});for(const l of s)t[l]+=+n[l]||0}return{labels:s,datasets:[{data:s.map(i=>t[i]),backgroundColor:s.map((i,n)=>b(n)),borderColor:s.map(()=>"white"),borderWidth:2}]}}),te=a(()=>{const s=new Map;for(const n of v.value){const l=n.club?.name||`Club #${n.club_id}`;s.set(l,(s.get(l)||0)+1)}const t=[...s.entries()].map(([n,l])=>({name:n,count:l})).sort((n,l)=>l.count-n.count).slice(0,10),o=t.map(n=>n.name),i=t.map(n=>n.count);return{labels:o,datasets:[{label:"# Activities",data:i,backgroundColor:o.map((n,l)=>E(l)),borderColor:o.map((n,l)=>b(l)),borderWidth:1.5}]}});a(()=>{const s=new Map;for(const n of v.value){const l=n.club?.name||`Club #${n.club_id}`;s.set(l,(s.get(l)||0)+(+n.proposed_budget||0))}const t=[...s.entries()].map(([n,l])=>({name:n,sum:l})).sort((n,l)=>l.sum-n.sum).slice(0,10),o=t.map(n=>n.name),i=t.map(n=>n.sum);return{labels:o,datasets:[{label:"Proposed Budget",data:i,backgroundColor:o.map((n,l)=>E(l)),borderColor:o.map((n,l)=>b(l)),borderWidth:1.5}]}});const ee=a(()=>{const s={};for(const o of v.value){const i=o.office_department||"—";s[i]=(s[i]||0)+1}const t=Object.keys(s).sort((o,i)=>s[i]-s[o]).slice(0,12);return{labels:t,datasets:[{label:"# Activities",data:t.map(o=>s[o]),backgroundColor:t.map((o,i)=>E(i)),borderColor:t.map((o,i)=>b(i)),borderWidth:1.5}]}});a(()=>{const t=[...new Set(v.value.map(l=>l.club?.name||`Club #${l.club_id}`))].slice(0,12),o=["draft","pending","approved","rejected","cancelled"],i=Object.fromEntries(o.map(l=>[l,Array(t.length).fill(0)]));for(const l of v.value){const p=l.club?.name||`Club #${l.club_id}`,f=t.indexOf(p);f<0||(i[l.status][f]+=1)}const n=o.map((l,p)=>({label:l,data:i[l],backgroundColor:E(p),borderColor:b(p),borderWidth:1.2}));return{labels:t,datasets:n,stacked:!0}}),a(()=>{const s=new Date,t=[];for(let l=11;l>=0;l--){const p=new Date(s.getFullYear(),s.getMonth()-l,1);t.push({key:`${p.getFullYear()}-${p.getMonth()}`,y:p.getFullYear(),m:p.getMonth(),v:0})}const o=new Map(t.map(l=>[l.key,l]));for(const l of v.value){const p=N(l.date_filed||l.created_at);if(!p)continue;const f=`${p.getFullYear()}-${p.getMonth()}`;o.has(f)&&o.get(f).v++}const i=t.map(l=>`${wt[l.m]} ${String(l.y).slice(-2)}`),n=t.map(l=>l.v);return{labels:i,datasets:[{label:"Activities filed",data:n,borderColor:_.indigo,backgroundColor:_.indigoSoft,borderWidth:2,pointRadius:3,pointHoverRadius:4,tension:.3,fill:!0}]}});const S=a(()=>Q.value||$.isLoading||M.isLoading||O.isLoading||T.isLoading||R.isLoading||U.isLoading||q.isLoading);return(s,t)=>(r(),ie(de,null,{default:mt(()=>[y(re,null,{default:mt(()=>[t[49]||(t[49]=e("div",{class:"mb-4"},[e("h1",{class:"text-xl font-semibold text-gray-900"},"Dashboard"),e("p",{class:"text-sm text-gray-500"},"Key metrics & trends across activities, funds, utilization, and clubs. ")],-1)),e("div",Fe,[e("div",$e,[P(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>h.value.school_year=o),class:"border rounded px-2 py-2"},[t[11]||(t[11]=e("option",{value:""},"All School Years",-1)),(r(!0),c(pt,null,_t(Ct.value,o=>(r(),c("option",{key:o,value:o},d(o),9,Me))),128))],512),[[z,h.value.school_year]]),P(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>h.value.semester=o),class:"border rounded px-2 py-2"},[t[12]||(t[12]=e("option",{value:""},"All Semesters",-1)),(r(),c(pt,null,_t(St,o=>e("option",{key:o,value:o},d(o),9,Oe)),64))],512),[[z,h.value.semester]]),P(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>h.value.office_department=o),placeholder:"Office / Department",class:"border rounded px-2 py-2"},null,512),[[ne,h.value.office_department]]),P(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>h.value.nature_of_activity=o),class:"border rounded px-2 py-2"},t[13]||(t[13]=[e("option",{value:""},"All Natures",-1),e("option",null,"Curricular",-1),e("option",null,"Co-Curricular",-1),e("option",null,"Extra-Curricular",-1)]),512),[[z,h.value.nature_of_activity]]),P(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>h.value.status=o),class:"border rounded px-2 py-2"},t[14]||(t[14]=[e("option",{value:""},"All Statuses",-1),e("option",null,"draft",-1),e("option",null,"pending",-1),e("option",null,"approved",-1),e("option",null,"rejected",-1),e("option",null,"cancelled",-1)]),512),[[z,h.value.status]])])]),e("div",Le,[e("div",{class:"rounded-2xl border bg-white shadow-sm p-4 cursor-pointer hover:shadow",onClick:t[5]||(t[5]=o=>B())},[e("div",Ne,[t[15]||(t[15]=e("div",{class:"text-sm text-gray-500"},"Total Activities Filed",-1)),(r(),c("svg",We,[e("path",{d:u(ce)},null,8,Pe)]))]),e("div",Te,d(x(et.value)),1),t[16]||(t[16]=e("div",{class:"mt-1 text-xs text-gray-500"},"Filtered by controls above",-1))]),e("div",{class:"rounded-2xl border bg-white shadow-sm p-4 cursor-pointer hover:shadow",onClick:t[6]||(t[6]=o=>B({status:"approved"}))},[e("div",Re,[t[17]||(t[17]=e("div",{class:"text-sm text-gray-500"},"Approved Activities",-1)),(r(),c("svg",Ue,[e("path",{d:u(ue)},null,8,qe)]))]),e("div",Ye,d(x(I.value)),1),e("div",{class:G(["mt-1 text-xs flex items-center gap-1",A.value.deltaAbs>=0?"text-emerald-600":"text-rose-600"])},[(r(),c("svg",{class:G(["w-3.5 h-3.5",A.value.deltaAbs>=0?"text-emerald-600":"text-rose-600"]),viewBox:"0 0 24 24"},[e("path",{d:A.value.deltaAbs>=0?u(ve):u(me)},null,8,Ee)],2)),e("span",null,d(A.value.deltaAbs>=0?"+":"")+d(A.value.deltaAbs),1),e("span",null,"("+d(A.value.deltaPct.toFixed?A.value.deltaPct.toFixed(1):A.value.deltaPct)+"%) vs prev",1)],2)]),e("div",{class:"rounded-2xl border bg-white shadow-sm p-4 cursor-pointer hover:shadow",onClick:t[7]||(t[7]=o=>B())},[e("div",Ve,[t[18]||(t[18]=e("div",{class:"text-sm text-gray-500"},"Approval Rate",-1)),(r(),c("svg",ze,[e("path",{d:u(pe)},null,8,He)]))]),e("div",Ie,d(jt.value),1),t[19]||(t[19]=e("div",{class:"mt-1 text-xs text-gray-500"},"On approved/pending/rejected/cancelled",-1))]),e("div",{class:"rounded-2xl border bg-white shadow-sm p-4 cursor-pointer hover:shadow",onClick:t[8]||(t[8]=o=>B({status:"pending"}))},[e("div",Je,[t[20]||(t[20]=e("div",{class:"text-sm text-gray-500"},"Pending Activities",-1)),(r(),c("svg",Ge,[e("path",{d:u(xt)},null,8,Ke)]))]),e("div",Qe,d(x(st.value)),1),t[21]||(t[21]=e("div",{class:"mt-1 text-xs text-gray-500"},"Awaiting decision",-1))]),e("div",{class:"rounded-2xl border bg-white shadow-sm p-4 cursor-pointer hover:shadow",onClick:t[9]||(t[9]=o=>B({status:"rejected"}))},[e("div",Xe,[t[22]||(t[22]=e("div",{class:"text-sm text-gray-500"},"Rejected",-1)),(r(),c("svg",Ze,[e("path",{d:u(ht)},null,8,ts)]))]),e("div",es,d(x(ot.value)),1),t[23]||(t[23]=e("div",{class:"mt-1 text-xs text-gray-500"},"Decisions: reject",-1))]),e("div",{class:"rounded-2xl border bg-white shadow-sm p-4 cursor-pointer hover:shadow",onClick:t[10]||(t[10]=o=>B({status:"cancelled"}))},[e("div",ss,[t[24]||(t[24]=e("div",{class:"text-sm text-gray-500"},"Cancelled",-1)),(r(),c("svg",os,[e("path",{d:u(_e)},null,8,as)]))]),e("div",is,d(x(at.value)),1),t[25]||(t[25]=e("div",{class:"mt-1 text-xs text-gray-500"},"Withdrawn activities",-1))]),e("div",ls,[e("div",ns,[t[26]||(t[26]=e("div",{class:"text-sm text-gray-500"},"Activities This Week",-1)),(r(),c("svg",ds,[e("path",{d:u(xe)},null,8,rs)]))]),e("div",cs,d(x(Dt.value)),1),e("div",us,"This Month: "+d(x(Mt.value)),1)]),e("div",vs,[e("div",ms,[t[27]||(t[27]=e("div",{class:"text-sm text-gray-500"},"Upcoming (30 Days)",-1)),(r(),c("svg",ps,[e("path",{d:u(he)},null,8,_s)]))]),e("div",xs,d(x(Ot.value)),1),t[28]||(t[28]=e("div",{class:"mt-1 text-xs text-gray-500"},"Implementation dates ahead",-1))]),e("div",hs,[e("div",gs,[t[29]||(t[29]=e("div",{class:"text-sm text-gray-500"},"Total Proposed Budget",-1)),(r(),c("svg",bs,[e("path",{d:u(ge)},null,8,fs)]))]),e("div",ys,"₱"+d(j(nt.value)),1),e("div",ws,"Average: ₱"+d(j(Lt.value)),1)]),e("div",As,[e("div",Ss,[t[30]||(t[30]=e("div",{class:"text-sm text-gray-500"},"Activities w/ Plan Link",-1)),(r(),c("svg",Cs,[e("path",{d:u(be)},null,8,ks)]))]),e("div",js,d(x(dt.value)),1),e("div",Bs,"Share: "+d(Wt.value),1)]),e("div",Ds,[e("div",Fs,[t[31]||(t[31]=e("div",{class:"text-sm text-gray-500"},"Liquidations Filed",-1)),(r(),c("svg",$s,[e("path",{d:u(fe)},null,8,Ms)]))]),e("div",Os,d(x(rt.value)),1),e("div",Ls,"Completion: "+d(Tt.value),1)]),e("div",Ns,[e("div",Ws,[t[32]||(t[32]=e("div",{class:"text-sm text-gray-500"},"Cash on Hand",-1)),(r(),c("svg",Ps,[e("path",{d:u(ye)},null,8,Ts)]))]),e("div",Rs,"₱"+d(j(qt.value)),1),e("div",Us,"Sources: ₱"+d(j(Rt.value))+" • Uses: ₱"+d(j(Ut.value)),1)]),e("div",qs,[e("div",Ys,[t[33]||(t[33]=e("div",{class:"text-sm text-gray-500"},"Budget Variance",-1)),(r(),c("svg",Es,[e("path",{d:u(we)},null,8,Vs)]))]),e("div",{class:G(["mt-2 text-2xl font-semibold",V.value>=0?"text-rose-600":"text-emerald-600"])},d(V.value>=0?"+":"-")+"₱"+d(j(Math.abs(V.value))),3),e("div",zs,d(V.value>=0?"Overspend":"Underspend")+" vs proposed",1)]),e("div",Hs,[e("div",Is,[t[34]||(t[34]=e("div",{class:"text-sm text-gray-500"},"Facility Requests",-1)),(r(),c("svg",Js,[e("path",{d:u(K)},null,8,Gs)]))]),e("div",Ks,d(x(ct.value)),1),e("div",Qs,"Approval Rate: "+d(zt.value),1)]),e("div",Xs,[e("div",Zs,[t[35]||(t[35]=e("div",{class:"text-sm text-gray-500"},"Conflicts Detected",-1)),(r(),c("svg",to,[e("path",{d:u(ht)},null,8,eo)]))]),e("div",so,d(x(Ht.value)),1),t[36]||(t[36]=e("div",{class:"mt-1 text-xs text-gray-500"},"Schedule overlaps",-1))]),e("div",oo,[e("div",ao,[t[37]||(t[37]=e("div",{class:"text-sm text-gray-500"},"Avg Approval Time",-1)),(r(),c("svg",io,[e("path",{d:u(xt)},null,8,lo)]))]),e("div",no,d((Et.value||0).toFixed(1))+" days ",1),t[38]||(t[38]=e("div",{class:"mt-1 text-xs text-gray-500"},"Approved activities only",-1))]),e("div",ro,[e("div",co,[t[39]||(t[39]=e("div",{class:"text-sm text-gray-500"},"Distinct Clubs Active",-1)),(r(),c("svg",uo,[e("path",{d:u(Ae)},null,8,vo)]))]),e("div",mo,d(x(It.value)),1),t[40]||(t[40]=e("div",{class:"mt-1 text-xs text-gray-500"},"With ≥ 1 filtered activity",-1))])]),e("div",po,[e("div",_o,[e("div",xo,[e("h3",ho,[(r(),c("svg",go,[e("path",{d:u(D)},null,8,bo)])),t[41]||(t[41]=k(" Activities by Status ",-1))])]),e("div",fo,[e("div",yo,[y(F,{data:Jt.value,loading:S.value},null,8,["data","loading"])])])]),e("div",wo,[e("div",Ao,[e("h3",So,[(r(),c("svg",Co,[e("path",{d:u(D)},null,8,ko)])),t[42]||(t[42]=k(" Activities by Nature ",-1))])]),e("div",jo,[e("div",Bo,[y(F,{data:Gt.value,loading:S.value},null,8,["data","loading"])])])]),e("div",Do,[e("div",Fo,[e("h3",$o,[(r(),c("svg",Mo,[e("path",{d:u(D)},null,8,Oo)])),t[43]||(t[43]=k(" Activities by Semester ",-1))])]),e("div",Lo,[e("div",No,[y(F,{data:Kt.value,loading:S.value},null,8,["data","loading"])])])]),e("div",Wo,[e("div",Po,[e("h3",To,[(r(),c("svg",Ro,[e("path",{d:u(K)},null,8,Uo)])),t[44]||(t[44]=k(" Top Clubs by # of Activities ",-1))])]),e("div",qo,[e("div",null,[y(gt,{data:te.value,loading:S.value,horizontal:!0},null,8,["data","loading"])])])]),e("div",Yo,[e("div",Eo,[e("h3",Vo,[(r(),c("svg",zo,[e("path",{d:u(K)},null,8,Ho)])),t[45]||(t[45]=k(" Office / Department by # Activities ",-1))])]),e("div",Io,[e("div",Jo,[y(gt,{data:ee.value,loading:S.value,horizontal:!0},null,8,["data","loading"])])])]),e("div",Go,[e("div",Ko,[e("h3",Qo,[(r(),c("svg",Xo,[e("path",{d:u(D)},null,8,Zo)])),t[46]||(t[46]=k(" Liquidation by Status ",-1))])]),e("div",ta,[e("div",ea,[y(F,{data:Qt.value,loading:S.value},null,8,["data","loading"])])])]),e("div",sa,[e("div",oa,[e("h3",aa,[(r(),c("svg",ia,[e("path",{d:u(D)},null,8,la)])),t[47]||(t[47]=k(" Liquidation by Source ",-1))])]),e("div",na,[e("div",da,[y(F,{data:Zt.value,loading:S.value},null,8,["data","loading"])])])]),e("div",ra,[e("div",ca,[e("h3",ua,[(r(),c("svg",va,[e("path",{d:u(D)},null,8,ma)])),t[48]||(t[48]=k(" Utilization by Availability ",-1))])]),e("div",pa,[e("div",_a,[y(F,{data:Xt.value,loading:S.value},null,8,["data","loading"])])])])])]),_:1,__:[49]})]),_:1}))}};export{Ba as default};
