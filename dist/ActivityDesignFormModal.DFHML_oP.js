import{c,u as me,r as k,o as pe,x as N,G as ce,a as n,d as v,q as d,e as l,h as m,t as o,j as y,k as p,C as V,F as q,B as U,v as b,g as be,S as L}from"./index.DHp68N3N.js";import{u as _e}from"./activityDesign._B7mmJrB.js";import{u as fe}from"./club.B3JURkgS.js";import{u as ye}from"./annualPlan.M-kt7Nva.js";const xe={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm"},ge={class:"bg-white p-3 md:p-4 rounded-xl shadow-lg w-[780px] max-h-[85vh] overflow-y-auto"},ke={class:"flex items-center justify-between mb-2"},we={class:"flex items-center gap-2"},Se={class:"text-base font-semibold"},Ae={key:0,class:"mb-2 text-[11px] px-2.5 py-1.5 rounded-lg border bg-amber-50 border-amber-200 text-amber-800"},Ce={class:"p-2 mb-2 rounded-xl border bg-white/70"},Ne={class:"flex items-center justify-between mb-1"},Ve={class:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm"},qe=["disabled"],Ue=["value"],Ie=["disabled"],he=["value"],je={key:0,class:"mt-2 text-[11px] rounded-lg border bg-gray-50 px-2.5 py-1.5"},Re={class:"flex flex-wrap gap-3"},Be={key:0},Pe={key:1},De={class:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm"},Oe=["disabled"],Le={key:0,class:"text-red-600 text-[11px] mt-0.5"},Fe=["disabled"],$e=["value"],Ee={key:0,class:"text-red-600 text-[11px] mt-0.5"},Te=["disabled"],Je=["value"],Me={key:0,class:"text-red-600 text-[11px] mt-0.5"},Ye={class:"md:col-span-3"},ze=["disabled"],Ge={key:0,class:"text-red-600 text-[11px] mt-0.5"},Ke={class:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-2 text-sm"},He={class:"block mb-0.5"},Qe={key:0,class:"ml-1 text-[10px] px-1.5 py-0.5 rounded bg-emerald-100 text-emerald-700 align-middle"},We=["disabled"],Xe=["value"],Ze={key:0,class:"text-red-600 text-[11px] mt-0.5"},et=["disabled"],tt=["disabled","aria-invalid"],lt={key:0,class:"text-red-600 text-[11px] mt-0.5"},at={class:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-2 text-sm"},st=["disabled"],ut=["disabled","aria-invalid"],it=["value"],nt={key:0,class:"text-red-600 text-[11px] mt-0.5"},dt=["disabled"],ot={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm"},rt=["disabled","aria-invalid"],vt={key:0,class:"text-red-600 text-[11px] mt-0.5"},mt=["disabled","aria-invalid"],pt={key:0,class:"text-red-600 text-[11px] mt-0.5"},ct={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm"},bt=["disabled","aria-invalid"],_t={key:0,class:"text-red-600 text-[11px] mt-0.5"},ft=["disabled","aria-invalid"],yt={key:0,class:"text-red-600 text-[11px] mt-0.5"},xt={key:1,class:"mt-2 text-sm"},gt=["disabled"],kt={class:"mt-2 text-sm"},wt=["disabled"],St={key:0,class:"text-red-600 text-[11px] mt-0.5"},At={class:"flex justify-end gap-1.5 mt-4"},Ct={key:1,class:"px-3 py-1.5 bg-blue-600 text-white rounded text-xs"},It={__name:"ActivityDesignFormModal",props:{modelValue:{type:Boolean,default:!1},mode:{type:String,default:"create"},lockedClubId:{type:[String,Number],default:""},initial:{type:Object,default:()=>({id:null,date_filed:"",semester:"",office_department:"",school_year:"",name_of_activity:"",venue:"",date_of_implementation:"",proposed_budget:0,participants:"",nature_of_activity:"Curricular",rationale:"",objectives:"",details_of_activity:"",budgetary_requirements:"",file_by_user_name:"",noted_by:"",filed_by_user_id:"",club_id:"",status:"draft",remarks:"",annual_plan_id:"",annual_plan_item:null})}},emits:["update:modelValue","submit"],setup(F,{emit:H}){const _=F,$=H,j=c({get:()=>_.modelValue,set:a=>$("update:modelValue",a)}),I=me(),x=fe(),E=_e(),R=ye(),h=c(()=>I.user?.id||null),B=c(()=>String(I.user?.role||"").toLowerCase()==="admin"),t=k({..._.initial}),u=k({}),P=k(!0),D=k(""),w=k(null),Q=["1st Semester","2nd Semester","Summer"],W=["Curricular","Co-Curricular","Extra-Curricular"],T=c(()=>{const a=new Date().getFullYear();return Array.from({length:6},(e,i)=>`${a-i}-${a-i+1}`)}),J=a=>{const e=Number(a);return Number.isFinite(e)?e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"},X=(a,e=[])=>{if(Array.isArray(a))return a;try{return JSON.parse(a||"[]")||e}catch{return e}},Z=(a,e=null)=>{if(a&&typeof a=="object")return a;try{return JSON.parse(a||"null")??e}catch{return e}},S=a=>{const e=Number(a);return(x.clubs?.data||[]).find(s=>Number(s.id)===e)?.name||""},M=a=>{const e=Number(a);return(x.clubs?.data||[]).find(s=>Number(s.id)===e)?.adviser||""},ee=c(()=>(M(t.value.club_id)||"").trim()),te=c(()=>ee.value.length>0),O=k([]),le=a=>{if(!a)return[];if(Array.isArray(a))return a;try{return JSON.parse(a||"[]")||[]}catch{return[]}},Y=c(()=>{const a=I.user?.last_name||"",e=(I.user?.first_name||"").slice(0,1);return`${a}${a?", ":""}${e?e+".":""}`}),z=c(()=>{const a=Array.isArray(R.items?.data)?R.items.data.filter(e=>String(e.status||"").toLowerCase()==="approved"):[];if(_.lockedClubId){const e=Number(_.lockedClubId);return a.filter(i=>Number(i.club_id)===e)}return a}),f=c(()=>{const a=Number(t.value.annual_plan_id||0);return a&&z.value.find(e=>Number(e.id)===a)||null}),A=c(()=>{const a=f.value;return a?X(a.plans,[]).map((i,s)=>({key:String(i?.id??i?.plan_id??s),title:i?.title??i?.name??i?.activity??i?.label??`Item #${s+1}`,funds:Number(i?.funds??i?.budget??0)||0,raw:i})):[]}),g=k("");pe(async()=>{(!Array.isArray(x.clubs?.data)||!x.clubs.data.length)&&await x.fetchAll({page:1,limit:200},!0),await R.fetchAll({page:1,limit:500,status:"approved"},!0),_.lockedClubId&&(t.value.club_id=Number(_.lockedClubId))}),N(()=>_.initial,async a=>{P.value=!(a&&String(a.noted_by||"").trim()),D.value="",O.value=le(a?.remarks)},{immediate:!0}),N(()=>_.initial,a=>{const e=Z(a.annual_plan_item,null);if(t.value={...a,annual_plan_item:e},u.value={},w.value=null,t.value.school_year||(t.value.school_year=T.value[0]),!t.value.filed_by_user_id&&h.value&&(t.value.filed_by_user_id=h.value),t.value.club_id){const i=S(t.value.club_id);i&&(t.value.office_department=i)}queueMicrotask(()=>{if(!f.value||!t.value.annual_plan_item){g.value="";return}const s=A.value,K=s.findIndex(ve=>JSON.stringify(ve.raw)===JSON.stringify(t.value.annual_plan_item));g.value=K>=0?s[K].key:""})},{immediate:!0}),N(()=>t.value.club_id,a=>{if(C.value)return;const e=S(a);e&&(t.value.office_department=e)}),N(()=>[t.value.club_id,x.clubs?.data?.length],()=>{const a=M(t.value.club_id)||"";(P.value||t.value.noted_by===D.value)&&(t.value.noted_by=a,D.value=a)},{immediate:!0}),N(()=>t.value.annual_plan_id,(a,e)=>{t.value.annual_plan_item=null,g.value="";const i=f.value;i&&(w.value||(w.value={school_year:t.value.school_year,proposed_budget:t.value.proposed_budget,club_id:t.value.club_id,office_department:t.value.office_department}),t.value.club_id=i.club_id,t.value.office_department=i?.club?.name||S(i.club_id)||t.value.office_department)}),N(()=>g.value,a=>{const e=f.value;if(!e||!a){t.value.annual_plan_item=null;return}const i=A.value.find(s=>s.key===a);if(!i){t.value.annual_plan_item=null;return}t.value.annual_plan_item=i.raw,e.school_year&&(t.value.school_year=e.school_year),Number.isFinite(i.funds)&&(t.value.proposed_budget=i.funds),t.value.venue=A.value[0].raw.venue,t.value.date_of_implementation=A.value[0].raw.date_of_implementation,t.value.school_year=e.school_year||t.value.school_year,t.value.club_id=e.club_id,t.value.office_department=e?.club?.name||S(e.club_id)||t.value.office_department});const C=c(()=>!!t.value.annual_plan_id),ae=()=>{if(!r.value){if(t.value.annual_plan_id="",t.value.annual_plan_item=null,g.value="",t.value.venue=null,t.value.date_of_implementation=null,w.value){const a=w.value;t.value.school_year=a.school_year,t.value.proposed_budget=a.proposed_budget,t.value.club_id=a.club_id,t.value.office_department=a.office_department}w.value=null}},G=c(()=>String(t.value?.status||"").toLowerCase()),r=c(()=>_.mode==="edit"&&G.value!=="draft");c(()=>_.mode==="edit");const se=c(()=>_.mode!=="edit"?"New Activity":r.value?"View Activity (read-only)":"Edit Activity"),ue=c(()=>_.mode==="edit"?"Save Changes":"Create"),ie=c(()=>{switch(G.value){case"draft":return"bg-gray-100 text-gray-800";case"pending":return"bg-amber-100 text-amber-800";case"approved":return"bg-emerald-100 text-emerald-700";case"rejected":return"bg-rose-100 text-rose-700";case"cancelled":return"bg-zinc-200 text-zinc-800";default:return"bg-gray-100 text-gray-800"}}),ne=()=>{if(r.value)return!1;const a={};return t.value.date_filed||(a.date_filed="Required"),t.value.semester?.trim()||(a.semester="Required"),t.value.school_year?.trim()||(a.school_year="Required"),t.value.name_of_activity?.trim()||(a.name_of_activity="Required"),t.value.date_of_implementation||(a.date_of_implementation="Required"),t.value.nature_of_activity||(a.nature_of_activity="Required"),t.value.club_id||(a.club_id="Required"),t.value.rationale?.trim()||(a.rationale="Required"),t.value.objectives?.trim()||(a.objectives="Required"),t.value.details_of_activity?.trim()||(a.details_of_activity="Required"),t.value.budgetary_requirements?.trim()||(a.budgetary_requirements="Required"),t.value.noted_by?.trim()||(a.noted_by="Required"),u.value=a,Object.keys(a).length===0},de=()=>{if(r.value||!ne())return;const a={...t.value};a.proposed_budget===""&&(a.proposed_budget=0),a.filed_by_user_id=h.value,B.value||delete a.file_by_user_name,C.value&&f.value?(a.club_id=f.value.club_id,a.office_department=f.value?.club?.name||S(f.value.club_id)||a.office_department||""):a.office_department=S(a.club_id)||a.office_department||"",a.annual_plan_id===""&&(a.annual_plan_id=null);const e=_.mode!=="edit"?"created activity design":"updated activity design";O.value.push({user_id:h.value,user_name:Y.value,message:`${Y.value} ${e}.`,datetime:new Date().toISOString(),is_read:!1}),a.remarks=JSON.stringify(O.value),$("submit",a)},oe=c(()=>_.mode==="edit"&&B.value&&String(t.value.status||"").toLowerCase()==="pending"),re=async()=>{if(!t.value?.id)return;const{value:a,isConfirmed:e}=await L.fire({title:"Cancel Activity Design?",input:"textarea",inputLabel:"Remarks (optional)",inputPlaceholder:"Reason for cancellation",showCancelButton:!0,confirmButtonText:"Cancel Activity",confirmButtonColor:"#dc2626"});if(e)try{await E.cancel(t.value.id,a||""),await L.fire("Cancelled","Activity Design has been cancelled.","success"),t.value.status="cancelled"}catch{await L.fire("Error",E.error||"Failed to cancel activity design.","error")}};return(a,e)=>{const i=ce("pending-click");return j.value?(d(),n("div",xe,[l("div",ge,[l("div",ke,[l("div",we,[l("h2",Se,o(se.value),1),l("span",{class:y(["text-[10px] px-1.5 py-0.5 rounded",ie.value])},o(t.value.status),3)]),l("button",{class:"px-2.5 py-1 text-[11px] bg-gray-200 rounded",onClick:e[0]||(e[0]=s=>j.value=!1)},"Close")]),r.value?(d(),n("div",Ae,[e[24]||(e[24]=p(" This activity has been submitted and is now ",-1)),l("strong",null,o(t.value.status),1),e[25]||(e[25]=p(". Editing is disabled. ",-1))])):v("",!0),l("div",Ce,[l("div",Ne,[e[26]||(e[26]=l("div",{class:"text-sm font-medium"},"Link to Annual Plan (optional)",-1)),!r.value&&(C.value||t.value.annual_plan_item)?(d(),n("button",{key:0,class:"text-[11px] px-2 py-1 rounded border bg-gray-50 hover:bg-gray-100",onClick:ae},"Reset Annual Plan link")):v("",!0)]),l("div",Ve,[l("div",null,[e[28]||(e[28]=l("label",{class:"block mb-0.5"},"Annual Plan",-1)),m(l("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>t.value.annual_plan_id=s),class:"w-full border rounded px-2 py-1.5",disabled:r.value},[e[27]||(e[27]=l("option",{value:""},"— Not linked —",-1)),(d(!0),n(q,null,U(z.value,s=>(d(),n("option",{key:s.id,value:s.id},o(s.reference_code)+" — SY "+o(s.school_year)+" — "+o(s?.club?.name||"Club#"+s.club_id),9,Ue))),128))],8,qe),[[V,t.value.annual_plan_id]])]),l("div",null,[e[30]||(e[30]=l("label",{class:"block mb-0.5"},"Plan Item",-1)),m(l("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>g.value=s),class:"w-full border rounded px-2 py-1.5",disabled:r.value||!t.value.annual_plan_id||!A.value.length},[e[29]||(e[29]=l("option",{value:""},"— Select item —",-1)),(d(!0),n(q,null,U(A.value,s=>(d(),n("option",{key:s.key,value:s.key},o(s.title)+" — ₱"+o(J(s.funds)),9,he))),128))],8,Ie),[[V,g.value]])]),e[31]||(e[31]=l("div",{class:"self-end text-[11px] text-gray-600"},[p(" Choosing an Annual Plan locks the "),l("strong",null,"Club"),p(". Selecting an item also auto-fills "),l("strong",null,"School Year"),p(" and "),l("strong",null,"Proposed Budget"),p(". ")],-1))]),t.value.annual_plan_item?(d(),n("div",je,[l("div",Re,[l("div",null,[e[32]||(e[32]=l("span",{class:"text-gray-500"},"Item:",-1)),l("strong",null,o(t.value.annual_plan_item.title||t.value.annual_plan_item.name||t.value.annual_plan_item.activity||"—"),1)]),l("div",null,[e[33]||(e[33]=l("span",{class:"text-gray-500"},"Funds:",-1)),l("strong",null,"₱"+o(J(t.value.annual_plan_item.funds||t.value.annual_plan_item.budget||0)),1)]),f.value?(d(),n("div",Be,[e[34]||(e[34]=l("span",{class:"text-gray-500"},"SY:",-1)),l("strong",null,o(f.value.school_year),1)])):v("",!0),f.value?.club?(d(),n("div",Pe,[e[35]||(e[35]=l("span",{class:"text-gray-500"},"Club:",-1)),l("strong",null,o(f.value.club.name)+" ("+o(f.value.club.code||"—")+")",1)])):v("",!0)])])):v("",!0)]),l("div",De,[l("div",null,[e[36]||(e[36]=l("label",{class:"block mb-0.5"},[p("Date Filed "),l("span",{class:"text-red-500"},"*")],-1)),m(l("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>t.value.date_filed=s),type:"date",class:"w-full border rounded px-2 py-1.5",disabled:r.value},null,8,Oe),[[b,t.value.date_filed]]),u.value.date_filed?(d(),n("p",Le,o(u.value.date_filed),1)):v("",!0)]),l("div",null,[e[37]||(e[37]=l("label",{class:"block mb-0.5"},[p("School Year "),l("span",{class:"text-red-500"},"*")],-1)),m(l("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>t.value.school_year=s),class:"w-full border rounded px-2 py-1.5",disabled:r.value||C.value},[(d(!0),n(q,null,U(T.value,s=>(d(),n("option",{key:s,value:s},o(s),9,$e))),128))],8,Fe),[[V,t.value.school_year]]),u.value.school_year?(d(),n("p",Ee,o(u.value.school_year),1)):v("",!0)]),l("div",null,[e[39]||(e[39]=l("label",{class:"block mb-0.5"},[p("Semester "),l("span",{class:"text-red-500"},"*")],-1)),m(l("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>t.value.semester=s),class:"w-full border rounded px-2 py-1.5",disabled:r.value},[e[38]||(e[38]=l("option",{disabled:"",value:""},"Select semester…",-1)),(d(),n(q,null,U(Q,s=>l("option",{key:s,value:s},o(s),9,Je)),64))],8,Te),[[V,t.value.semester]]),u.value.semester?(d(),n("p",Me,o(u.value.semester),1)):v("",!0)]),l("div",Ye,[e[40]||(e[40]=l("label",{class:"block mb-0.5"},[p("Name of Activity "),l("span",{class:"text-red-500"},"*")],-1)),m(l("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>t.value.name_of_activity=s),class:"w-full border rounded px-2 py-1.5",disabled:r.value},null,8,ze),[[b,t.value.name_of_activity]]),u.value.name_of_activity?(d(),n("p",Ge,o(u.value.name_of_activity),1)):v("",!0)])]),l("div",Ke,[l("div",null,[l("label",He,[e[41]||(e[41]=p(" Club ",-1)),e[42]||(e[42]=l("span",{class:"text-red-500"},"*",-1)),C.value?(d(),n("span",Qe,"locked by Annual Plan")):v("",!0)]),m(l("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>t.value.club_id=s),class:"w-full border rounded px-2 py-1.5",disabled:r.value||C.value||!!F.lockedClubId},[e[43]||(e[43]=l("option",{value:""},"Select club…",-1)),(d(!0),n(q,null,U(be(x).clubs.data||[],s=>(d(),n("option",{key:s.id,value:s.id},o(s.name),9,Xe))),128))],8,We),[[V,t.value.club_id]]),u.value.club_id?(d(),n("p",Ze,o(u.value.club_id),1)):v("",!0)]),l("div",null,[e[44]||(e[44]=l("label",{class:"block mb-0.5"},"Venue",-1)),m(l("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>t.value.venue=s),class:"w-full border rounded px-2 py-1.5",disabled:r.value},null,8,et),[[b,t.value.venue]])]),l("div",null,[e[45]||(e[45]=l("label",{class:"block mb-0.5"},[p("Date of Implementation "),l("span",{class:"text-red-500"},"*")],-1)),m(l("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>t.value.date_of_implementation=s),type:"date",class:y(["w-full border rounded px-2 py-1.5",u.value.date_of_implementation?"border-red-500":""]),disabled:r.value,"aria-invalid":!!u.value.date_of_implementation},null,10,tt),[[b,t.value.date_of_implementation]]),u.value.date_of_implementation?(d(),n("p",lt,o(u.value.date_of_implementation),1)):v("",!0)])]),l("div",at,[l("div",null,[e[46]||(e[46]=l("label",{class:"block mb-0.5"},"Proposed Budget",-1)),m(l("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>t.value.proposed_budget=s),type:"number",step:"0.01",min:"0",class:"w-full border rounded px-2 py-1.5",disabled:r.value},null,8,st),[[b,t.value.proposed_budget]])]),l("div",null,[e[47]||(e[47]=l("label",{class:"block mb-0.5"},[p("Nature of Activity "),l("span",{class:"text-red-500"},"*")],-1)),m(l("select",{"onUpdate:modelValue":e[11]||(e[11]=s=>t.value.nature_of_activity=s),class:y(["w-full border rounded px-2 py-1.5",u.value.nature_of_activity?"border-red-500":""]),disabled:r.value,"aria-invalid":!!u.value.nature_of_activity},[(d(),n(q,null,U(W,s=>l("option",{key:s,value:s},o(s),9,it)),64))],10,ut),[[V,t.value.nature_of_activity]]),u.value.nature_of_activity?(d(),n("p",nt,o(u.value.nature_of_activity),1)):v("",!0)]),l("div",null,[e[48]||(e[48]=l("label",{class:"block mb-0.5"},"Participants",-1)),m(l("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>t.value.participants=s),class:"w-full border rounded px-2 py-1.5",disabled:r.value},null,8,dt),[[b,t.value.participants]])])]),l("div",ot,[l("div",null,[e[49]||(e[49]=l("label",{class:"block mb-0.5"},[p("Rationale "),l("span",{class:"text-red-500"},"*")],-1)),m(l("textarea",{"onUpdate:modelValue":e[13]||(e[13]=s=>t.value.rationale=s),rows:"3",class:y(["w-full border rounded px-2 py-1.5",u.value.rationale?"border-red-500":""]),disabled:r.value,"aria-invalid":!!u.value.rationale},null,10,rt),[[b,t.value.rationale]]),u.value.rationale?(d(),n("p",vt,o(u.value.rationale),1)):v("",!0)]),l("div",null,[e[50]||(e[50]=l("label",{class:"block mb-0.5"},[p("Objectives "),l("span",{class:"text-red-500"},"*")],-1)),m(l("textarea",{"onUpdate:modelValue":e[14]||(e[14]=s=>t.value.objectives=s),rows:"3",class:y(["w-full border rounded px-2 py-1.5",u.value.objectives?"border-red-500":""]),disabled:r.value,"aria-invalid":!!u.value.objectives},null,10,mt),[[b,t.value.objectives]]),u.value.objectives?(d(),n("p",pt,o(u.value.objectives),1)):v("",!0)])]),l("div",ct,[l("div",null,[e[51]||(e[51]=l("label",{class:"block mb-0.5"},[p("Details of the Activity "),l("span",{class:"text-red-500"},"*")],-1)),m(l("textarea",{"onUpdate:modelValue":e[15]||(e[15]=s=>t.value.details_of_activity=s),rows:"4",class:y(["w-full border rounded px-2 py-1.5",u.value.details_of_activity?"border-red-500":""]),disabled:r.value,"aria-invalid":!!u.value.details_of_activity},null,10,bt),[[b,t.value.details_of_activity]]),u.value.details_of_activity?(d(),n("p",_t,o(u.value.details_of_activity),1)):v("",!0)]),l("div",null,[e[52]||(e[52]=l("label",{class:"block mb-0.5"},[p("Budgetary Requirements "),l("span",{class:"text-red-500"},"*")],-1)),m(l("textarea",{"onUpdate:modelValue":e[16]||(e[16]=s=>t.value.budgetary_requirements=s),rows:"4",class:y(["w-full border rounded px-2 py-1.5",u.value.budgetary_requirements?"border-red-500":""]),disabled:r.value,"aria-invalid":!!u.value.budgetary_requirements},null,10,ft),[[b,t.value.budgetary_requirements]]),u.value.budgetary_requirements?(d(),n("p",yt,o(u.value.budgetary_requirements),1)):v("",!0)])]),B.value?(d(),n("div",xt,[e[53]||(e[53]=l("label",{class:"block mb-0.5"},"Filer Name Override (optional)",-1)),m(l("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>t.value.file_by_user_name=s),class:"w-full border rounded px-2 py-1.5",disabled:r.value,placeholder:"If provided, this name appears as the filer"},null,8,gt),[[b,t.value.file_by_user_name]])])):v("",!0),l("div",kt,[e[54]||(e[54]=l("label",{class:"block mb-0.5"},[p("Adviser (Noted by) "),l("span",{class:"text-red-500"},"*")],-1)),m(l("input",{"onUpdate:modelValue":e[18]||(e[18]=s=>t.value.noted_by=s),class:y(["w-full border rounded px-2 py-1.5",u.value.noted_by?"border-red-500":""]),disabled:r.value||te.value,placeholder:"Adviser name (noted by)",onInput:e[19]||(e[19]=s=>P.value=!1)},null,42,wt),[[b,t.value.noted_by]]),u.value.noted_by?(d(),n("p",St,o(u.value.noted_by),1)):v("",!0)]),m(l("input",{type:"hidden","onUpdate:modelValue":e[20]||(e[20]=s=>t.value.filed_by_user_id=s)},null,512),[[b,t.value.filed_by_user_id]]),m(l("input",{type:"hidden","onUpdate:modelValue":e[21]||(e[21]=s=>t.value.office_department=s)},null,512),[[b,t.value.office_department]]),m(l("input",{type:"hidden","onUpdate:modelValue":e[22]||(e[22]=s=>t.value.status=s)},null,512),[[b,t.value.status]]),l("div",At,[l("button",{class:"px-3 py-1.5 bg-gray-200 rounded text-xs",onClick:e[23]||(e[23]=s=>j.value=!1)},"Close"),oe.value?(d(),n("button",{key:0,class:"px-3 py-1.5 bg-red-600 text-white rounded text-xs",onClick:re}," Cancel Activity ")):v("",!0),r.value?v("",!0):m((d(),n("button",Ct,[p(o(ue.value),1)])),[[i,de]])])])])):v("",!0)}}};export{It as _};
